<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://hahg2000.github.io/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html"><meta property="og:title" content="算法六"><meta property="og:description" content="算法六 四十一、用栈实现队列 原题链接： https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&amp;mid=2247485449&amp;idx=1&amp;sn=91d22371d76fdb58508b596798288430&amp;chksm=fd9ca316caeb2a005aac5e79d9e8fde74e3294ef117160233881ab32d915c8ec4bc255ec7e24&amp;cur_album_id=1715134171561410565&amp;scene=189#wechat_redirect"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-03-12T04:21:01.000Z"><meta property="article:modified_time" content="2023-03-12T04:21:01.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"算法六","image":[""],"dateModified":"2023-03-12T04:21:01.000Z","author":[]}</script><title>算法六</title><meta name="description" content="算法六 四十一、用栈实现队列 原题链接： https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&amp;mid=2247485449&amp;idx=1&amp;sn=91d22371d76fdb58508b596798288430&amp;chksm=fd9ca316caeb2a005aac5e79d9e8fde74e3294ef117160233881ab32d915c8ec4bc255ec7e24&amp;cur_album_id=1715134171561410565&amp;scene=189#wechat_redirect">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-ab8bf0f6.css" as="style"><link rel="stylesheet" href="/assets/style-ab8bf0f6.css">
    <link rel="modulepreload" href="/assets/app-db3d7ca3.js"><link rel="modulepreload" href="/assets/framework-0bc3c581.js"><link rel="modulepreload" href="/assets/算法六-10月3.html-fac88cf9.js"><link rel="modulepreload" href="/assets/算法六-10月3.html-d2e63f98.js"><link rel="prefetch" href="/assets/index.html-9df45166.js" as="script"><link rel="prefetch" href="/assets/intro.html-adbbf85d.js" as="script"><link rel="prefetch" href="/assets/slides.html-7f638638.js" as="script"><link rel="prefetch" href="/assets/index.html-3ab04f5b.js" as="script"><link rel="prefetch" href="/assets/disable.html-d80e5a91.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-06c77061.js" as="script"><link rel="prefetch" href="/assets/markdown.html-11a50f88.js" as="script"><link rel="prefetch" href="/assets/page.html-6d440c97.js" as="script"><link rel="prefetch" href="/assets/cherry.html-b82e5dcd.js" as="script"><link rel="prefetch" href="/assets/dragonfruit.html-795be693.js" as="script"><link rel="prefetch" href="/assets/strawberry.html-4bc18b47.js" as="script"><link rel="prefetch" href="/assets/tomato.html-02af87f0.js" as="script"><link rel="prefetch" href="/assets/index.html-2e360864.js" as="script"><link rel="prefetch" href="/assets/看番时间轴.html-595fe83f.js" as="script"><link rel="prefetch" href="/assets/1.html-276cd7b0.js" as="script"><link rel="prefetch" href="/assets/2.html-849f10d5.js" as="script"><link rel="prefetch" href="/assets/3.html-7d86b04d.js" as="script"><link rel="prefetch" href="/assets/4.html-99899815.js" as="script"><link rel="prefetch" href="/assets/1.html-7ba0c550.js" as="script"><link rel="prefetch" href="/assets/2.html-ff39ab51.js" as="script"><link rel="prefetch" href="/assets/3.html-10475dc5.js" as="script"><link rel="prefetch" href="/assets/4.html-762a2722.js" as="script"><link rel="prefetch" href="/assets/1.html-2f127a72.js" as="script"><link rel="prefetch" href="/assets/2.html-081504f9.js" as="script"><link rel="prefetch" href="/assets/3.html-3f5f8878.js" as="script"><link rel="prefetch" href="/assets/4.html-0dfca14a.js" as="script"><link rel="prefetch" href="/assets/index.html-ee05ccd0.js" as="script"><link rel="prefetch" href="/assets/重学CSS-上.html-0770cf73.js" as="script"><link rel="prefetch" href="/assets/重学CSS-中.html-1af91934.js" as="script"><link rel="prefetch" href="/assets/重学HTML-上.html-d68447f3.js" as="script"><link rel="prefetch" href="/assets/重学HTML-下.html-1787ce5a.js" as="script"><link rel="prefetch" href="/assets/错题一.html-200f929c.js" as="script"><link rel="prefetch" href="/assets/面试题一.html-47cd9406.js" as="script"><link rel="prefetch" href="/assets/SQL速记.html-f882422f.js" as="script"><link rel="prefetch" href="/assets/Git学习.html-7401275c.js" as="script"><link rel="prefetch" href="/assets/编程规范.html-58fb792d.js" as="script"><link rel="prefetch" href="/assets/index.html-ab3bec7a.js" as="script"><link rel="prefetch" href="/assets/算法一-6月24.html-9207e104.js" as="script"><link rel="prefetch" href="/assets/算法七.html-a8d66c93.js" as="script"><link rel="prefetch" href="/assets/算法三-7月28.html-00aca81f.js" as="script"><link rel="prefetch" href="/assets/算法二-7月11.html-8b6980e9.js" as="script"><link rel="prefetch" href="/assets/算法五-8月28.html-e98a0560.js" as="script"><link rel="prefetch" href="/assets/算法四-8月11-动态规划合集.html-45425672.js" as="script"><link rel="prefetch" href="/assets/Vue-上.html-cdb1e86c.js" as="script"><link rel="prefetch" href="/assets/Vue-下之源码分析.html-cfaf3f55.js" as="script"><link rel="prefetch" href="/assets/Vue-中之项目开发.html-d57d84e3.js" as="script"><link rel="prefetch" href="/assets/jQuery-上.html-a9ca9cdf.js" as="script"><link rel="prefetch" href="/assets/jQuery-下.html-7e47047e.js" as="script"><link rel="prefetch" href="/assets/jQuery-中.html-c7a042db.js" as="script"><link rel="prefetch" href="/assets/ES6-上.html-f92c9a52.js" as="script"><link rel="prefetch" href="/assets/ES6-中.html-93da71e0.js" as="script"><link rel="prefetch" href="/assets/原生JS-下.html-6c91736e.js" as="script"><link rel="prefetch" href="/assets/原生JS高级-上.html-68422655.js" as="script"><link rel="prefetch" href="/assets/原生JS高级-中.html-d8bffee8.js" as="script"><link rel="prefetch" href="/assets/Node-上之基本知识.html-0934aaff.js" as="script"><link rel="prefetch" href="/assets/Node-下之综合Web项目.html-36d2a263.js" as="script"><link rel="prefetch" href="/assets/Node-中之框架使用.html-89176d5b.js" as="script"><link rel="prefetch" href="/assets/一、入门.html-85307929.js" as="script"><link rel="prefetch" href="/assets/一、MyBatis入门.html-271cb533.js" as="script"><link rel="prefetch" href="/assets/二、单表的 CURD 操作.html-fe7c5e66.js" as="script"><link rel="prefetch" href="/assets/五、Mybatis注解式开发.html-ca54046f.js" as="script"><link rel="prefetch" href="/assets/四、查询缓存.html-52cf5ba5.js" as="script"><link rel="prefetch" href="/assets/一、SSM框架前言-系统架构.html-382de181.js" as="script"><link rel="prefetch" href="/assets/三、SSM框架前言-代理模式.html-9e9961e1.js" as="script"><link rel="prefetch" href="/assets/五、SSM框架前言-模板方法设计模式.html-a32252a1.js" as="script"><link rel="prefetch" href="/assets/六、JUnit测试.html-403114f5.js" as="script"><link rel="prefetch" href="/assets/一、Spring概述.html-ba031fdc.js" as="script"><link rel="prefetch" href="/assets/三、Spring与AOP.html-f93458aa.js" as="script"><link rel="prefetch" href="/assets/二、Spring与IoC.html-655c6465.js" as="script"><link rel="prefetch" href="/assets/五、Spring与MyBatis.html-09d6b6cb.js" as="script"><link rel="prefetch" href="/assets/六、Spring与Web.html-995200ab.js" as="script"><link rel="prefetch" href="/assets/一、SpringMVC概述.html-7c5c24f6.js" as="script"><link rel="prefetch" href="/assets/三、SpringMVC注解式开发.html-a0d5c2aa.js" as="script"><link rel="prefetch" href="/assets/二、SpringMVC配置式开发.html-70a08a4f.js" as="script"><link rel="prefetch" href="/assets/404.html-efcc4ebc.js" as="script"><link rel="prefetch" href="/assets/index.html-bd04a936.js" as="script"><link rel="prefetch" href="/assets/index.html-6f92be97.js" as="script"><link rel="prefetch" href="/assets/index.html-6c35a0bc.js" as="script"><link rel="prefetch" href="/assets/index.html-1e5f0076.js" as="script"><link rel="prefetch" href="/assets/index.html-bf280449.js" as="script"><link rel="prefetch" href="/assets/index.html-81aecb1c.js" as="script"><link rel="prefetch" href="/assets/index.html-3d87b291.js" as="script"><link rel="prefetch" href="/assets/index.html-97643c41.js" as="script"><link rel="prefetch" href="/assets/index.html-c905224a.js" as="script"><link rel="prefetch" href="/assets/index.html-f0da6d98.js" as="script"><link rel="prefetch" href="/assets/index.html-2c8bb604.js" as="script"><link rel="prefetch" href="/assets/index.html-b3c88545.js" as="script"><link rel="prefetch" href="/assets/index.html-4ae9c5d9.js" as="script"><link rel="prefetch" href="/assets/index.html-76586c71.js" as="script"><link rel="prefetch" href="/assets/index.html-aa72d960.js" as="script"><link rel="prefetch" href="/assets/index.html-c20dbb5c.js" as="script"><link rel="prefetch" href="/assets/index.html-93e2d5b2.js" as="script"><link rel="prefetch" href="/assets/index.html-141ec11b.js" as="script"><link rel="prefetch" href="/assets/index.html-78921856.js" as="script"><link rel="prefetch" href="/assets/index.html-90b68312.js" as="script"><link rel="prefetch" href="/assets/index.html-b1b6febe.js" as="script"><link rel="prefetch" href="/assets/index.html-7e39f4a3.js" as="script"><link rel="prefetch" href="/assets/index.html-65f13d8b.js" as="script"><link rel="prefetch" href="/assets/index.html-46f1fd5e.js" as="script"><link rel="prefetch" href="/assets/index.html-f74a679d.js" as="script"><link rel="prefetch" href="/assets/index.html-58bda7ed.js" as="script"><link rel="prefetch" href="/assets/index.html-6000d147.js" as="script"><link rel="prefetch" href="/assets/index.html-f61bc6c6.js" as="script"><link rel="prefetch" href="/assets/index.html-6653f22b.js" as="script"><link rel="prefetch" href="/assets/index.html-b960d5c5.js" as="script"><link rel="prefetch" href="/assets/index.html-26872c0c.js" as="script"><link rel="prefetch" href="/assets/index.html-26a45014.js" as="script"><link rel="prefetch" href="/assets/index.html-24ae2900.js" as="script"><link rel="prefetch" href="/assets/index.html-c949d1bd.js" as="script"><link rel="prefetch" href="/assets/index.html-0d148fa7.js" as="script"><link rel="prefetch" href="/assets/index.html-de7271a1.js" as="script"><link rel="prefetch" href="/assets/index.html-303ab87b.js" as="script"><link rel="prefetch" href="/assets/index.html-49058c9d.js" as="script"><link rel="prefetch" href="/assets/index.html-b3a32933.js" as="script"><link rel="prefetch" href="/assets/index.html-d25738e1.js" as="script"><link rel="prefetch" href="/assets/index.html-62bf9664.js" as="script"><link rel="prefetch" href="/assets/index.html-af24ef5c.js" as="script"><link rel="prefetch" href="/assets/index.html-b4c58504.js" as="script"><link rel="prefetch" href="/assets/index.html-1f6e8605.js" as="script"><link rel="prefetch" href="/assets/index.html-48a5c7a9.js" as="script"><link rel="prefetch" href="/assets/index.html-a2542a15.js" as="script"><link rel="prefetch" href="/assets/intro.html-0e3a0a94.js" as="script"><link rel="prefetch" href="/assets/slides.html-c46f1fa5.js" as="script"><link rel="prefetch" href="/assets/index.html-96088dc1.js" as="script"><link rel="prefetch" href="/assets/disable.html-6c8e9d4a.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-bb38061b.js" as="script"><link rel="prefetch" href="/assets/markdown.html-4b1416c3.js" as="script"><link rel="prefetch" href="/assets/page.html-c52847ad.js" as="script"><link rel="prefetch" href="/assets/cherry.html-1910e521.js" as="script"><link rel="prefetch" href="/assets/dragonfruit.html-900e0fa2.js" as="script"><link rel="prefetch" href="/assets/strawberry.html-3b3dcb67.js" as="script"><link rel="prefetch" href="/assets/tomato.html-56c553fc.js" as="script"><link rel="prefetch" href="/assets/index.html-c21f464d.js" as="script"><link rel="prefetch" href="/assets/看番时间轴.html-c616c056.js" as="script"><link rel="prefetch" href="/assets/1.html-ce58a1ec.js" as="script"><link rel="prefetch" href="/assets/2.html-00cbb83a.js" as="script"><link rel="prefetch" href="/assets/3.html-2048db5d.js" as="script"><link rel="prefetch" href="/assets/4.html-be2ec801.js" as="script"><link rel="prefetch" href="/assets/1.html-91a450b8.js" as="script"><link rel="prefetch" href="/assets/2.html-c885e308.js" as="script"><link rel="prefetch" href="/assets/3.html-55c7ca4b.js" as="script"><link rel="prefetch" href="/assets/4.html-9139a7a6.js" as="script"><link rel="prefetch" href="/assets/1.html-ffe0c455.js" as="script"><link rel="prefetch" href="/assets/2.html-361fe5a1.js" as="script"><link rel="prefetch" href="/assets/3.html-c9500b76.js" as="script"><link rel="prefetch" href="/assets/4.html-cb6c768d.js" as="script"><link rel="prefetch" href="/assets/index.html-5a242ae6.js" as="script"><link rel="prefetch" href="/assets/重学CSS-上.html-342c2455.js" as="script"><link rel="prefetch" href="/assets/重学CSS-中.html-04311e7a.js" as="script"><link rel="prefetch" href="/assets/重学HTML-上.html-afe7de8e.js" as="script"><link rel="prefetch" href="/assets/重学HTML-下.html-9c3d1244.js" as="script"><link rel="prefetch" href="/assets/错题一.html-48cd8b87.js" as="script"><link rel="prefetch" href="/assets/面试题一.html-13340517.js" as="script"><link rel="prefetch" href="/assets/SQL速记.html-f0b780d2.js" as="script"><link rel="prefetch" href="/assets/Git学习.html-cd4eec14.js" as="script"><link rel="prefetch" href="/assets/编程规范.html-3512881a.js" as="script"><link rel="prefetch" href="/assets/index.html-6c1e2f4d.js" as="script"><link rel="prefetch" href="/assets/算法一-6月24.html-48e284f5.js" as="script"><link rel="prefetch" href="/assets/算法七.html-371caba5.js" as="script"><link rel="prefetch" href="/assets/算法三-7月28.html-171f529f.js" as="script"><link rel="prefetch" href="/assets/算法二-7月11.html-e0d3275c.js" as="script"><link rel="prefetch" href="/assets/算法五-8月28.html-f4ef53d2.js" as="script"><link rel="prefetch" href="/assets/算法四-8月11-动态规划合集.html-e8f73f5c.js" as="script"><link rel="prefetch" href="/assets/Vue-上.html-931622d1.js" as="script"><link rel="prefetch" href="/assets/Vue-下之源码分析.html-5c3a16aa.js" as="script"><link rel="prefetch" href="/assets/Vue-中之项目开发.html-2ac7290b.js" as="script"><link rel="prefetch" href="/assets/jQuery-上.html-ab024659.js" as="script"><link rel="prefetch" href="/assets/jQuery-下.html-0370e9e1.js" as="script"><link rel="prefetch" href="/assets/jQuery-中.html-ae849b87.js" as="script"><link rel="prefetch" href="/assets/ES6-上.html-f2be8bab.js" as="script"><link rel="prefetch" href="/assets/ES6-中.html-e74d8a0e.js" as="script"><link rel="prefetch" href="/assets/原生JS-下.html-add4807a.js" as="script"><link rel="prefetch" href="/assets/原生JS高级-上.html-4e665d5d.js" as="script"><link rel="prefetch" href="/assets/原生JS高级-中.html-c4949f16.js" as="script"><link rel="prefetch" href="/assets/Node-上之基本知识.html-bd48d4f2.js" as="script"><link rel="prefetch" href="/assets/Node-下之综合Web项目.html-ede8b33f.js" as="script"><link rel="prefetch" href="/assets/Node-中之框架使用.html-3ecd7b29.js" as="script"><link rel="prefetch" href="/assets/一、入门.html-6d3d093a.js" as="script"><link rel="prefetch" href="/assets/一、MyBatis入门.html-7439291f.js" as="script"><link rel="prefetch" href="/assets/二、单表的 CURD 操作.html-ee016dbd.js" as="script"><link rel="prefetch" href="/assets/五、Mybatis注解式开发.html-16c45e66.js" as="script"><link rel="prefetch" href="/assets/四、查询缓存.html-cfae64dd.js" as="script"><link rel="prefetch" href="/assets/一、SSM框架前言-系统架构.html-80eca685.js" as="script"><link rel="prefetch" href="/assets/三、SSM框架前言-代理模式.html-e1caba00.js" as="script"><link rel="prefetch" href="/assets/五、SSM框架前言-模板方法设计模式.html-39b04b99.js" as="script"><link rel="prefetch" href="/assets/六、JUnit测试.html-76bafbaf.js" as="script"><link rel="prefetch" href="/assets/一、Spring概述.html-08ef918a.js" as="script"><link rel="prefetch" href="/assets/三、Spring与AOP.html-af5faaa2.js" as="script"><link rel="prefetch" href="/assets/二、Spring与IoC.html-11ef3a07.js" as="script"><link rel="prefetch" href="/assets/五、Spring与MyBatis.html-99fdc89f.js" as="script"><link rel="prefetch" href="/assets/六、Spring与Web.html-1cc20aee.js" as="script"><link rel="prefetch" href="/assets/一、SpringMVC概述.html-10fe1df4.js" as="script"><link rel="prefetch" href="/assets/三、SpringMVC注解式开发.html-548eab08.js" as="script"><link rel="prefetch" href="/assets/二、SpringMVC配置式开发.html-5f176ceb.js" as="script"><link rel="prefetch" href="/assets/404.html-3983e255.js" as="script"><link rel="prefetch" href="/assets/index.html-e3941249.js" as="script"><link rel="prefetch" href="/assets/index.html-5fb822c8.js" as="script"><link rel="prefetch" href="/assets/index.html-02d89180.js" as="script"><link rel="prefetch" href="/assets/index.html-6a3c1a9d.js" as="script"><link rel="prefetch" href="/assets/index.html-9fe7551c.js" as="script"><link rel="prefetch" href="/assets/index.html-58f620f5.js" as="script"><link rel="prefetch" href="/assets/index.html-873e4041.js" as="script"><link rel="prefetch" href="/assets/index.html-0bdf1a93.js" as="script"><link rel="prefetch" href="/assets/index.html-1531aedb.js" as="script"><link rel="prefetch" href="/assets/index.html-cdf863ac.js" as="script"><link rel="prefetch" href="/assets/index.html-6765b87b.js" as="script"><link rel="prefetch" href="/assets/index.html-c7bee957.js" as="script"><link rel="prefetch" href="/assets/index.html-dcfa8837.js" as="script"><link rel="prefetch" href="/assets/index.html-c87fb8e7.js" as="script"><link rel="prefetch" href="/assets/index.html-ad1e451f.js" as="script"><link rel="prefetch" href="/assets/index.html-64fd6aef.js" as="script"><link rel="prefetch" href="/assets/index.html-4311916c.js" as="script"><link rel="prefetch" href="/assets/index.html-d7f37f62.js" as="script"><link rel="prefetch" href="/assets/index.html-1f214b66.js" as="script"><link rel="prefetch" href="/assets/index.html-f150d250.js" as="script"><link rel="prefetch" href="/assets/index.html-cf1ab53a.js" as="script"><link rel="prefetch" href="/assets/index.html-cc8b4310.js" as="script"><link rel="prefetch" href="/assets/index.html-ab2884cb.js" as="script"><link rel="prefetch" href="/assets/index.html-1a50878f.js" as="script"><link rel="prefetch" href="/assets/index.html-d1fab6fe.js" as="script"><link rel="prefetch" href="/assets/index.html-b7c8eb3a.js" as="script"><link rel="prefetch" href="/assets/index.html-54c80a17.js" as="script"><link rel="prefetch" href="/assets/index.html-f4d43e4f.js" as="script"><link rel="prefetch" href="/assets/index.html-c5276b56.js" as="script"><link rel="prefetch" href="/assets/index.html-93c33bee.js" as="script"><link rel="prefetch" href="/assets/index.html-35dc1e46.js" as="script"><link rel="prefetch" href="/assets/index.html-30932015.js" as="script"><link rel="prefetch" href="/assets/index.html-32b97a04.js" as="script"><link rel="prefetch" href="/assets/index.html-7d5ca31e.js" as="script"><link rel="prefetch" href="/assets/index.html-584974e7.js" as="script"><link rel="prefetch" href="/assets/index.html-0774687b.js" as="script"><link rel="prefetch" href="/assets/index.html-40d20088.js" as="script"><link rel="prefetch" href="/assets/index.html-08dc8ff8.js" as="script"><link rel="prefetch" href="/assets/index.html-14ccab1e.js" as="script"><link rel="prefetch" href="/assets/index.html-8211b2d9.js" as="script"><link rel="prefetch" href="/assets/index.html-e4a30286.js" as="script"><link rel="prefetch" href="/assets/index.html-20910d66.js" as="script"><link rel="prefetch" href="/assets/index.html-b1b854bf.js" as="script"><link rel="prefetch" href="/assets/index.html-743d5d41.js" as="script"><link rel="prefetch" href="/assets/index.html-4a1f0917.js" as="script"><link rel="prefetch" href="/assets/giscus-9b97f17f.js" as="script"><link rel="prefetch" href="/assets/auto-ba5ecab5.js" as="script"><link rel="prefetch" href="/assets/index-8764208e.js" as="script"><link rel="prefetch" href="/assets/flowchart-35969cab.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-9b6ba9a7.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-a794bb63.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-d92a2fc9.js" as="script"><link rel="prefetch" href="/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/assets/notes.esm-224f94d9.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-e5069ce0.js" as="script"><link rel="prefetch" href="/assets/search.esm-2c3fba7d.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/assets/VuePlayground-9174b49b.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-6e6cbe40.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.svg" alt><!----><!----></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/%E5%AD%A6%E4%B9%A0/" class="nav-link active" aria-label="学习"><span class="font-icon icon iconfont icon-creative" style=""></span>学习<!----></a></div><div class="nav-item hide-in-mobile"><a href="/%E6%97%A5%E5%B8%B8/" class="nav-link" aria-label="日常"><span class="font-icon icon iconfont icon-edit" style=""></span>日常<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://vuepress-theme-hope.github.io/v2/zh/" rel="noopener noreferrer" target="_blank" aria-label="关于我" class="nav-link"><span class="font-icon icon iconfont icon-light" style=""></span>关于我<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="/timeline/" class="nav-link" aria-label="时间轴"><span class="font-icon icon iconfont icon-time" style=""></span>时间轴<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://vuepress-theme-hope.github.io/v2/zh/" rel="noopener noreferrer" target="_blank" aria-label="常用链接" class="nav-link"><span class="font-icon icon iconfont icon-network" style=""></span>常用链接<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Haskell中文文档</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">前端</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">后端</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">工具</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">算法</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/" class="nav-link sidebar-link sidebar-page" aria-label="算法"><!---->算法<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E4%B8%80-6%E6%9C%8824.html" class="nav-link sidebar-link sidebar-page" aria-label="算法一-6月24"><!---->算法一-6月24<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E4%B8%83.html" class="nav-link sidebar-link sidebar-page" aria-label="算法七"><!---->算法七<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E4%B8%89-7%E6%9C%8828.html" class="nav-link sidebar-link sidebar-page" aria-label="算法三-7月28"><!---->算法三-7月28<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E4%BA%8C-7%E6%9C%8811.html" class="nav-link sidebar-link sidebar-page" aria-label="算法二-7月11"><!---->算法二-7月11<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E4%BA%94-8%E6%9C%8828.html" class="nav-link sidebar-link sidebar-page" aria-label="算法五-8月28"><!---->算法五-8月28<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="算法六"><!---->算法六<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十一、用栈实现队列" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="四十一、用栈实现队列"><!---->四十一、用栈实现队列<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-o-n-解法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（1）O(n)解法"><!---->（1）O(n)解法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_2-均摊o-1-解法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（2）均摊O(1)解法"><!---->（2）均摊O(1)解法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_3-均摊复杂度" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（3）均摊复杂度"><!---->（3）均摊复杂度<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十二、用队列实现栈" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="四十二、用队列实现栈"><!---->四十二、用队列实现栈<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-双队列解法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（1）双队列解法"><!---->（1）双队列解法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_2-单队列解法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（2）单队列解法"><!---->（2）单队列解法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_3-总结" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（3）总结"><!---->（3）总结<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十三、最小栈" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="四十三、最小栈"><!---->四十三、最小栈<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-思路" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（1）思路"><!---->（1）思路<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_2-解法详情" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（2）解法详情"><!---->（2）解法详情<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_3-全部代码" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（3）全部代码"><!---->（3）全部代码<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十四、最大得分的路径数目" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="四十四、最大得分的路径数目"><!---->四十四、最大得分的路径数目<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-动态规划" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（1）动态规划"><!---->（1）动态规划<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十五、在系统中查找重复文件" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="四十五、在系统中查找重复文件"><!---->四十五、在系统中查找重复文件<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-java代码" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（1）Java代码"><!---->（1）Java代码<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_2-js代码" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（2）JS代码"><!---->（2）JS代码<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十六、贴纸拼词" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="四十六、贴纸拼词"><!---->四十六、贴纸拼词<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-暴力解法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（1）暴力解法"><!---->（1）暴力解法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_2-动态规划-深度优先" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（2）动态规划-深度优先"><!---->（2）动态规划-深度优先<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_3-动态规划-广度优先" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（3）动态规划-广度优先"><!---->（3）动态规划-广度优先<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十七、水果成篮" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="四十七、水果成篮"><!---->四十七、水果成篮<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-双指针滑动窗口" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（1）双指针滑动窗口"><!---->（1）双指针滑动窗口<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十八、1696-跳跃游戏-vi" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="四十八、1696. 跳跃游戏 VI"><!---->四十八、1696. 跳跃游戏 VI<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-简单的动态规划" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（1）简单的动态规划"><!---->（1）简单的动态规划<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_2-初步优化" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（2）初步优化"><!---->（2）初步优化<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_3-特性优化" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（3）特性优化"><!---->（3）特性优化<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_4-贪心优化" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（4）贪心优化"><!---->（4）贪心优化<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%9B%9B-8%E6%9C%8811-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E5%90%88%E9%9B%86.html" class="nav-link sidebar-link sidebar-page" aria-label="算法四-8月11-动态规划合集"><!---->算法四-8月11-动态规划合集<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->算法六</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://mrhope.site" target="_blank" rel="noopener noreferrer">hahg</a></span><span property="author" content="hahg"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-03-12T04:21:01.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 36 分钟</span><meta property="timeRequired" content="PT36M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十一、用栈实现队列" class="router-link-active router-link-exact-active toc-link level2">四十一、用栈实现队列</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-o-n-解法" class="router-link-active router-link-exact-active toc-link level3">（1）O(n)解法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_2-均摊o-1-解法" class="router-link-active router-link-exact-active toc-link level3">（2）均摊O(1)解法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_3-均摊复杂度" class="router-link-active router-link-exact-active toc-link level3">（3）均摊复杂度</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十二、用队列实现栈" class="router-link-active router-link-exact-active toc-link level2">四十二、用队列实现栈</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-双队列解法" class="router-link-active router-link-exact-active toc-link level3">（1）双队列解法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_2-单队列解法" class="router-link-active router-link-exact-active toc-link level3">（2）单队列解法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_3-总结" class="router-link-active router-link-exact-active toc-link level3">（3）总结</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十三、最小栈" class="router-link-active router-link-exact-active toc-link level2">四十三、最小栈</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-思路" class="router-link-active router-link-exact-active toc-link level3">（1）思路</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_2-解法详情" class="router-link-active router-link-exact-active toc-link level3">（2）解法详情</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_3-全部代码" class="router-link-active router-link-exact-active toc-link level3">（3）全部代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十四、最大得分的路径数目" class="router-link-active router-link-exact-active toc-link level2">四十四、最大得分的路径数目</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-动态规划" class="router-link-active router-link-exact-active toc-link level3">（1）动态规划</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十五、在系统中查找重复文件" class="router-link-active router-link-exact-active toc-link level2">四十五、在系统中查找重复文件</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-java代码" class="router-link-active router-link-exact-active toc-link level3">（1）Java代码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_2-js代码" class="router-link-active router-link-exact-active toc-link level3">（2）JS代码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十六、贴纸拼词" class="router-link-active router-link-exact-active toc-link level2">四十六、贴纸拼词</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-暴力解法" class="router-link-active router-link-exact-active toc-link level3">（1）暴力解法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_2-动态规划-深度优先" class="router-link-active router-link-exact-active toc-link level3">（2）动态规划-深度优先</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_3-动态规划-广度优先" class="router-link-active router-link-exact-active toc-link level3">（3）动态规划-广度优先</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十七、水果成篮" class="router-link-active router-link-exact-active toc-link level2">四十七、水果成篮</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-双指针滑动窗口" class="router-link-active router-link-exact-active toc-link level3">（1）双指针滑动窗口</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#四十八、1696-跳跃游戏-vi" class="router-link-active router-link-exact-active toc-link level2">四十八、1696. 跳跃游戏 VI</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_1-简单的动态规划" class="router-link-active router-link-exact-active toc-link level3">（1）简单的动态规划</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_2-初步优化" class="router-link-active router-link-exact-active toc-link level3">（2）初步优化</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_3-特性优化" class="router-link-active router-link-exact-active toc-link level3">（3）特性优化</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%85%AD-10%E6%9C%883.html#_4-贪心优化" class="router-link-active router-link-exact-active toc-link level3">（4）贪心优化</a></li><!----><!--]--></ul><!--]--></ul></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="算法六" tabindex="-1"><a class="header-anchor" href="#算法六" aria-hidden="true">#</a> 算法六</h1><h2 id="四十一、用栈实现队列" tabindex="-1"><a class="header-anchor" href="#四十一、用栈实现队列" aria-hidden="true">#</a> 四十一、用栈实现队列</h2><p>原题链接：</p><p><a href="https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&amp;mid=2247485449&amp;idx=1&amp;sn=91d22371d76fdb58508b596798288430&amp;chksm=fd9ca316caeb2a005aac5e79d9e8fde74e3294ef117160233881ab32d915c8ec4bc255ec7e24&amp;cur_album_id=1715134171561410565&amp;scene=189#wechat_redirect" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&amp;mid=2247485449&amp;idx=1&amp;sn=91d22371d76fdb58508b596798288430&amp;chksm=fd9ca316caeb2a005aac5e79d9e8fde74e3294ef117160233881ab32d915c8ec4bc255ec7e24&amp;cur_album_id=1715134171561410565&amp;scene=189#wechat_redirect<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>这是 LeetCode 上的**「232. 用栈实现队列」**，难度为 <strong>Easy</strong>。</p><p>请你仅使用两个栈实现先入先出队列。队列应当支持一般队列支持的所有操作（push、pop、peek、empty）：</p><p>实现 MyQueue 类：</p><ul><li>void push(int x) 将元素 x 推到队列的末尾</li><li>int pop() 从队列的开头移除并返回元素</li><li>int peek() 返回队列开头的元素</li><li>boolean empty() 如果队列为空，返回 true ；否则，返回 false</li></ul><p>说明：</p><ul><li>你只能使用标准的栈操作 —— 也就是只有 push to top, peek/pop from top, size, 和 is empty 操作是合法的。</li><li>你所使用的语言也许不支持栈。你可以使用 list 或者 deque（双端队列）来模拟一个栈，只要是标准的栈操作即可。</li></ul><p>进阶：</p><ul><li>你能否实现每个操作均摊时间复杂度为 O(1) 的队列？换句话说，执行 n 个操作的总时间复杂度为 O(n) ，即使其中一个操作可能花费较长时间。</li></ul><p>提示：</p><ul><li>1 &lt;= x &lt;= 9</li><li>最多调用 100 次 push、pop、peek 和 empty</li><li>假设所有操作都是有效的 （例如，一个空的队列不会调用 pop 或者 peek 操作）</li></ul></blockquote><h3 id="_1-o-n-解法" tabindex="-1"><a class="header-anchor" href="#_1-o-n-解法" aria-hidden="true">#</a> （1）O(n)解法</h3><p>做这道题需要了解栈和队列的特点，栈是末尾进，末尾出；队列末尾进，开头出。</p><p>用栈模拟队列实际就是 <strong>将栈底的元素弹出</strong>。在日常生活可知，想要拿箱底的东西，必须要将东西上面的东西全部拿出来，才能拿到箱底的东西。</p><p>例如下面所示，依次放入 1、2、3、4、5</p><table><thead><tr><th>栈底</th><th></th><th></th><th></th><th>栈顶</th></tr></thead><tbody><tr><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td></tr></tbody></table><p>此时需要将 1 取出，则需要将 2 3 4 5 全部取出</p><ul><li>临时栈：</li></ul><table><thead><tr><th>栈底</th><th></th><th></th><th></th><th>栈顶</th></tr></thead><tbody><tr><td>5</td><td>4</td><td>3</td><td>2</td><td></td></tr></tbody></table><ul><li>主栈：</li></ul><table><thead><tr><th>栈底</th><th></th><th></th><th></th><th>栈顶</th></tr></thead><tbody><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><p>如果这时要放入元素 6，这再次需要将临时栈的元素放入到主栈中，然后再放入</p><ul><li>主栈：</li></ul><table><thead><tr><th>栈底</th><th></th><th></th><th></th><th>栈顶</th></tr></thead><tbody><tr><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td></tr></tbody></table><p>由上可知，<strong>无论是取出还是放入都需要将在两个栈之间倒腾元素</strong>。</p><p>下面为完整代码：</p><ul><li><code>in</code> 栈（主栈）用作处理输入操作 <code>push()</code>，使用 <code>in</code> 时需确保 <code>out</code> 为空</li><li><code>out</code> 栈（临时栈）用作处理输出操作 <code>pop()</code> 和 <code>peek()</code>，使用 <code>out</code> 时需确保 <code>in</code> 为空</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">MyQueue</span> <span class="token punctuation">{</span>
  <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> out<span class="token punctuation">,</span> in<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">MyQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 将out栈元素全部清空</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>out<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> in<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>out<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    in<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 将in栈元素全部清空</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>in<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> out<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>in<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> out<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 将in栈元素全部清空</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>in<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> out<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>in<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> out<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> out<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> in<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>时间复杂度：$ O( n )$</li><li>空间复杂度：$ O( n )$</li></ul><h3 id="_2-均摊o-1-解法" tabindex="-1"><a class="header-anchor" href="#_2-均摊o-1-解法" aria-hidden="true">#</a> （2）均摊O(1)解法</h3><p>在将主栈的元素放入到临时栈后，会发现临时栈的已经排列成需要的形状了。</p><p>例如下面所示：</p><ul><li>原先的栈：</li></ul><table><thead><tr><th>栈底</th><th></th><th></th><th></th><th>栈顶</th></tr></thead><tbody><tr><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td></tr></tbody></table><ul><li>临时栈：由原先的栈可知，当 1 取出后下一个要取出 2，而临时栈中正好能够取出 2</li></ul><table><thead><tr><th>栈底</th><th></th><th></th><th></th><th>栈顶</th></tr></thead><tbody><tr><td>5</td><td>4</td><td>3</td><td>2</td><td></td></tr></tbody></table><p>而当放入元素时，因为处于模拟队列的队尾，所以在临时栈为空之前，都取不到新元素。所以<strong>当临时栈为空时，再将主栈的元素放到临时栈里</strong>。</p><p>下面为全部代码：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">MyQueue</span> <span class="token punctuation">{</span>
  <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> out<span class="token punctuation">,</span> in<span class="token punctuation">;</span>
  
  <span class="token keyword">public</span> <span class="token class-name">MyQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 直接放入，不用倒腾</span>
    in<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 如果临时栈为空，则将主栈倒腾放入到临时栈里</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>out<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>in<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> out<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>in<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> out<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>out<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>in<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> out<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>in<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> out<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> out<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> in<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>时间复杂度：<code>pop()</code> 和 <code>peek()</code> 操作都是均摊 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O( 1 )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></li><li>空间复杂度：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O( n )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></li></ul><h3 id="_3-均摊复杂度" tabindex="-1"><a class="header-anchor" href="#_3-均摊复杂度" aria-hidden="true">#</a> （3）均摊复杂度</h3><p>我们先用另外一个例子来理解「均摊复杂度」，大家都知道「哈希表」底层是通过数组实现的。</p><p>正常情况下，计算元素在哈希桶的位置，然后放入哈希桶，复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O( 1 )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，假定是通过简单的 “ 拉链法 ” 搭配「头插法」方式来解决哈希冲突。</p><p>但当某次元素插入后，「哈希表」达到扩容阈值，则需要对底层所使用的数组进行扩容，这个复杂度是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O( n )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p><p><strong>显然「扩容」操作不会发生在每一次的元素插入中</strong>，因此扩容的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O( n )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> 都会伴随着 <code>n</code> 次的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O( 1 )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，换句话就是你插入了 n 个元素，就会触发一次 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O( n )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> 的扩容，这样 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O( n )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> 的复杂度会被均摊到每一次插入当中，因此哈希表插入仍然是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O( 1 )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 的。</p><p><strong>「同理，我们的「倒腾」不是发生在每一次的「输出操作」中，而是集中发生在一次「输出栈为空」的时候，因此 <code>pop</code> 和 <code>peek</code> 都是均摊复杂度为 的操作。」</strong></p><p>我们需要对操作进行复杂度分析进行判断，而不是看时间来判断自己是不是均摊 O(1) 哦 ~</p><h2 id="四十二、用队列实现栈" tabindex="-1"><a class="header-anchor" href="#四十二、用队列实现栈" aria-hidden="true">#</a> 四十二、用队列实现栈</h2><p>原题链接：</p><p><a href="https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&amp;mid=2247485519&amp;idx=1&amp;sn=cd984987eb9e03493b1e775794b79971&amp;chksm=fd9ca350caeb2a4623f2d8d71bc0f12a1f7ae38ca5e0301f97a01742782cbca3f1ed21da801c&amp;cur_album_id=1715134171561410565&amp;scene=189#wechat_redirect" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&amp;mid=2247485519&amp;idx=1&amp;sn=cd984987eb9e03493b1e775794b79971&amp;chksm=fd9ca350caeb2a4623f2d8d71bc0f12a1f7ae38ca5e0301f97a01742782cbca3f1ed21da801c&amp;cur_album_id=1715134171561410565&amp;scene=189#wechat_redirect<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>这是 LeetCode 上的**「225. 用队列实现栈」**，难度为 <strong>Easy</strong>。</p><p>请你仅使用两个队列实现一个后入先出（LIFO）的栈，并支持普通队列的全部四种操作（push、top、pop 和 empty）。</p><p>实现 MyStack 类：</p><ul><li>void push(int x) 将元素 x 压入栈顶。</li><li>int pop() 移除并返回栈顶元素。</li><li>int top() 返回栈顶元素。</li><li>boolean empty() 如果栈是空的，返回 true ；否则，返回 false 。</li></ul><p>注意：</p><p>你只能使用队列的基本操作 —— 也就是 push to back、peek/pop from front、size 和 is empty 这些操作。</p><p>提示：</p><ul><li>1 &lt;= x &lt;= 9</li><li>最多调用100 次 push、pop、top 和 empty</li><li>每次调用 pop 和 top 都保证栈不为空</li></ul><p>进阶：你能否实现每种操作的均摊时间复杂度为 O(1) 的栈？换句话说，执行 n 个操作的总时间复杂度 O(n) ，尽管其中某个操作可能需要比其他操作更长的时间。你可以使用两个以上的队列。</p></blockquote><h3 id="_1-双队列解法" tabindex="-1"><a class="header-anchor" href="#_1-双队列解法" aria-hidden="true">#</a> （1）双队列解法</h3><p>和上一道题思路一致，需要额外一个队列，作为临时存放数据的地方。例如下面所示：</p><ul><li>主队列：</li></ul><table><thead><tr><th>队头</th><th></th><th></th><th></th><th>队尾</th></tr></thead><tbody><tr><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td></tr></tbody></table><p>现在需要弹出 5，但只能将前面的 1 - 4 先存放到临时队列中</p><ul><li>临时队列</li></ul><table><thead><tr><th>队头</th><th></th><th></th><th></th><th>队尾</th></tr></thead><tbody><tr><td>1</td><td>2</td><td>3</td><td>4</td><td></td></tr></tbody></table><ul><li>主队列：</li></ul><table><thead><tr><th>队头</th><th></th><th></th><th></th><th>队尾</th></tr></thead><tbody><tr><td>5</td><td></td><td></td><td></td><td></td></tr></tbody></table><p>和上一题一样，不用每次都倒腾，放入可以直接放入到临时队列或者主队列中，弹出元素再倒腾到另一个队列中。或者放入时倒腾，弹出时直接弹出。</p><ul><li>全部代码如下：下面代码为弹出时倒腾。 <ul><li><code>data</code> 为主队列</li><li><code>help</code> 为临时队列</li><li>但这两个队列其实不用分得太清楚，因为都可以互相转换</li></ul></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">MyStack</span> <span class="token punctuation">{</span>
  <span class="token comment">// 主队列</span>
  <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 临时队列</span>
  <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> help <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 直接放入数据即可</span>
    data<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 将主队列的数据放入到临时队列</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      help<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> u <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 将主队列和临时队列调换</span>
    <span class="token function">swap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> u<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      help<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> u <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    help<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">swap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> u<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> help<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> tmp <span class="token operator">=</span> data<span class="token punctuation">;</span>
    data <span class="token operator">=</span> help<span class="token punctuation">;</span>
    help <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>时间复杂度： <code>push()</code> 和 <code>empty()</code> 方法的复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O( 1 )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> ；而 <code>pop()</code> 和 <code>top()</code> 的复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O( n )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> 。</li><li>空间复杂度：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O( n )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></li></ul><h3 id="_2-单队列解法" tabindex="-1"><a class="header-anchor" href="#_2-单队列解法" aria-hidden="true">#</a> （2）单队列解法</h3><p>由第 （1） 点可知：经过倒腾后的队列，里面的排序没有变化，就如同弹栈，栈底的排序不会变化，例如下面所示</p><ul><li>主队列：</li></ul><table><thead><tr><th>队头</th><th></th><th></th><th></th><th>队尾</th></tr></thead><tbody><tr><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td></tr></tbody></table><p>现在需要弹出 5，但只能将前面的 1 - 4 先存放到临时队列中</p><ul><li>临时队列：1 - 4 的排序没有变化</li></ul><table><thead><tr><th>队头</th><th></th><th></th><th></th><th>队尾</th></tr></thead><tbody><tr><td>1</td><td>2</td><td>3</td><td>4</td><td></td></tr></tbody></table><p>我们可以使用这个特效来简化成只使用一个队列。就像体育课同学先按高到低排好队，然后老师让同学从低到高排队，这时只需要第一个同学走到最后一个，然后后面的同学就依次跟着前面的同学，直到最后一个同学位置。</p><p>全部代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">MyStack</span> <span class="token punctuation">{</span>
  <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    data<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> size <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 将最前面的元素依次放到最后面</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>size<span class="token operator">--</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      data<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 去掉目标元素</span>
    <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> size <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>size<span class="token operator">--</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      data<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 取目标元素的值</span>
    <span class="token keyword">int</span> u <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 将目标元素也添加到最后面，还原成之前的样子</span>
    data<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> u<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>时间复杂度： <code>push()</code> 和 <code>empty()</code> 方法的复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O( 1 )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> ；而 <code>pop()</code> 和 <code>top()</code> 的复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O( n )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> 。</li><li>空间复杂度：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O( n )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></li></ul><h3 id="_3-总结" tabindex="-1"><a class="header-anchor" href="#_3-总结" aria-hidden="true">#</a> （3）总结</h3><p>第四十一题和第四十二题，都是用队列或者栈其中一个，来模拟另一个，但实现思路完全不同。</p><p>其实就是队列和栈的特性导致的：</p><ul><li>队列添加元素和删除元素的位置 <strong>不是同一个位置</strong>。这就可以让队列删除的同时添加元素，所以就可以缩减成一个队列。这个特性在其他领域也很常见，例如消息队列，你发送消息，我就放到队尾，而我在队头处理消息，一点都不受影响。</li><li>栈添加元素和删除元素的位置 <strong>是同一个位置</strong>。这个特性就让在操作栈的时候，必须明确是添加元素还是删除元素。在操作系统保存现场信息的时候使用，可以明确还原现场的顺序。</li></ul><h2 id="四十三、最小栈" tabindex="-1"><a class="header-anchor" href="#四十三、最小栈" aria-hidden="true">#</a> 四十三、最小栈</h2><p>原题链接：</p><p><a href="https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&amp;mid=2247485547&amp;idx=1&amp;sn=22a592f1c62b69af177845ef85a686fd&amp;chksm=fd9ca374caeb2a628610fa4fbdd951f209b5989e2d4de900ab0c302e19a143ea3cdcc6bcf773&amp;cur_album_id=1715134171561410565&amp;scene=189#wechat_redirect" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&amp;mid=2247485547&amp;idx=1&amp;sn=22a592f1c62b69af177845ef85a686fd&amp;chksm=fd9ca374caeb2a628610fa4fbdd951f209b5989e2d4de900ab0c302e19a143ea3cdcc6bcf773&amp;cur_album_id=1715134171561410565&amp;scene=189#wechat_redirect<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>这是 LeetCode 上的**「155. 最小栈」**，难度为 <strong>Easy</strong>。</p><p>设计一个支持 push ，pop ，top 操作，并能在「常数时间」内检索到最小元素的栈。</p><ul><li>push(x) —— 将元素 x 推入栈中。</li><li>pop() —— 删除栈顶的元素。</li><li>top() —— 获取栈顶元素。</li><li>getMin() —— 检索栈中的最小元素。</li><li>提示： <ul><li>pop、top 和 getMin 操作总是在「非空栈」上调用。</li></ul></li></ul></blockquote><h3 id="_1-思路" tabindex="-1"><a class="header-anchor" href="#_1-思路" aria-hidden="true">#</a> （1）思路</h3><p>这题的难点是在常数时间检索到最小元素。通常会拿一个变量来存放最小值。每次弹栈需要判断弹栈的元素是否为最小值。</p><p>但又有一个问题，如果弹的是最后一个最小值，则需要获取到次小值，这个要求需要将每个元素排列好。</p><p>还有一个问题，如何知道这是最后一个最小值，所以需要记录最小值的数量。</p><p>这三个要求，其实多用一个栈就可以全部解决。这个栈的要求：</p><ul><li>当放入的元素比第一个元素大，则在栈顶多复制第一个元素</li><li>当放入的元素比第一个元素小，则直接放入到栈里</li><li>弹栈的时候和主栈同步</li></ul><h3 id="_2-解法详情" tabindex="-1"><a class="header-anchor" href="#_2-解法详情" aria-hidden="true">#</a> （2）解法详情</h3><p>下面假设输入 <code>[2, 6, 2, 8, 4, 6, 5]</code></p><p>辅助栈的结构如下：</p><ul><li>首先入 2。然后入 6，6 大于 2，则改成入 2</li></ul><table><thead><tr><th>下标</th><th>数据</th></tr></thead><tbody><tr><td>0</td><td></td></tr><tr><td>1</td><td></td></tr><tr><td>2</td><td></td></tr><tr><td>3</td><td></td></tr><tr><td>4</td><td></td></tr><tr><td>5</td><td>2</td></tr><tr><td>6</td><td>2</td></tr></tbody></table><ul><li>然后入 2。入 8 ，8 大于 2 则改成入 2。后面的数都大于 2，所以也都是入 2</li></ul><table><thead><tr><th>下标</th><th>数据</th></tr></thead><tbody><tr><td>0</td><td>2</td></tr><tr><td>1</td><td>2</td></tr><tr><td>2</td><td>2</td></tr><tr><td>3</td><td>2</td></tr><tr><td>4</td><td>2</td></tr><tr><td>5</td><td>2</td></tr><tr><td>6</td><td>2</td></tr></tbody></table><p>看上面的辅助栈，全部是 2，是因为 2 在栈底，只要入栈的元素大于 2，则栈中的最小值还是 2。</p><p>上面的例子是全部入栈后再全部弹栈，如果在弹栈入栈的过程中，涉及到最小值的变化，会不会有问题呢？</p><p>例如先入栈 <code>[6, 5, 3, 6]</code> ，然后再弹栈两个，再入栈 <code>[4, 7]</code></p><ul><li>入栈 <code>[6, 5, 3, 6]</code> ，这时最小值为 3</li></ul><table><thead><tr><th>下标</th><th>数据</th></tr></thead><tbody><tr><td>0</td><td>3</td></tr><tr><td>1</td><td>3</td></tr><tr><td>2</td><td>5</td></tr><tr><td>3</td><td>6</td></tr></tbody></table><ul><li>弹栈两个，这时最小值为 5</li></ul><table><thead><tr><th>下标</th><th>数据</th></tr></thead><tbody><tr><td>0</td><td></td></tr><tr><td>1</td><td></td></tr><tr><td>2</td><td>5</td></tr><tr><td>3</td><td>6</td></tr></tbody></table><ul><li>再入栈 <code>[4, 7]</code> ，最小值为 4</li></ul><table><thead><tr><th>下标</th><th>数据</th></tr></thead><tbody><tr><td>0</td><td>4</td></tr><tr><td>1</td><td>4</td></tr><tr><td>2</td><td>5</td></tr><tr><td>3</td><td>6</td></tr></tbody></table><p>很明显，没有任何问题。辅助栈的使用解决了第（1）点提出的问题：</p><ul><li>栈顶存放了最小值，最小值的数值问题解决</li><li>记录了最后一个最小值的下标，可以知道最后一个最小值是否被弹出</li><li>因为入栈元素等于最小值，也会直接入栈，栈里就会有多个最小值，所以记录了最小值的数量</li></ul><p>其实这个栈的核心就是：</p><ul><li>在最小值还没弹出之前，最小值上面的元素怎么操作，<strong>都不会影响到最小值和次小值</strong>，除非加入了比最小值小的数，但之前的最小值和次小值的 <strong>顺序还是保持不变</strong></li></ul><h3 id="_3-全部代码" tabindex="-1"><a class="header-anchor" href="#_3-全部代码" aria-hidden="true">#</a> （3）全部代码</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">MinStack</span> <span class="token punctuation">{</span>
  <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> help <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    data<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 如果栈为空或者比最小值小，则直接入栈</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>help<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> help<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      help<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>	<span class="token comment">// 否则复制最小值</span>
      help<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>help<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 两个栈同时弹出</span>
    data<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    help<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 取出辅助栈的第1个元素</span>
    <span class="token keyword">return</span> help<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>时间复杂度：所有的操作均为 $ O( 1 ) $</li><li>空间复杂度：$ O( 1 ) $</li></ul><h2 id="四十四、最大得分的路径数目" tabindex="-1"><a class="header-anchor" href="#四十四、最大得分的路径数目" aria-hidden="true">#</a> 四十四、最大得分的路径数目</h2><p>原题链接：</p><p><a href="https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&amp;mid=2247485565&amp;idx=1&amp;sn=9d307e3ef239d9ba509624736408fc3c&amp;chksm=fd9ca362caeb2a7400a621755acffc51c9eabbade8bd2e0dec07ef4c8c7ffae4a98b84b9243e&amp;cur_album_id=1715134171561410565&amp;scene=189#wechat_redirect" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&amp;mid=2247485565&amp;idx=1&amp;sn=9d307e3ef239d9ba509624736408fc3c&amp;chksm=fd9ca362caeb2a7400a621755acffc51c9eabbade8bd2e0dec07ef4c8c7ffae4a98b84b9243e&amp;cur_album_id=1715134171561410565&amp;scene=189#wechat_redirect<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>这是 LeetCode 上的**「1301. 最大得分的路径数目」**，难度为 <strong>Hard</strong>。</p><p>给你一个 <strong>正方形</strong> 字符数组 board ，你从数组最右下方的字符 &#39;S&#39; 出发。</p><p>你的目标是到达数组最左上角的字符 &#39;E&#39; ，数组剩余的部分为数字字符 1,2,...,9 或者障碍 &#39;X&#39;。</p><p>在每一步移动中，你可以向上、向左或者左上方移动，可以移动的前提是到达的格子没有障碍。</p><p>一条路径的 「得分」 定义为：路径上所有数字的和。</p><p>请你返回一个列表，包含两个整数：第一个整数是 「得分」 的最大值，第二个整数是得到最大得分的方案数，请把结果对 10^9 + 7 取余。</p><p>如果没有任何路径可以到达终点，请返回 [0, 0]</p><p>示例 1：</p><ul><li>输入：board = [&quot;E23&quot;,&quot;2X2&quot;,&quot;12S&quot;]</li><li>输出：[7,1]</li><li>解释：上 -&gt; 上 -&gt; 左 -&gt; 左，2 + 3 + 2 = 7，1 条路径</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>E  2  3
2  X  2
1  2  S
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例 3：</p><ul><li>输入：board = [&quot;E11&quot;,&quot;XXX&quot;,&quot;11S&quot;]</li><li>输出：[0,0]</li><li>解释：路全部被封死，走不到终点</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>E  1  1
X  X  X
1  1  S
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>提示：</p><ul><li>2 &lt;= board.length == board[i].length &lt;= 100</li></ul></blockquote><h3 id="_1-动态规划" tabindex="-1"><a class="header-anchor" href="#_1-动态规划" aria-hidden="true">#</a> （1）动态规划</h3><p>这道题之前也做过类似的，也是有障碍的，但这道题要求得出方案数，所以在执行动态规划时，需要记录两种值，即需要两个二维数组来存放数据</p><ul><li><code>f[m][n]</code> ：存放最大数值 <ul><li>转移条件：取右、下和右下中最大，加上当前格</li></ul></li><li><code>g[m][n]</code> ：存放最大数值的方案数 <ul><li>转移条件：将等于最大数值的方案数全部相加起来</li></ul></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">pathsWithMaxScore</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> board<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取一行的长度</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> board<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">MOD</span> <span class="token operator">=</span> <span class="token number">1000000007</span><span class="token punctuation">;</span>

    <span class="token comment">// 每行是一个字符串，所以将字符串转为字符数组更方便</span>
    <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      cs<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> board<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 将开头和结尾都初始化为 0，因为经过开头和结尾都不会增加数值</span>
    cs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">&#39;0&#39;</span><span class="token punctuation">;</span>
    cs<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">&#39;0&#39;</span><span class="token punctuation">;</span>

    <span class="token comment">// 计算全部元素数量</span>
    <span class="token keyword">int</span> total <span class="token operator">=</span> n <span class="token operator">*</span> n<span class="token punctuation">;</span>
    <span class="token comment">// 使用一维数组存放方案数</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> g <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>total<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token comment">// 初始化方案数的开头</span>
    g<span class="token punctuation">[</span>total <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token comment">// 新建存放最大数值的数组</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 双层循环，分别遍历行和列</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 如果在开头则直接跳过</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">==</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
          <span class="token keyword">continue</span><span class="token punctuation">;</span>

        <span class="token comment">// 如果当前格为障碍，当前格的最大数组为0，方案数也为0</span>
        <span class="token comment">// 正常情况就会避免通过障碍</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">&#39;X&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
          g<span class="token punctuation">[</span><span class="token function">getIndex</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
          <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">int</span> bottom <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> bottomRight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// 不是最后一行就取下边的数字</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          bottom <span class="token operator">=</span> f<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 不是最后一列就取右边的数字</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">!=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          right <span class="token operator">=</span> f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 既不是最后一行也不是最后一列就取右下边</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">!=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          bottomRight <span class="token operator">=</span> f<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 找出三个中的最大值</span>
        <span class="token keyword">int</span> maxNum <span class="token operator">=</span> <span class="token function">findMax</span><span class="token punctuation">(</span>bottom<span class="token punctuation">,</span> bottomRight<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// 将结果记录到f[][]数组中</span>
        f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>cs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">48</span> <span class="token operator">+</span> maxNum<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token constant">MOD</span><span class="token punctuation">;</span>

        <span class="token comment">// 处理路径数量</span>
        <span class="token comment">// 分别判断三个方向是否等于最大值，</span>
        <span class="token comment">// 等于最大值就将g[]数组里的值累加到当前格</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>maxNum <span class="token operator">==</span> bottom <span class="token operator">&amp;&amp;</span> i <span class="token operator">!=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          g<span class="token punctuation">[</span><span class="token function">getIndex</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+=</span> g<span class="token punctuation">[</span><span class="token function">getIndex</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          g<span class="token punctuation">[</span><span class="token function">getIndex</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">%=</span> <span class="token constant">MOD</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>maxNum <span class="token operator">==</span> bottomRight <span class="token operator">&amp;&amp;</span> j <span class="token operator">!=</span> n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">!=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          g<span class="token punctuation">[</span><span class="token function">getIndex</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+=</span> g<span class="token punctuation">[</span><span class="token function">getIndex</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          g<span class="token punctuation">[</span><span class="token function">getIndex</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">%=</span> <span class="token constant">MOD</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>maxNum <span class="token operator">==</span> right <span class="token operator">&amp;&amp;</span> j <span class="token operator">!=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          g<span class="token punctuation">[</span><span class="token function">getIndex</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+=</span> g<span class="token punctuation">[</span><span class="token function">getIndex</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          g<span class="token punctuation">[</span><span class="token function">getIndex</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">%=</span> <span class="token constant">MOD</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 当路全部被障碍挡住时，f[][]数组的终点依然会有值，</span>
    <span class="token comment">// 这时需要看g[]数组的值，对f[][]数组的值进行矫正</span>
    <span class="token comment">// 因为g[]数组的0值会传播，当前格的三个方向的方案数都为0时，当前格也为0</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> g<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">findMax</span><span class="token punctuation">(</span><span class="token keyword">int</span> bottom<span class="token punctuation">,</span> <span class="token keyword">int</span> bottomRight<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>bottom<span class="token punctuation">,</span> bottomRight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    temp <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> temp<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">int</span> <span class="token function">getIndex</span><span class="token punctuation">(</span><span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> row <span class="token operator">*</span> n <span class="token operator">+</span> col<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当然也可以处理存到 <code>f[][]</code> 数组的数据，存三个方向数据时判断是否和当前值一致，一致的话 <code>g[][]</code> 的值加 1；三个方向有比当前值大的时候，更新 <code>f[][]</code> 的值并重置 <code>g[][]</code> 的值为 1。</p><p>这样如果三个方向都被障碍拦住时，当前的值依然是非法值，而不是上面的 <code>cs[i][j] - 48</code></p><ul><li>时间复杂度：所有的操作均为 $ O( n^{2} ) $</li><li>空间复杂度：$ O( n^{2} ) $</li></ul><h2 id="四十五、在系统中查找重复文件" tabindex="-1"><a class="header-anchor" href="#四十五、在系统中查找重复文件" aria-hidden="true">#</a> 四十五、在系统中查找重复文件</h2><p>原题链接：</p><p><a href="https://leetcode.cn/problems/find-duplicate-file-in-system/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/find-duplicate-file-in-system/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>这是力扣上的 <strong>【609. 在系统中查找重复文件】</strong>，难度为 <strong>普通</strong></p><p>给你一个目录信息列表 paths ，包括目录路径，以及该目录中的所有文件及其内容，请你按路径返回文件系统中的所有重复文件。答案可按 <strong>任意顺序</strong> 返回。</p><p>一组重复的文件至少包括 <strong>两个</strong> 具有完全相同内容的文件。</p><p><strong>输入</strong> 列表中的单个目录信息字符串的格式如下：</p><ul><li>&quot;root/d1/d2/.../dm f1.txt(f1_content) f2.txt(f2_content) ... fn.txt(fn_content)&quot;</li></ul><p>这意味着，在目录 <code>root/d1/d2/.../dm</code> 下，有 n 个文件 ( <code>f1.txt, f2.txt ... fn.txt</code> ) 的内容分别是 ( <code>f1_content, f2_content ... fn_content</code> ) 。</p><p>注意：n &gt;= 1 且 m &gt;= 0 。如果 m = 0 ，则表示该目录是根目录。</p><p><strong>输出</strong> 是由 <strong>重复文件路径组</strong> 构成的列表。其中每个组由所有具有相同内容文件的文件路径组成。文件路径是具有下列格式的字符串：</p><ul><li>&quot;directory_path/file_name.txt&quot;</li></ul><p>示例 1：</p><ul><li>输入：<code>paths = [&quot;root/a 1.txt(abcd) 2.txt(efgh)&quot;,&quot;root/c 3.txt(abcd)&quot;,&quot;root/c/d 4.txt(efgh)&quot;,&quot;root 4.txt(efgh)&quot;]</code></li><li>输出：<code>[[&quot;root/a/2.txt&quot;,&quot;root/c/d/4.txt&quot;,&quot;root/4.txt&quot;],[&quot;root/a/1.txt&quot;,&quot;root/c/3.txt&quot;]]</code></li></ul></blockquote><h3 id="_1-java代码" tabindex="-1"><a class="header-anchor" href="#_1-java代码" aria-hidden="true">#</a> （1）Java代码</h3><p>这道题一长串，其实就是 <strong>考验处理字符串</strong>。麻烦的是 Java 处理字符串没有很多方法。就只能一个个处理。</p><p>思路：题目要求找到文本内容相同的文件，文件内容（1）-&gt; 文件（n），一对多关系，很明显使用哈希表 + 列表就比较简单。</p><p>这道题的难点：</p><ol><li>使用正则表达式处理字符串</li><li>看明白题目要求。例如，<strong>只返回重复了的文件名</strong>，不是返回曾经出现过的文件名。</li></ol><p>完整代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">findDuplicate</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> paths<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 新建存放结果的哈希表</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 遍历数组的每一个元素，每个元素是一长串字符串</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> paths<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 取出字符串</span>
      <span class="token class-name">String</span> string <span class="token operator">=</span> paths<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token comment">// 取出文件名和文件内容</span>
      <span class="token class-name">String</span> suffix <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span><span class="token string">&quot;^([^\\s]+ )&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 计算出文件路径的长度</span>
      <span class="token keyword">int</span> prefixLength <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> suffix<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 取出文件路径</span>
      <span class="token class-name">String</span> prefix <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> prefixLength<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 将一长串字符串分割成数组</span>
      <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fileNameArray <span class="token operator">=</span> suffix<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
      <span class="token comment">// 遍历结果数组</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> fileNameArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 取出数组中的每一个元素，元素内容包括每一个文件名和文件内容</span>
        <span class="token class-name">String</span> index <span class="token operator">=</span> fileNameArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// 取出文件名</span>
        <span class="token class-name">String</span> fileName <span class="token operator">=</span> index<span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span><span class="token string">&quot;\\(.*?\\)&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 取出文件内容</span>
        <span class="token class-name">String</span> content <span class="token operator">=</span> index<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>fileName<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> index<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 如果第一次放入到哈希表，则新建一个列表</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 将拼接后的字符串加入到哈希表中的列表中</span>
        map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>prefix<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> prefixLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 遍历哈希表中的内容 </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> entry <span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 取出 key</span>
      <span class="token class-name">String</span> key <span class="token operator">=</span> entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 取出 value</span>
      <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> val <span class="token operator">=</span> entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 只有列表的长度大于2，才是要的结果</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>val<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-js代码" tabindex="-1"><a class="header-anchor" href="#_2-js代码" aria-hidden="true">#</a> （2）JS代码</h3><p>在 Javascript 中，有很多操作字符串的方法，所以 Javascript 代码会比较简洁。</p><p>代码来自力扣题解：</p><p><a href="https://leetcode.cn/problems/find-duplicate-file-in-system/solution/js-qing-jiao-wo-jsde-gong-ju-han-shu-xia-73gj/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/find-duplicate-file-in-system/solution/js-qing-jiao-wo-jsde-gong-ju-han-shu-xia-73gj/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">findDuplicate</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">paths</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ans Array 存放最终结果 每一个元素是拥有相同内容的多个文件</span>
  <span class="token comment">// map Object 存放文本的内容 [key-文本内容, value-map的下标]</span>
  <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> ans <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> path <span class="token keyword">of</span> paths<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ES6新语法</span>
    <span class="token comment">// 将字符串以空格分开然后依次赋值到 root 和 files 变量</span>
    <span class="token comment">// root为字符串，files为数组</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>root<span class="token punctuation">,</span> <span class="token operator">...</span>files<span class="token punctuation">]</span> <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 然后遍历files数组</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> file <span class="token keyword">of</span> files<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 将字符串再以&quot;(&quot;分隔</span>
      <span class="token comment">// 例如，4.txt(efgh) 分割成 4.txt efgh)</span>
      <span class="token keyword">const</span> <span class="token punctuation">[</span>filename<span class="token punctuation">,</span> content<span class="token punctuation">]</span> <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;(&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>content <span class="token keyword">in</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>	<span class="token comment">// 如果文本内容在map里，则直接往map放入数据</span>
    		<span class="token comment">// 在map取出下标后，再去ans里取对应的数组</span>
        ans<span class="token punctuation">[</span>map<span class="token punctuation">[</span>content<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>root<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>filename<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>	<span class="token comment">// 如果不在，则要将数据放入map里，用作之后的判断</span>
        <span class="token comment">// push()方法会返回数组的长度</span>
        <span class="token comment">// 长度-1 作为ans的下标</span>
        map<span class="token punctuation">[</span>content<span class="token punctuation">]</span> <span class="token operator">=</span> ans<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>root<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>filename<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 最后将长度大于2的数组返回</span>
  <span class="token keyword">return</span> ans<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四十六、贴纸拼词" tabindex="-1"><a class="header-anchor" href="#四十六、贴纸拼词" aria-hidden="true">#</a> 四十六、贴纸拼词</h2><p>原题链接：</p><p><a href="https://leetcode.cn/problems/stickers-to-spell-word/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/stickers-to-spell-word/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>这是 LeetCode 上的**【691. 贴纸拼词】**，难度为 <strong>Hard</strong>。</p><p>我们有 n 种不同的贴纸。每个贴纸上都有一个小写的英文单词。</p><p>您想要拼写出给定的字符串 target ，方法是从收集的贴纸中切割单个字母并重新排列它们。如果你愿意，你可以多次使用每个贴纸，每个贴纸的数量是无限的。</p><p>返回你需要拼出 target 的最小贴纸数量。如果任务不可能，则返回 -1 。</p><p>注意：在所有的测试用例中，所有的单词都是从 1000 个最常见的美国英语单词中随机选择的，并且 target 被选择为两个随机单词的连接。</p><p>示例 1：</p><ul><li>输入： stickers = [&quot;with&quot;,&quot;example&quot;,&quot;science&quot;], target = &quot;thehat&quot;</li><li>输出：3</li><li>解释：我们可以使用 2 个 &quot;with&quot; 贴纸，和 1 个 &quot;example&quot; 贴纸。 把贴纸上的字母剪下来并重新排列后，就可以形成目标 “thehat“ 了。 此外，这是形成目标字符串所需的最小贴纸数量。</li></ul><p>提示:</p><ul><li>n == stickers.length</li><li>1 &lt;= n &lt;= 50</li><li>1 &lt;= stickers[i].length &lt;= 10</li><li>1 &lt;= target.length &lt;= 15</li><li>stickers[i] 和 target 由小写英文单词组成</li></ul></blockquote><h3 id="_1-暴力解法" tabindex="-1"><a class="header-anchor" href="#_1-暴力解法" aria-hidden="true">#</a> （1）暴力解法</h3><p>下面是暴力解法，使用递归，遍历每一个元素，但这是困难题，所以不可能使用暴力解法就能通过。提交结果为超时，所以需要进一步优化思路</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> s<span class="token punctuation">;</span>

  <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">minStickers</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> stickers<span class="token punctuation">,</span> <span class="token class-name">String</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> m <span class="token operator">=</span> stickers<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> target<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s <span class="token operator">=</span> stickers<span class="token punctuation">;</span>

    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> target<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> res<span class="token punctuation">;</span>

  <span class="token punctuation">}</span>

  <span class="token doc-comment comment">/**
     * 不断递归的方法
     * 先取第1个字符串，然后再继续取第1个字符串，
     * 如果这时剩余字符串没有改变，则改为取第2个字符串
     * <span class="token keyword">@param</span> <span class="token parameter">count</span> 当前的贴片数量
     * <span class="token keyword">@param</span> <span class="token parameter">target</span> 目标字符串
     * <span class="token keyword">@param</span> <span class="token parameter">depth</span> 记录当前遍历到元素的下标
     */</span>
  <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> count<span class="token punctuation">,</span> <span class="token class-name">String</span> target<span class="token punctuation">,</span> <span class="token keyword">int</span> depth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 如果目标字符串为空，代表已经取完了</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>	<span class="token comment">// 如果是第1次，则直接赋值</span>
        res <span class="token operator">=</span> count<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>	<span class="token comment">// 否则就和之前值比较，取其中最小</span>
				res <span class="token operator">=</span> res <span class="token operator">&lt;</span> count <span class="token operator">?</span> res <span class="token operator">:</span> count<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 如果遍历完全部字符串都不能凑出目标字符串，则直接退出</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>depth <span class="token operator">&gt;=</span> s<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 存放变化的字符串</span>
    <span class="token class-name">String</span> newString <span class="token operator">=</span> target<span class="token punctuation">;</span>
    <span class="token comment">// 存放上一次的字符串</span>
    <span class="token class-name">String</span> temp <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// int useCount = count;</span>
    <span class="token keyword">do</span> <span class="token punctuation">{</span>
      <span class="token comment">// 第1次先不选择当前索引的字符串，即不选择s[depth]</span>
      <span class="token function">dfs</span><span class="token punctuation">(</span>count<span class="token punctuation">,</span> newString<span class="token punctuation">,</span> depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
      <span class="token comment">// 将目标字符串减取当前索引的字符</span>
      temp <span class="token operator">=</span> newString<span class="token punctuation">;</span>
      newString <span class="token operator">=</span> <span class="token function">deleteChar</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>depth<span class="token punctuation">]</span><span class="token punctuation">,</span> newString<span class="token punctuation">)</span><span class="token punctuation">;</span>
      count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>newString<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
    <span class="token comment">// 如果新的字符串没有变化，则证明当前索引的字符串已经没有用了，</span>
    <span class="token comment">// 需要开始使用下一个字符串了</span>
  <span class="token punctuation">}</span>

  <span class="token doc-comment comment">/**
     * 将原字符串去掉另一个字符串所出现的所有字符，
     * 使用的是 replaceFirst() 方法
     * <span class="token keyword">@param</span> <span class="token parameter">sub</span> 需要在原字符串去掉的字符串
     * <span class="token keyword">@param</span> <span class="token parameter">oldString</span> 原字符串
     */</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">deleteChar</span><span class="token punctuation">(</span><span class="token class-name">String</span> sub<span class="token punctuation">,</span> <span class="token class-name">String</span> oldString<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> newString <span class="token operator">=</span> oldString<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sub<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">String</span> item <span class="token operator">=</span> sub<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
      newString <span class="token operator">=</span> newString<span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> newString<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-动态规划-深度优先" tabindex="-1"><a class="header-anchor" href="#_2-动态规划-深度优先" aria-hidden="true">#</a> （2）动态规划-深度优先</h3><p>深度遍历的优化思路，就是记忆化搜索，使用过之前遍历过的结果。</p><p>哪些结果可以被之后的计算所使用？</p><ul><li>字符种数和字符类型</li><li>单字符种数不可重用。例如当前目标字符串剩余两种字符，但无法得知剩的是哪两种字符</li></ul><p>下面思路来自评论区：<a href="https://leetcode.cn/problems/stickers-to-spell-word/solution/by-ac_oier-5vv3/1563033/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/stickers-to-spell-word/solution/by-ac_oier-5vv3/1563033/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ul><li>字符类型：使用目标字符串长度的二进制——<code>state</code>，来记录每一位的使用情况。 <ul><li>初始化为 0 ，因为每一位都没有取到，每一位都为 0。</li><li>最终状态为每一位为 1，即 2<sup>target.lenth</sup> - 1</li></ul></li><li>循环遍历：每一层递归的循环都会循环 stickers 的每一个字符串 <ul><li>取出 stickers 的每一个字符串 <ul><li>取出字符串的每一个字符 <ul><li>取出 target 目标字符串的每一个字符 <ul><li><code>if (s[i] == t[j] &amp;&amp; state &amp; (1 &lt;&lt; j) == 0)</code> ：字符相等且当前位为 0，说明此时 <code>t[j]</code> 还未被凑出，并且 <code>s[i]</code> 能凑出 <code>t[j]</code>，那么 state 第 j 个位置变为1</li><li>然后 <code>break;</code> ，因为每个字符只能取一次</li></ul></li></ul></li><li>取出完当前字符串的每一个字符后，需要检查是否对目标字符串有贡献，如果有贡献，则进入下一层递归。没有则继续循环</li></ul></li><li>备忘录：当前循环结束的时候，记录当前的状态，实现目标字符串的最小使用字符串数。 <ul><li>例如目标字符串是 “ a ”，如果有字符串有 “ a ” 字符，则存到备忘录的数据是 1，没有的话就直接退出方法。</li><li>当目标字符串是 “ ?a”，遍历字符串中，如果只有字符 “ ? ” 被取到了，目标字符串只剩下字符 “ a ”，则需要看 “ a ” 的最小字符串，而这个已经存到备忘录里，则可以省去再遍历一次全部的字符串。</li></ul></li></ul></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> n<span class="token punctuation">;</span>

<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> memo<span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
     * 方法一：dfs
     * 需要考虑的是，对于任意一张贴纸，使用当前贴纸后(假设每个字符都做出最大贡献)，能够得到什么样的字符串
     * 我们最终要得到target，所以我们可以 用 0 或 1 表示 target 每一位置上的字符是否已经凑出，因为 target 长度在 1-15 之间，
     * 所以我们可以用1个int变量state完成这件事，
     * 初始时：state = 0，每个字符都没凑出来
     * 如果能凑出 target，最终 state就是 2^(target.length)-1，也就是 target.length()个1，表示每个位置都被凑到了
     * 为了避免某些状态重复搜索，我们还需要一个memo数组来做备忘录，因为一共有 2^(target.length) 个状态（state取值为0-1&lt;&lt;len-1），所以数组大小为 1&lt;&lt; len
     *
     * 那么，假设当前状态为state，选择 某个 贴纸 sticker时，能得到什么样的新状态
     *
     * 遍历 sticker 的每个字符 s[i]
     *      遍历 target 的每个字符 t[j]
     *          if (s[i] == t[j] &amp;&amp; state &amp; (1 &lt;&lt; j) == 0) 说明此时t[j]还未被凑出，并且s[i] 能凑出 t[j]，那么state第j个位置变为1
     *          break；s[i]对当前字符做出贡献后，就该考虑s[i+1]为哪个位置做贡献了，并且因为state已经更新，所以不会出现s[i+1]仍然为t[j]贡献的情况
     *                  这里不要先统计s每个字符出现次数，再统计t每个字符出现次数，又逐一比较，更新，这样是做不到明确target每个位置是否被凑出的，也就是得不到新的state
     * 因为每次可以选择任意一个贴纸，所以 遍历s前要准备一个 state的备份nstate，在遍历过程中使用的也是nstate
     * 并且，如果遍历完成后，nstate==state，说明当前贴纸对当前状态已再无贡献，直接换下一个贴纸
     * 否则·从当前状态 到 target 所需要的贴纸数 就是 1(使用当前贴纸) + dfs(nstate)
     *
     * 然后从多个选择的结果中选择结果最小的（所以，先给一个不可能的结果）
     *
     * 并且，当 state == 1&lt;&lt;n-1时，返回0
     *
     */</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">minStickers</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> stickers<span class="token punctuation">,</span> <span class="token class-name">String</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 记录target长度</span>
  n <span class="token operator">=</span> target<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 备忘录，注意初始化大小</span>
  memo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> n<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// 标记备忘录</span>
  <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>memo<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 如果凑不出来target，返回的是个不可能的值，这里用 n + 1代替</span>
  <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>stickers<span class="token punctuation">,</span> target<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> ans <span class="token operator">&gt;</span> n <span class="token operator">?</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token operator">:</span> ans<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
     * dfs，当前状态是 state（二进制第j位为1代表target[j]已经凑出）
     * 返回从当前状态凑出target需要的最少贴纸数
     * <span class="token keyword">@param</span> <span class="token parameter">stickers</span> 可以使用的贴纸数组
     * <span class="token keyword">@param</span> <span class="token parameter">target</span> 目标字符串
     * <span class="token keyword">@param</span> <span class="token parameter">state</span> 当前状态
     * <span class="token keyword">@return</span> int 当前状态到达目标字符串的最小贴纸数
     */</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> stickers<span class="token punctuation">,</span> <span class="token class-name">String</span> target<span class="token punctuation">,</span> <span class="token keyword">int</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// target每个字符全部凑出</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">==</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> n<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 已计算过</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>memo<span class="token punctuation">[</span>state<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> memo<span class="token punctuation">[</span>state<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 可以选择任意一张贴纸，选择结果最小的选择，先给个不可能的值</span>
  <span class="token keyword">int</span> ans <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token comment">// 任意选一张贴纸</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> sticker <span class="token operator">:</span> stickers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 先做state的备份</span>
    <span class="token keyword">int</span> nstate <span class="token operator">=</span> state<span class="token punctuation">;</span>
    <span class="token comment">// 考虑贴纸s每个字符能做出的贡献</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token operator">:</span> sticker<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果s[i]恰好能凑上t[j]（前提是t[j]还未被凑出，注意这里用的是nstate）</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> target<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>nstate <span class="token operator">&gt;&gt;</span> j<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 标记t[j]被凑出</span>
          nstate <span class="token operator">|=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// 考虑是[i+1]做贡献</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 的确做出了贡献</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nstate <span class="token operator">!=</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 选择当前贴纸，完成整个过程所需要的最小贴纸数</span>
      <span class="token comment">// 多个选择中选最优</span>
      ans <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token function">dfs</span><span class="token punctuation">(</span>stickers<span class="token punctuation">,</span> target<span class="token punctuation">,</span> nstate<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 更新备忘录并返回</span>
  memo<span class="token punctuation">[</span>state<span class="token punctuation">]</span> <span class="token operator">=</span> ans<span class="token punctuation">;</span>
  <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-动态规划-广度优先" tabindex="-1"><a class="header-anchor" href="#_3-动态规划-广度优先" aria-hidden="true">#</a> （3）动态规划-广度优先</h3><p>这个思路是广度优先，每次都记录选择的贴纸。因为状态可能会重复，所以需要去重，则使用 Set 集合。</p><p>因为 Set 集合充当了备忘录的功能，记录每层的状态，所以不用再设置备忘录。</p><ul><li><code>queue</code> ：队列 <ul><li><code>poll</code> ：删除队列头的元素</li><li><code>offer</code> ：将元素添加到队列位</li></ul></li><li><code>Set</code> 的作用是在变化状态时，防止重复，因为上一层的状态是三种，但这层的状态不一定是三种，三种状态都可能同时转换为同一个状态</li><li>当凑出答案时，就可以直接返回函数，因为广度优先，最先催出的答案的层数（贴纸数）一定是最小的</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
     * 思路不变，使用 bfs, 每次可以 选择任意一张贴纸。选择不同贴纸就会得到不同邻接状态
     * 按照 bfs 【齐头并进】特点，最先 达到 终极状态 (1&lt;&lt;n-1)时，返回 step(看作多叉树数层序遍历的话，对应最小的叶子节点层数)即可
     * <span class="token keyword">@param</span> <span class="token parameter">stickers</span>
     * <span class="token keyword">@param</span> <span class="token parameter">target</span>
     * <span class="token keyword">@return</span>
     */</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">minStickers2</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> stickers<span class="token punctuation">,</span> <span class="token class-name">String</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  n <span class="token operator">=</span> target<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">bfs</span><span class="token punctuation">(</span>stickers<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
     * bfs，当前状态是 state（二进制第j位为1代表target[j]已经凑出）
     * 
     * 每个节点 有 stickers.length 种邻接选项，选择不同贴纸，得到不同邻接状态
     *
     * <span class="token keyword">@param</span> <span class="token parameter">stickers</span> 可以使用的贴纸数组
     * <span class="token keyword">@param</span> <span class="token parameter">target</span> 目标字符串
     */</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">bfs</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> stickers<span class="token punctuation">,</span> <span class="token class-name">String</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">int</span> step <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// bfs不需要备忘录，但要避免节点重复访问</span>
  <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 初始状态</span>
  queue<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>queue<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 当前层 节点个数</span>
    <span class="token keyword">int</span> sz <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 逐个取出当前层节点，找到他们的邻接点，加入下一层队列</span>
    <span class="token comment">// 每一轮都可以删除完当前层的状态</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sz<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">Integer</span> state <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 发现目标状态，返回 step</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">==</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> n<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> step<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 找寻全部邻接点</span>
      <span class="token comment">// 任意选一张贴纸</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> sticker <span class="token operator">:</span> stickers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 先做state的备份</span>
        <span class="token keyword">int</span> nstate <span class="token operator">=</span> state<span class="token punctuation">;</span>
        
        <span class="token comment">// 考虑贴纸s每个字符能做出的贡献</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token operator">:</span> sticker<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 如果s[i]恰好能凑上t[j]（前提是t[j]还未被凑出，注意这里用的是nstate）</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> target<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>nstate <span class="token operator">&gt;&gt;</span> j<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// 标记t[j]被凑出</span>
              nstate <span class="token operator">|=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment">// 考虑是[i+1]做贡献</span>
              <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// 的确做出了贡献 并且 邻接状态没访问过</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nstate <span class="token operator">!=</span> state <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>set<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>nstate<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 邻接状态入队列</span>
          queue<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span>nstate<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// 标记邻接状态已访问</span>
          set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>nstate<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 齐头并进</span>
    step<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 不在bfs过程中返回，就是无法凑出target</span>
  <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四十七、水果成篮" tabindex="-1"><a class="header-anchor" href="#四十七、水果成篮" aria-hidden="true">#</a> 四十七、水果成篮</h2><p>力扣链接：<a href="https://leetcode.cn/problems/fruit-into-baskets/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/fruit-into-baskets/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>这是 LeetCode 上的**【904. 水果成篮】**，难度为 <strong>Normal</strong>。</p><p>你正在探访一家农场，农场从左到右种植了一排果树。这些树用一个整数数组 fruits 表示，其中 fruits[i] 是第 i 棵树上的水果 种类 。</p><p>你想要尽可能多地收集水果。然而，农场的主人设定了一些严格的规矩，你必须按照要求采摘水果：</p><p>你只有 <strong>两个</strong> 篮子，并且每个篮子只能装 <strong>单一类型</strong> 的水果。每个篮子能够装的水果总量没有限制。 你可以选择任意一棵树开始采摘，你必须从 <strong>每棵</strong> 树（包括开始采摘的树）上 <strong>恰好摘一个水果</strong> 。采摘的水果应当符合篮子中的水果类型。每采摘一次，你将会向右移动到下一棵树，并继续采摘。 一旦你走到某棵树前，但水果不符合篮子的水果类型，那么就必须停止采摘。 给你一个整数数组 fruits ，返回你可以收集的水果的 <strong>最大</strong> 数目。</p><p>示例 1：</p><ul><li>输入：fruits = [1,2,1]</li><li>输出：3</li><li>解释：可以采摘全部 3 棵树。</li></ul><p>示例 2：</p><ul><li>输入：fruits = [0,1,2,2]</li><li>输出：3</li><li>解释：可以采摘 [1,2,2] 这三棵树。如果从第一棵树开始采摘，则只能采摘 [0,1] 这两棵树。</li></ul><p><strong>提示：</strong></p><ul><li><code>1 &lt;= fruits.length &lt;= 105</code></li><li><code>0 &lt;= fruits[i] &lt; fruits.length</code></li></ul></blockquote><h3 id="_1-双指针滑动窗口" tabindex="-1"><a class="header-anchor" href="#_1-双指针滑动窗口" aria-hidden="true">#</a> （1）双指针滑动窗口</h3><p>题目简意：求不超过两种字符类型的最大字符串长度</p><p>思路：当遇到第三种字符类型时，去除全部第一种类型的字符</p><p>去除第一种类型的字符，可以从右指针向左移动，一旦遇到第一种类型的字符，就停止移动</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">totalFruit</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fruits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 初始化篮子，全部置为-1</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> basket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>basket<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">int</span> maxSize <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> fruits<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

    <span class="token comment">// 左右指针</span>
    <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 将第1个水果装进篮子</span>
    basket<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> fruits<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 如何知道替换的是哪个</span>
    <span class="token comment">// 不用知道更新哪个，直接全部更新</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>right <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isInBasket</span><span class="token punctuation">(</span>basket<span class="token punctuation">,</span> fruits<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果在篮子里，只移动右指针</span>
        maxSize <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> maxSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
        right<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>	<span class="token comment">// 不在篮子里，移动右指针后移动左指针</span>
        left <span class="token operator">=</span> right <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        basket<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> fruits<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 左指针从右指针向左移动更方便</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> fruits<span class="token punctuation">[</span>left <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> basket<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          left<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 更新最大值再移动指针</span>
        maxSize <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> maxSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
        basket<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> fruits<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
        right<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> maxSize<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isInBasket</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> basket<span class="token punctuation">,</span> <span class="token keyword">int</span> fruit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> basket<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>basket<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> fruit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四十八、1696-跳跃游戏-vi" tabindex="-1"><a class="header-anchor" href="#四十八、1696-跳跃游戏-vi" aria-hidden="true">#</a> 四十八、1696. 跳跃游戏 VI</h2><p>力扣链接：<a href="https://leetcode.cn/problems/jump-game-vi/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/jump-game-vi/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>这是 LeetCode 上的**【1696. 跳跃游戏 VI】**，难度为 <strong>Normal</strong>。</p><p>给你一个下标从 0 开始的整数数组 nums 和一个整数 k 。</p><p>一开始你在下标 0 处。每一步，你最多可以往前跳 k 步，但你不能跳出数组的边界。也就是说，你可以从下标 i 跳到 [i + 1， min(n - 1, i + k)] 包含 两个端点的任意位置。</p><p>你的目标是到达数组最后一个位置（下标为 n - 1 ），你的 得分 为经过的所有数字之和。</p><p>请你返回你能得到的 最大得分 。</p><p>示例 1：</p><ul><li>输入：nums = [<strong>1</strong>, <strong>-1</strong>, -2, <strong>4</strong>, -7, <strong>3</strong>], k = 2</li><li>输出：7</li><li>解释：你可以选择子序列 [1,-1,4,3] （上面加粗的数字），和为 7 。</li></ul><p>示例 2：</p><ul><li>输入：nums = [<strong>10</strong>, -5, -2, <strong>4</strong>, 0, <strong>3</strong>], k = 3</li><li>输出：17</li><li>解释：你可以选择子序列 [10,4,3] （上面加粗数字），和为 17 。</li></ul><p><strong>提示：</strong></p><ul><li>1 &lt;= nums.length, k &lt;= 10<sup>5</sup></li><li>-10<sup>4</sup> &lt;= nums[i] &lt;= 10<sup>4</sup></li></ul></blockquote><h3 id="_1-简单的动态规划" tabindex="-1"><a class="header-anchor" href="#_1-简单的动态规划" aria-hidden="true">#</a> （1）简单的动态规划</h3><p>如果直接使用动态规划，记录每个格的得分，即从当前格出发 所得到的最大得分。然后在计算后面的格子时，先比较前面 k 个格子，然后找到 <strong>其中的最大值</strong>，表示要从这格跳到当前格，才会得到最大得分。</p><p>时间复杂度是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>∗</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">k * (n-k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></p><ul><li><p>当 k 很小，n 很大，时间复杂度可以看成 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></p></li><li><p>当 k 中等，n 很大，可以看成 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>∗</mo><mrow><mi>n</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow></mrow><annotation encoding="application/x-tex">k * {n/2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mord">/2</span></span></span></span></span> ，忽略常数可以看出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>k</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">k^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> 。如果将 k 和 n 看成 10<sup>5</sup> ，时间复杂度为 $10^5 * 10^4 = 10^9 $ 所以一定会超时</p></li><li><p>当 k 很大，n 很大，可以看出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></p></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maxResult</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>nums<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    
		<span class="token comment">// 从第二格开始遍历</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">int</span> temp <span class="token operator">=</span> res<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token comment">// 往前找最大值</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">&gt;=</span> i <span class="token operator">-</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        temp <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span> res<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        j<span class="token operator">--</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 将结果记录到数组里</span>
      res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> res<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-初步优化" tabindex="-1"><a class="header-anchor" href="#_2-初步优化" aria-hidden="true">#</a> （2）初步优化</h3><p>在往前找最大值时，会发现我们大部分数字已经取到过，变动的数字只有开头和结尾——开头添加数字，结尾删除数字。所以中间的数就可以不用每次都去判断。</p><ul><li>用最大值和添加的数字判断，如果比最大值大，则更新最大值</li><li>用最大值的 <strong>下标</strong> 和删除数字的 <strong>下标</strong> 判断，如果一致，就说明删除的是最大值，则需要再遍历窗口里的每个数字，来找到最大值</li></ul><p>但其实总体上思路没有变，还是通过遍历找到最大值，只是优化了找最大值的时机。</p><h3 id="_3-特性优化" tabindex="-1"><a class="header-anchor" href="#_3-特性优化" aria-hidden="true">#</a> （3）特性优化</h3><p>我可以根据滑动窗口的机制来优化。下标和时机的关系</p><p>现在构造一个队列，队列里存放当前格的前 k 个数字，并要求按从大到小排序，但下标从小到大排序，和向右移动指针类似。</p><p>假设现在队列里有 <code>[x, y, z]</code> ，即 x &gt; y &gt; z，xIndex &lt; yIndex &lt; zIndex</p><p>现在加入了一个数 a，可知 aIndex &gt; z，这时候需要将 a 插入到队列里。</p><ul><li>假设 z &gt; a，则直接放到 z 后面即可，因为这样队列还能满足之前的要求，然后移除第 1 个数</li><li>假设 z &lt;= a，那要肯定要放到 z 的前面，这时 z 就 <strong>没有必要存到队列里了</strong>。因为在窗口向右移动的过程中，找的是其中的最大值，也就是队列里的第 1 个数。现在有一个 a，比 z 大，且下标比 zIndex 大，那么就说明 <strong>在 a 移除之前，z 不可能是最大值</strong>。这个是一个优化点。</li></ul><p>拿着示例2做例子：</p><blockquote><p>输入：nums = [<strong>10</strong>, -5, -2, <strong>4</strong>, 0, <strong>3</strong>], k = 3</p></blockquote><p>k 的队列为 3，即队列长度最大为 3</p><ul><li>添加 10，队列 <code>[10]</code></li><li>添加 -5，队列 <code>[10, -5]</code></li><li>添加 -2，队列 <code>[10, -5, -2]</code></li><li>添加 4，队列满了移除 10，队列 <code>[4]</code>，<strong>跳到 4</strong></li><li>添加 0，队列 <code>[4, 0]</code></li><li>添加 3，队列 <code>[4, 3]</code> ，已到尽头，结束</li></ul><p>下面为全部代码。需要注意几个点</p><ol><li>队列存放的是下标，因为存放数字无法和数组一一对应</li><li>因为找 a 的位置时，移除了多个队列里的数字，所以需要 <strong>将队列里填满数字后</strong>，才开始移除第 1 个数字。换句话说就是，在右指针移到指定位置时，左指针才移动。</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maxResult</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token comment">// 初始化队列</span>
    <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> deque <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    deque<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 队列存放下标较简单，存放数值无法和数组对应上</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

      <span class="token comment">// 判断当前数字前面的最大值</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>deque<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">[</span>deque<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> res<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        deque<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      deque<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// 移除不是在范围里的数</span>
      <span class="token comment">// 执行的时机：栈满的时候移除第1个</span>
      <span class="token comment">// 且栈不满的时候不移除</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>deque<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> i <span class="token operator">-</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        deque<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// 记录当前结果</span>
      res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> res<span class="token punctuation">[</span>deque<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> res<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-贪心优化" tabindex="-1"><a class="header-anchor" href="#_4-贪心优化" aria-hidden="true">#</a> （4）贪心优化</h3><p>上面的思路都是固定 <code>nums[]</code> 数组里的一个数，然后向前找 <code>res[]</code> 里的最大值。</p><p>我们也可以固定 <code>res[]</code> 数组的一个数，然后向后面找 <code>nums[]</code> 数组里的最大值。</p><p>但依然需要剪枝，因为数字有大有小，只要找到比向后找</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maxResult</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// i 左指针 j 右指针</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token comment">// 更新dp[j]?</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> length <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> i <span class="token operator">+</span> k<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> nextNum <span class="token operator">=</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>nextNum <span class="token operator">&gt;</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> nextNum<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment">// 在外层循坏再操作</span>
                <span class="token comment">// 后面也有大的？</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> dp<span class="token punctuation">[</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/docs/学习/算法/算法六-10月3.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 61403802+hahg2000@users.noreply.github.com">hahg2000</span><!--]--><!--]--></div></div></footer><nav class="page-nav"><a href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E4%BA%94-8%E6%9C%8828.html" class="nav-link prev" aria-label="算法五-8月28"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->算法五-8月28</div></a><a href="/%E5%AD%A6%E4%B9%A0/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%9B%9B-8%E6%9C%8811-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E5%90%88%E9%9B%86.html" class="nav-link next" aria-label="算法四-8月11-动态规划合集"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">算法四-8月11-动态规划合集<!----></div></a></nav><div class="giscus-wrapper input-top" id="comment" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-db3d7ca3.js" defer></script>
  </body>
</html>
