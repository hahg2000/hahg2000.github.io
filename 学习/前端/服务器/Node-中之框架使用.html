<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.7" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.23" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://mister-hope.github.io/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html"><meta property="og:site_name" content="åšå®¢æ¼”ç¤º"><meta property="og:title" content="Node-ä¸­ä¹‹æ¡†æ¶ä½¿ç”¨"><meta property="og:description" content="Node-ä¸­ä¹‹æ¡†æ¶ä½¿ç”¨ ä¸€ã€Express åŸç”Ÿçš„ http åœ¨æŸäº›æ–¹é¢è¡¨ç°ä¸è¶³ä»¥åº”å¯¹æˆ‘ä»¬çš„å¼€å‘éœ€æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨æ¡†æ¶æ¥åŠ å¿«æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ã€‚ åœ¨ Node ä¸­ï¼Œæœ‰å¾ˆå¤šçš„ Web å¼€å‘æ¡†æ¶ï¼Œè¿™é‡Œå­¦ä¹  express ä¸ºä¸»ã€‚ 1.1 å®‰è£…ä½¿ç”¨ åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ åœ¨æ–‡ä»¶å¤¹ç›®å½•çš„å‘½ä»¤è¡Œä¸­ï¼Œåˆ›å»º package.json æ–‡ä»¶ã€‚ ç„¶åæ‰§è¡Œ npm inst..."><meta property="og:type" content="article"><meta property="og:image" content="https://raw.githubusercontent.com/hahg2000/picture/Senior-JS/mongoDB%E7%A4%BA%E4%BE%8B%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%9C.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-02-24T04:33:47.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="Node-ä¸­ä¹‹æ¡†æ¶ä½¿ç”¨"><meta property="article:author" content="hahg"><meta property="article:modified_time" content="2024-02-24T04:33:47.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Node-ä¸­ä¹‹æ¡†æ¶ä½¿ç”¨","image":["https://raw.githubusercontent.com/hahg2000/picture/Senior-JS/mongoDB%E7%A4%BA%E4%BE%8B%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%9C.png"],"dateModified":"2024-02-24T04:33:47.000Z","author":[{"@type":"Person","name":"hahg"}]}</script><title>Node-ä¸­ä¹‹æ¡†æ¶ä½¿ç”¨ | åšå®¢æ¼”ç¤º</title><meta name="description" content="Node-ä¸­ä¹‹æ¡†æ¶ä½¿ç”¨ ä¸€ã€Express åŸç”Ÿçš„ http åœ¨æŸäº›æ–¹é¢è¡¨ç°ä¸è¶³ä»¥åº”å¯¹æˆ‘ä»¬çš„å¼€å‘éœ€æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨æ¡†æ¶æ¥åŠ å¿«æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ã€‚ åœ¨ Node ä¸­ï¼Œæœ‰å¾ˆå¤šçš„ Web å¼€å‘æ¡†æ¶ï¼Œè¿™é‡Œå­¦ä¹  express ä¸ºä¸»ã€‚ 1.1 å®‰è£…ä½¿ç”¨ åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ åœ¨æ–‡ä»¶å¤¹ç›®å½•çš„å‘½ä»¤è¡Œä¸­ï¼Œåˆ›å»º package.json æ–‡ä»¶ã€‚ ç„¶åæ‰§è¡Œ npm inst...">
    <link rel="preload" href="/assets/style-kgjWb58-.css" as="style"><link rel="stylesheet" href="/assets/style-kgjWb58-.css">
    <link rel="modulepreload" href="/assets/app-B9MLl3uI.js"><link rel="modulepreload" href="/assets/Node-ä¸­ä¹‹æ¡†æ¶ä½¿ç”¨.html-BAoj3xhA.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-pgbc9PMq.js" as="script"><link rel="prefetch" href="/assets/intro.html-B6C9R5hq.js" as="script"><link rel="prefetch" href="/assets/index.html-DLMorU0F.js" as="script"><link rel="prefetch" href="/assets/disable.html-DcM63Dhd.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-CY1eG1Eh.js" as="script"><link rel="prefetch" href="/assets/layout.html-C43Axe9E.js" as="script"><link rel="prefetch" href="/assets/markdown.html-C8Z7SYB7.js" as="script"><link rel="prefetch" href="/assets/page.html-DrfUacGf.js" as="script"><link rel="prefetch" href="/assets/cherry.html-BIya1n2K.js" as="script"><link rel="prefetch" href="/assets/dragonfruit.html-D8iIh8XT.js" as="script"><link rel="prefetch" href="/assets/strawberry.html-CGqEPBmz.js" as="script"><link rel="prefetch" href="/assets/tomato.html-zQnnv9qJ.js" as="script"><link rel="prefetch" href="/assets/1.html-CMwM-5hR.js" as="script"><link rel="prefetch" href="/assets/2.html-COf1-jG6.js" as="script"><link rel="prefetch" href="/assets/3.html-CxyI_Cn-.js" as="script"><link rel="prefetch" href="/assets/4.html-TmLXsqyv.js" as="script"><link rel="prefetch" href="/assets/1.html-Br2aFuHH.js" as="script"><link rel="prefetch" href="/assets/2.html-D2-IHPg_.js" as="script"><link rel="prefetch" href="/assets/3.html-BWMoHAik.js" as="script"><link rel="prefetch" href="/assets/4.html-C4RGknh2.js" as="script"><link rel="prefetch" href="/assets/1.html-DxI6oCQO.js" as="script"><link rel="prefetch" href="/assets/10.html-D9jupG60.js" as="script"><link rel="prefetch" href="/assets/11.html-Cw54mjGf.js" as="script"><link rel="prefetch" href="/assets/2.html-Cl0j8d5F.js" as="script"><link rel="prefetch" href="/assets/3.html-AeX6m99e.js" as="script"><link rel="prefetch" href="/assets/4.html-C-hJnN3d.js" as="script"><link rel="prefetch" href="/assets/5.html-COtYkfnm.js" as="script"><link rel="prefetch" href="/assets/6.html-1iLX6apn.js" as="script"><link rel="prefetch" href="/assets/7.html-CqBJ9XK8.js" as="script"><link rel="prefetch" href="/assets/8.html-BbzSf9Ea.js" as="script"><link rel="prefetch" href="/assets/9.html-Dwb_yb1c.js" as="script"><link rel="prefetch" href="/assets/index.html-BYeU2zL3.js" as="script"><link rel="prefetch" href="/assets/é‡å­¦CSS-ä¸Š.html-B0Sin1dm.js" as="script"><link rel="prefetch" href="/assets/é‡å­¦CSS-ä¸­.html-B5iYkYop.js" as="script"><link rel="prefetch" href="/assets/é‡å­¦HTML-ä¸Š.html-vX_Gon5W.js" as="script"><link rel="prefetch" href="/assets/é‡å­¦HTML-ä¸‹.html-DAjBKFhC.js" as="script"><link rel="prefetch" href="/assets/é”™é¢˜ä¸€.html-DbAsiIFH.js" as="script"><link rel="prefetch" href="/assets/é¢è¯•é¢˜ä¸€.html-DewYVkcq.js" as="script"><link rel="prefetch" href="/assets/SQLé€Ÿè®°.html-AOnTdY0V.js" as="script"><link rel="prefetch" href="/assets/Gitå­¦ä¹ .html-DkG6JYj2.js" as="script"><link rel="prefetch" href="/assets/ç¼–ç¨‹è§„èŒƒ.html-D0NFCHgT.js" as="script"><link rel="prefetch" href="/assets/index.html-BiIQdjMc.js" as="script"><link rel="prefetch" href="/assets/ç®—æ³•ä¸€-6æœˆ24.html-DTKcp5AO.js" as="script"><link rel="prefetch" href="/assets/ç®—æ³•ä¸ƒ.html-DdD2rq_u.js" as="script"><link rel="prefetch" href="/assets/ç®—æ³•ä¸‰-7æœˆ28.html-IvBk2w7M.js" as="script"><link rel="prefetch" href="/assets/ç®—æ³•äºŒ-7æœˆ11.html-DjAFYIPM.js" as="script"><link rel="prefetch" href="/assets/ç®—æ³•äº”-8æœˆ28.html-C3I5X2je.js" as="script"><link rel="prefetch" href="/assets/ç®—æ³•å…­-10æœˆ3.html-BvlL6LS5.js" as="script"><link rel="prefetch" href="/assets/ç®—æ³•å››-8æœˆ11-åŠ¨æ€è§„åˆ’åˆé›†.html-CjLGpKus.js" as="script"><link rel="prefetch" href="/assets/Vue-ä¸Š.html-B0Lr7nV3.js" as="script"><link rel="prefetch" href="/assets/Vue-ä¸‹ä¹‹æºç åˆ†æ.html-BD_4VJ0C.js" as="script"><link rel="prefetch" href="/assets/Vue-ä¸­ä¹‹é¡¹ç›®å¼€å‘.html-rOrrxsQ8.js" as="script"><link rel="prefetch" href="/assets/jQuery-ä¸Š.html-nga5I_BK.js" as="script"><link rel="prefetch" href="/assets/jQuery-ä¸‹.html-DIiLBEFZ.js" as="script"><link rel="prefetch" href="/assets/jQuery-ä¸­.html-DJoMcveV.js" as="script"><link rel="prefetch" href="/assets/ES6-ä¸Š.html-Dcz22XKB.js" as="script"><link rel="prefetch" href="/assets/ES6-ä¸­.html-BIZJ0lh1.js" as="script"><link rel="prefetch" href="/assets/åŸç”ŸJS-ä¸‹.html-BAU3Sgz8.js" as="script"><link rel="prefetch" href="/assets/åŸç”ŸJSé«˜çº§-ä¸Š.html-BZSBYmwo.js" as="script"><link rel="prefetch" href="/assets/åŸç”ŸJSé«˜çº§-ä¸­.html-D67fEsOu.js" as="script"><link rel="prefetch" href="/assets/Node-ä¸Šä¹‹åŸºæœ¬çŸ¥è¯†.html-oQnuzLAZ.js" as="script"><link rel="prefetch" href="/assets/Node-ä¸‹ä¹‹ç»¼åˆWebé¡¹ç›®.html-Di34pteC.js" as="script"><link rel="prefetch" href="/assets/ä¸€ã€å…¥é—¨.html-D5k4DS9M.js" as="script"><link rel="prefetch" href="/assets/ä¸€ã€MyBatiså…¥é—¨.html-Bfzc1eU6.js" as="script"><link rel="prefetch" href="/assets/äºŒã€å•è¡¨çš„ CURD æ“ä½œ.html-1LvZCg8U.js" as="script"><link rel="prefetch" href="/assets/äº”ã€Mybatisæ³¨è§£å¼å¼€å‘.html-CFcnpeAb.js" as="script"><link rel="prefetch" href="/assets/å››ã€æŸ¥è¯¢ç¼“å­˜.html-BpPzV5RM.js" as="script"><link rel="prefetch" href="/assets/ä¸€ã€SSMæ¡†æ¶å‰è¨€-ç³»ç»Ÿæ¶æ„.html-BNHjrY0j.js" as="script"><link rel="prefetch" href="/assets/ä¸‰ã€SSMæ¡†æ¶å‰è¨€-ä»£ç†æ¨¡å¼.html-Bq08uHvv.js" as="script"><link rel="prefetch" href="/assets/äº”ã€SSMæ¡†æ¶å‰è¨€-æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼.html-CbH5Nf2k.js" as="script"><link rel="prefetch" href="/assets/å…­ã€JUnitæµ‹è¯•.html-dTaYXUP8.js" as="script"><link rel="prefetch" href="/assets/ä¸€ã€Springæ¦‚è¿°.html-BDskkK2Y.js" as="script"><link rel="prefetch" href="/assets/ä¸‰ã€Springä¸AOP.html-DuyvU3LH.js" as="script"><link rel="prefetch" href="/assets/äºŒã€Springä¸IoC.html-ru97n2J7.js" as="script"><link rel="prefetch" href="/assets/äº”ã€Springä¸MyBatis.html-CYnqIC47.js" as="script"><link rel="prefetch" href="/assets/å…­ã€Springä¸Web.html-Piv_QwFX.js" as="script"><link rel="prefetch" href="/assets/ä¸€ã€SpringMVCæ¦‚è¿°.html-C6fvnneu.js" as="script"><link rel="prefetch" href="/assets/ä¸‰ã€SpringMVCæ³¨è§£å¼å¼€å‘.html-CbZlrD3S.js" as="script"><link rel="prefetch" href="/assets/äºŒã€SpringMVCé…ç½®å¼å¼€å‘.html-DvGRruJl.js" as="script"><link rel="prefetch" href="/assets/404.html-DwjS9BSF.js" as="script"><link rel="prefetch" href="/assets/index.html-DOXBK-MG.js" as="script"><link rel="prefetch" href="/assets/index.html-B4JBE6qo.js" as="script"><link rel="prefetch" href="/assets/index.html-ByCBtjzp.js" as="script"><link rel="prefetch" href="/assets/index.html-DUjdNlkQ.js" as="script"><link rel="prefetch" href="/assets/index.html-BQ0LNdIg.js" as="script"><link rel="prefetch" href="/assets/index.html-DXgCWpIO.js" as="script"><link rel="prefetch" href="/assets/index.html-CeAIxY_N.js" as="script"><link rel="prefetch" href="/assets/index.html-D2aYfzCo.js" as="script"><link rel="prefetch" href="/assets/index.html-DkmCvu4t.js" as="script"><link rel="prefetch" href="/assets/index.html-CRjEHeoR.js" as="script"><link rel="prefetch" href="/assets/index.html-DJmt3rZK.js" as="script"><link rel="prefetch" href="/assets/index.html-PxNu01vc.js" as="script"><link rel="prefetch" href="/assets/index.html-DkXksGxV.js" as="script"><link rel="prefetch" href="/assets/index.html-B_oacSCE.js" as="script"><link rel="prefetch" href="/assets/index.html-CEPdEwdg.js" as="script"><link rel="prefetch" href="/assets/index.html-CQiClpTh.js" as="script"><link rel="prefetch" href="/assets/index.html-QpBbXLHf.js" as="script"><link rel="prefetch" href="/assets/index.html-t8UnC6Zs.js" as="script"><link rel="prefetch" href="/assets/index.html-B0KL5Hk8.js" as="script"><link rel="prefetch" href="/assets/index.html-BZpzyJHU.js" as="script"><link rel="prefetch" href="/assets/index.html-DyXLRUZL.js" as="script"><link rel="prefetch" href="/assets/index.html-f247Gmvj.js" as="script"><link rel="prefetch" href="/assets/index.html-D2czsTlA.js" as="script"><link rel="prefetch" href="/assets/index.html-C6xVfX2L.js" as="script"><link rel="prefetch" href="/assets/index.html-_UlouUSQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CQZKGKeP.js" as="script"><link rel="prefetch" href="/assets/index.html-fDIb34we.js" as="script"><link rel="prefetch" href="/assets/index.html-BeEeRf3d.js" as="script"><link rel="prefetch" href="/assets/index.html-7eDYJOr-.js" as="script"><link rel="prefetch" href="/assets/index.html-Y4kBRMpI.js" as="script"><link rel="prefetch" href="/assets/index.html-xoVA0uhu.js" as="script"><link rel="prefetch" href="/assets/index.html-auH5Thty.js" as="script"><link rel="prefetch" href="/assets/index.html-XQxXqkKC.js" as="script"><link rel="prefetch" href="/assets/index.html-Snz-MvmN.js" as="script"><link rel="prefetch" href="/assets/index.html-DbLfoIHi.js" as="script"><link rel="prefetch" href="/assets/index.html-vPm7VVNA.js" as="script"><link rel="prefetch" href="/assets/index.html-BItDIiXb.js" as="script"><link rel="prefetch" href="/assets/index.html-ymSh51Ij.js" as="script"><link rel="prefetch" href="/assets/index.html-Bx5LTece.js" as="script"><link rel="prefetch" href="/assets/index.html-pd171acq.js" as="script"><link rel="prefetch" href="/assets/index.html-BngXe016.js" as="script"><link rel="prefetch" href="/assets/index.html-C8xA2oE6.js" as="script"><link rel="prefetch" href="/assets/index.html-DG5ZGFDT.js" as="script"><link rel="prefetch" href="/assets/index.html-D0R52rHg.js" as="script"><link rel="prefetch" href="/assets/index.html-Ctfzky_k.js" as="script"><link rel="prefetch" href="/assets/index.html-CzOpCX5W.js" as="script"><link rel="prefetch" href="/assets/index.html-CXi8Apc4.js" as="script"><link rel="prefetch" href="/assets/index-uOBkQLRT.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-SzV8tJDW.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="https://theme-hope-assets.vuejs.press/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">åšå®¢æ¼”ç¤º</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/" aria-label="åšå®¢ä¸»é¡µ"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>åšå®¢ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link active" href="/%E5%AD%A6%E4%B9%A0/" aria-label="å­¦ä¹ "><span class="font-icon icon fa-fw fa-sm fas fa-creative" style=""></span>å­¦ä¹ <!----></a></div><div class="nav-item hide-in-mobile"><a href="https://vuepress-theme-hope.github.io/v2/zh/" rel="noopener noreferrer" target="_blank" aria-label="å…³äºæˆ‘" class="nav-link"><span class="font-icon icon fa-fw fa-sm fas fa-light" style=""></span>å…³äºæˆ‘<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/timeline/" aria-label="æ—¶é—´è½´"><span class="font-icon icon fa-fw fa-sm fas fa-time" style=""></span>æ—¶é—´è½´<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://vuepress-theme-hope.github.io/v2/zh/" rel="noopener noreferrer" target="_blank" aria-label="å¸¸ç”¨é“¾æ¥" class="nav-link"><span class="font-icon icon fa-fw fa-sm fas fa-network" style=""></span>å¸¸ç”¨é“¾æ¥<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Haskellä¸­æ–‡æ–‡æ¡£</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><span class="vp-sidebar-title">å‰ç«¯</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/" aria-label="å‰ç«¯"><!---->å‰ç«¯<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">JSæ¡†æ¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E9%9D%A2%E8%AF%95%E9%A2%98%E4%B8%80.html" aria-label="Vueé¢è¯•é¢˜ä¸€"><!---->Vueé¢è¯•é¢˜ä¸€<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">åŸç”Ÿ JS</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><span class="vp-sidebar-title">æœåŠ¡å™¨</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%8A%E4%B9%8B%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86.html" aria-label="Node-ä¸Šä¹‹åŸºæœ¬çŸ¥è¯†"><!---->Node-ä¸Šä¹‹åŸºæœ¬çŸ¥è¯†<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%8B%E4%B9%8B%E7%BB%BC%E5%90%88Web%E9%A1%B9%E7%9B%AE.html" aria-label="Node-ä¸‹ä¹‹ç»¼åˆWebé¡¹ç›®"><!---->Node-ä¸‹ä¹‹ç»¼åˆWebé¡¹ç›®<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html" aria-label="Node-ä¸­ä¹‹æ¡†æ¶ä½¿ç”¨"><!---->Node-ä¸­ä¹‹æ¡†æ¶ä½¿ç”¨<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#ä¸€ã€express" aria-label="ä¸€ã€Express"><!---->ä¸€ã€Express<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_1-1-å®‰è£…ä½¿ç”¨" aria-label="1.1 å®‰è£…ä½¿ç”¨"><!---->1.1 å®‰è£…ä½¿ç”¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_1-2-å…¥é—¨" aria-label="1.2 å…¥é—¨"><!---->1.2 å…¥é—¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_1-3-å…¬å¼€æŒ‡å®šç›®å½•" aria-label="1.3 å…¬å¼€æŒ‡å®šç›®å½•"><!---->1.3 å…¬å¼€æŒ‡å®šç›®å½•<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_1-4-æ–‡ä»¶æ“ä½œè·¯å¾„é—®é¢˜" aria-label="1.4 æ–‡ä»¶æ“ä½œè·¯å¾„é—®é¢˜"><!---->1.4 æ–‡ä»¶æ“ä½œè·¯å¾„é—®é¢˜<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_1-5-ä¸art-templateç»“åˆ" aria-label="1.5 ä¸art-templateç»“åˆ"><!---->1.5 ä¸art-templateç»“åˆ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_1-6-æ”¹å†™ç•™è¨€æ¿æ¡ˆä¾‹" aria-label="1.6 æ”¹å†™ç•™è¨€æ¿æ¡ˆä¾‹"><!---->1.6 æ”¹å†™ç•™è¨€æ¿æ¡ˆä¾‹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_1-8-è¯»å–æ–‡ä»¶é‡Œçš„æ•°æ®" aria-label="1.8 è¯»å–æ–‡ä»¶é‡Œçš„æ•°æ®"><!---->1.8 è¯»å–æ–‡ä»¶é‡Œçš„æ•°æ®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#äºŒã€curdèµ·æ­¥" aria-label="äºŒã€CURDèµ·æ­¥"><!---->äºŒã€CURDèµ·æ­¥<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_2-1-èµ·æ­¥" aria-label="2.1 èµ·æ­¥"><!---->2.1 èµ·æ­¥<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_2-2-æå–è·¯ç”±æ¨¡å—" aria-label="2.2 æå–è·¯ç”±æ¨¡å—"><!---->2.2 æå–è·¯ç”±æ¨¡å—<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_2-3-å°è£…æ“ä½œæ•°æ®æ¨¡å—" aria-label="2.3 å°è£…æ“ä½œæ•°æ®æ¨¡å—"><!---->2.3 å°è£…æ“ä½œæ•°æ®æ¨¡å—<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#ä¸‰ã€mongodb" aria-label="ä¸‰ã€MongoDB"><!---->ä¸‰ã€MongoDB<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_3-1-å®‰è£…" aria-label="3.1 å®‰è£…"><!---->3.1 å®‰è£…<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_3-2-é…ç½®" aria-label="3.2 é…ç½®"><!---->3.2 é…ç½®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_3-3-åŸºæœ¬å‘½ä»¤" aria-label="3.3 åŸºæœ¬å‘½ä»¤"><!---->3.3 åŸºæœ¬å‘½ä»¤<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_3-4-å®‰è£…mongoose" aria-label="3.4 å®‰è£…mongoose"><!---->3.4 å®‰è£…mongoose<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_3-5-å¿«é€Ÿå¼€å§‹mongoose" aria-label="3.5 å¿«é€Ÿå¼€å§‹mongoose"><!---->3.5 å¿«é€Ÿå¼€å§‹mongoose<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_3-6-æŸ¥è¯¢è¯­å¥" aria-label="3.6 æŸ¥è¯¢è¯­å¥"><!---->3.6 æŸ¥è¯¢è¯­å¥<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_3-7-æ”¹é€ å­¦ç”Ÿä¿¡æ¯" aria-label="3.7 æ”¹é€ å­¦ç”Ÿä¿¡æ¯"><!---->3.7 æ”¹é€ å­¦ç”Ÿä¿¡æ¯<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#å››ã€nodeè¿æ¥mysql" aria-label="å››ã€Nodeè¿æ¥Mysql"><!---->å››ã€Nodeè¿æ¥Mysql<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_4-1-å®‰è£…" aria-label="4.1 å®‰è£…"><!---->4.1 å®‰è£…<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_4-2-è¿æ¥æ•°æ®åº“" aria-label="4.2 è¿æ¥æ•°æ®åº“"><!---->4.2 è¿æ¥æ•°æ®åº“<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_4-3-ä½¿ç”¨è¿æ¥æ± " aria-label="4.3 ä½¿ç”¨è¿æ¥æ± "><!---->4.3 ä½¿ç”¨è¿æ¥æ± <!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_4-4-è¿æ¥æ± äº‹ä»¶" aria-label="4.4 è¿æ¥æ± äº‹ä»¶"><!---->4.4 è¿æ¥æ± äº‹ä»¶<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_4-5-é‡Šæ”¾è¿æ¥" aria-label="4.5 é‡Šæ”¾è¿æ¥"><!---->4.5 é‡Šæ”¾è¿æ¥<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_4-5-æŸ¥è¯¢è¯­å¥" aria-label="4.5 æŸ¥è¯¢è¯­å¥"><!---->4.5 æŸ¥è¯¢è¯­å¥<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#äº”ã€è·¯å¾„é—®é¢˜" aria-label="äº”ã€è·¯å¾„é—®é¢˜"><!---->äº”ã€è·¯å¾„é—®é¢˜<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_5-1-é‡åˆ°çš„é—®é¢˜" aria-label="5.1 é‡åˆ°çš„é—®é¢˜"><!---->5.1 é‡åˆ°çš„é—®é¢˜<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_5-2-è§£å†³æ–¹æ¡ˆ" aria-label="5.2 è§£å†³æ–¹æ¡ˆ"><!---->5.2 è§£å†³æ–¹æ¡ˆ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#å…­ã€arttemplateæ¨¡æ¿ç»§æ‰¿" aria-label="å…­ã€artTemplateæ¨¡æ¿ç»§æ‰¿"><!---->å…­ã€artTemplateæ¨¡æ¿ç»§æ‰¿<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_6-1-å­æ¨¡æ¿" aria-label="6.1 å­æ¨¡æ¿"><!---->6.1 å­æ¨¡æ¿<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%AD%E4%B9%8B%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8.html#_6-2-æ¨¡æ¿ç»§æ‰¿" aria-label="6.2 æ¨¡æ¿ç»§æ‰¿"><!---->6.2 æ¨¡æ¿ç»§æ‰¿<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li></ul></section></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E9%87%8D%E5%AD%A6CSS-%E4%B8%8A.html" aria-label="é‡å­¦CSS-ä¸Š"><!---->é‡å­¦CSS-ä¸Š<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E9%87%8D%E5%AD%A6CSS-%E4%B8%AD.html" aria-label="é‡å­¦CSS-ä¸­"><!---->é‡å­¦CSS-ä¸­<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E9%87%8D%E5%AD%A6HTML-%E4%B8%8A.html" aria-label="é‡å­¦HTML-ä¸Š"><!---->é‡å­¦HTML-ä¸Š<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E9%87%8D%E5%AD%A6HTML-%E4%B8%8B.html" aria-label="é‡å­¦HTML-ä¸‹"><!---->é‡å­¦HTML-ä¸‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E9%94%99%E9%A2%98%E4%B8%80.html" aria-label="é”™é¢˜ä¸€"><!---->é”™é¢˜ä¸€<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">åç«¯</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">å·¥å…·</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">ç®—æ³•</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Node-ä¸­ä¹‹æ¡†æ¶ä½¿ç”¨</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">hahg</span></span><span property="author" content="hahg"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-02-24T04:33:47.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 25 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT25M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#ä¸€ã€express">ä¸€ã€Express</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_1-1-å®‰è£…ä½¿ç”¨">1.1 å®‰è£…ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_1-2-å…¥é—¨">1.2 å…¥é—¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_1-3-å…¬å¼€æŒ‡å®šç›®å½•">1.3 å…¬å¼€æŒ‡å®šç›®å½•</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_1-4-æ–‡ä»¶æ“ä½œè·¯å¾„é—®é¢˜">1.4 æ–‡ä»¶æ“ä½œè·¯å¾„é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_1-5-ä¸art-templateç»“åˆ">1.5 ä¸art-templateç»“åˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_1-6-æ”¹å†™ç•™è¨€æ¿æ¡ˆä¾‹">1.6 æ”¹å†™ç•™è¨€æ¿æ¡ˆä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_1-8-è¯»å–æ–‡ä»¶é‡Œçš„æ•°æ®">1.8 è¯»å–æ–‡ä»¶é‡Œçš„æ•°æ®</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#äºŒã€curdèµ·æ­¥">äºŒã€CURDèµ·æ­¥</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_2-1-èµ·æ­¥">2.1 èµ·æ­¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_2-2-æå–è·¯ç”±æ¨¡å—">2.2 æå–è·¯ç”±æ¨¡å—</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_2-3-å°è£…æ“ä½œæ•°æ®æ¨¡å—">2.3 å°è£…æ“ä½œæ•°æ®æ¨¡å—</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#ä¸‰ã€mongodb">ä¸‰ã€MongoDB</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_3-1-å®‰è£…">3.1 å®‰è£…</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_3-2-é…ç½®">3.2 é…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_3-3-åŸºæœ¬å‘½ä»¤">3.3 åŸºæœ¬å‘½ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_3-4-å®‰è£…mongoose">3.4 å®‰è£…mongoose</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_3-5-å¿«é€Ÿå¼€å§‹mongoose">3.5 å¿«é€Ÿå¼€å§‹mongoose</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_3-6-æŸ¥è¯¢è¯­å¥">3.6 æŸ¥è¯¢è¯­å¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_3-7-æ”¹é€ å­¦ç”Ÿä¿¡æ¯">3.7 æ”¹é€ å­¦ç”Ÿä¿¡æ¯</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#å››ã€nodeè¿æ¥mysql">å››ã€Nodeè¿æ¥Mysql</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_4-1-å®‰è£…">4.1 å®‰è£…</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_4-2-è¿æ¥æ•°æ®åº“">4.2 è¿æ¥æ•°æ®åº“</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_4-3-ä½¿ç”¨è¿æ¥æ± ">4.3 ä½¿ç”¨è¿æ¥æ± </a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_4-4-è¿æ¥æ± äº‹ä»¶">4.4 è¿æ¥æ± äº‹ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_4-5-é‡Šæ”¾è¿æ¥">4.5 é‡Šæ”¾è¿æ¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_4-5-æŸ¥è¯¢è¯­å¥">4.5 æŸ¥è¯¢è¯­å¥</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#äº”ã€è·¯å¾„é—®é¢˜">äº”ã€è·¯å¾„é—®é¢˜</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_5-1-é‡åˆ°çš„é—®é¢˜">5.1 é‡åˆ°çš„é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_5-2-è§£å†³æ–¹æ¡ˆ">5.2 è§£å†³æ–¹æ¡ˆ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#å…­ã€arttemplateæ¨¡æ¿ç»§æ‰¿">å…­ã€artTemplateæ¨¡æ¿ç»§æ‰¿</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_6-1-å­æ¨¡æ¿">6.1 å­æ¨¡æ¿</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_6-2-æ¨¡æ¿ç»§æ‰¿">6.2 æ¨¡æ¿ç»§æ‰¿</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h1 id="node-ä¸­ä¹‹æ¡†æ¶ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#node-ä¸­ä¹‹æ¡†æ¶ä½¿ç”¨"><span>Node-ä¸­ä¹‹æ¡†æ¶ä½¿ç”¨</span></a></h1><h2 id="ä¸€ã€express" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€express"><span>ä¸€ã€Express</span></a></h2><p>åŸç”Ÿçš„ http åœ¨æŸäº›æ–¹é¢è¡¨ç°ä¸è¶³ä»¥åº”å¯¹æˆ‘ä»¬çš„å¼€å‘éœ€æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨æ¡†æ¶æ¥åŠ å¿«æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ã€‚</p><p>åœ¨ Node ä¸­ï¼Œæœ‰å¾ˆå¤šçš„ Web å¼€å‘æ¡†æ¶ï¼Œè¿™é‡Œå­¦ä¹  express ä¸ºä¸»ã€‚</p><h3 id="_1-1-å®‰è£…ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-1-å®‰è£…ä½¿ç”¨"><span>1.1 å®‰è£…ä½¿ç”¨</span></a></h3><ol><li>åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹</li><li>åœ¨æ–‡ä»¶å¤¹ç›®å½•çš„å‘½ä»¤è¡Œä¸­ï¼Œåˆ›å»º package.json æ–‡ä»¶ã€‚</li><li>ç„¶åæ‰§è¡Œ <code>npm install express --save</code> å‘½ä»¤ã€‚</li></ol><h3 id="_1-2-å…¥é—¨" tabindex="-1"><a class="header-anchor" href="#_1-2-å…¥é—¨"><span>1.2 å…¥é—¨</span></a></h3><ol><li>å…ˆåˆ›å»ºä¸€ä¸ª app.js ï¼Œä½œä¸ºå½“å‰é¡¹ç›®çš„ä¸»å…¥å£ã€‚æˆ‘ä»¬éœ€è¦åœ¨è¯¥æ–‡ä»¶é‡Œå¼€å¯æœåŠ¡å™¨ã€‚</li><li>å¯¼å…¥ express æ¨¡å—ã€‚ <code>var express = require(&#39;express&#39;)</code></li><li>åˆ›å»ºæœåŠ¡å™¨åº”ç”¨ç¨‹åºã€‚è¿™é‡Œå˜é‡åä»åŸæ¥çš„ server æ”¹ä¸ºäº† appã€‚ ç°åœ¨ä¸º <code>var app = express()</code> åŸæ¥ä¸º <code>var server = http.createServer()</code></li><li>å¼€å¯ç›‘å¬ç«¯å£æ“ä½œã€‚ <code>app.listen(3000, ()=&gt;{ console.log(&#39;app is running...&#39;)})</code></li><li>åˆ¤æ–­è¯·æ±‚ã€‚ç›´æ¥ä½¿ç”¨ <code>app.get( &#39;è¯·æ±‚å&#39;, function(){} )</code> å³å¯ï¼Œä¸éœ€è¦è‡ªå·±ä½¿ç”¨ if åˆ¤æ–­ã€‚</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;è¿™é‡Œæ˜¯ä¸»é¡µï¼&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;è¿™é‡Œæ˜¯æµ‹è¯•é¡µé¢ï¼&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-å…¬å¼€æŒ‡å®šç›®å½•" tabindex="-1"><a class="header-anchor" href="#_1-3-å…¬å¼€æŒ‡å®šç›®å½•"><span>1.3 å…¬å¼€æŒ‡å®šç›®å½•</span></a></h3><p>å…¬å¼€æŒ‡å®šç›®å½•è°ƒç”¨ä¸€ä¸ª API å³å¯ã€‚</p><ul><li><code>app.use( &#39;è¯·æ±‚è·¯å¾„&#39;, express.static(&#39;éœ€è¦å¼€æ”¾çš„ç›®å½•&#39;) )</code></li><li>ä¾‹å¦‚ï¼š<code>app.use(&#39;/public/&#39;, express.static(&#39;./public/&#39;))</code>ï¼Œè®¿é—®æ—¶è¾“å…¥çš„ç½‘å€ï¼š<code>http://127.0.0.1:3000/public/a.js</code></li><li>å¦‚æœä¸æƒ³æ¯æ¬¡è®¿é—® public æ–‡ä»¶å¤¹æ—¶éƒ½åŠ ä¸Š â€œ /public â€ï¼Œåˆ™å¯ä»¥ç›´æ¥çœç•¥ç¬¬ä¸€ä¸ªå‚æ•°ï¼š <code>app.use( express.static(&#39;éœ€è¦å¼€æ”¾çš„ç›®å½•&#39;) )</code>ã€‚</li><li>ä¾‹å¦‚ï¼š<code>app.use(express.static(&#39;./public/&#39;))</code>ï¼Œæ¯æ¬¡åªéœ€è¦è®¿é—® <code>http://127.0.0.1:3000/a.js</code> å³å¯ã€‚</li><li>è¿™é‡Œä½¿ç”¨ <code>path.join()</code> æ–¹æ³•æ¥å¡«å†™éœ€è¦å¼€æ”¾çš„ç›®å½•ï¼Œè¿™é‡Œå…ˆä¸è¯¦å†™ï¼Œè¯¦æƒ…è¯·çœ‹ <strong>5.2 èŠ‚</strong>ã€‚</li></ul><h3 id="_1-4-æ–‡ä»¶æ“ä½œè·¯å¾„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_1-4-æ–‡ä»¶æ“ä½œè·¯å¾„é—®é¢˜"><span>1.4 æ–‡ä»¶æ“ä½œè·¯å¾„é—®é¢˜</span></a></h3><p>å¯¹äºå¡«å†™æ–‡ä»¶è·¯å¾„çš„æ—¶å€™ä¼šä¸‹é¢å‡ ç§æ–¹å¼ï¼š</p><ul><li><p>å¦‚æœæ–‡ä»¶åœ¨åŒçº§ç›®å½•ä¸Šç›´æ¥å†™æ–‡ä»¶åå­—ï¼š <code>&lt;img src=&quot;çº±è·¯.jpg&quot; alt=&quot;&quot;&gt;</code>ã€‚</p></li><li><p>è¿™è¡Œæ˜¯ä¸Šé¢çš„å®Œæ•´å†™æ³•ï¼Œ<strong>å»ºè®®ä½¿ç”¨</strong>ï¼Œâ€œ ./ â€œ ä»£è¡¨å½“å‰ç›®å½•ï¼š <code>&lt;img src=&quot;./çº±è·¯.jpg&quot; alt=&quot;&quot;&gt;</code></p></li><li><p>å¦‚æœæ–‡ä»¶åœ¨å½“å‰ç›®å½•çš„ç£ç›˜æ ¹ç›®å½•ä¸Šï¼Œä»¥ &quot; / &quot; å¼€å¤´ï¼ˆå¾ˆå°‘ä½¿ç”¨ï¼‰ï¼š<code>&lt;img src=&quot;/çº±è·¯.jpg&quot; alt=&quot;&quot;&gt;</code></p><ul><li>å¦‚æœå½“å‰æ–‡ä»¶è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šï¼Œåˆ™å°±ä»£è¡¨è¯·æ±‚ç½‘ç»œè·¯å¾„çš„å›¾ç‰‡ã€‚</li></ul></li><li><p>å¦‚æœæ–‡ä»¶åœ¨å…¶ä»–ç£ç›˜ä¸Šï¼Œåˆ™ä»¥ç£ç›˜å¼€å¤´ï¼ˆå¾ˆå°‘ä½¿ç”¨ï¼‰ï¼š<code>&lt;img src=&quot;c:/çº±è·¯.jpg&quot; alt=&quot;&quot;&gt;</code>ã€‚</p></li></ul><h3 id="_1-5-ä¸art-templateç»“åˆ" tabindex="-1"><a class="header-anchor" href="#_1-5-ä¸art-templateç»“åˆ"><span>1.5 ä¸art-templateç»“åˆ</span></a></h3><p>æˆ‘ä»¬éœ€è¦å°† art-template ä¸ express ç»“åˆä¸€èµ·ç¼–ç¨‹ã€‚<a href="http://aui.github.io/art-template/zh-cn/express/index.html" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h4 id="_1-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#_1-å®‰è£…"><span>ï¼ˆ1ï¼‰å®‰è£…</span></a></h4><p>ä½¿ç”¨ art-template å½“ç„¶éœ€è¦å®‰è£…ä»–ï¼Œè¿˜éœ€è¦å°†ä¸€ä¸ªè¿æ¥ express çš„æ¨¡å—ã€‚</p><div class="language-powershell line-numbers-mode" data-ext="powershell" data-title="powershell"><pre class="language-powershell"><code>npm install <span class="token operator">--</span>save art-template 
npm install <span class="token operator">--</span>save express-art-template
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-é…ç½®" tabindex="-1"><a class="header-anchor" href="#_2-é…ç½®"><span>ï¼ˆ2ï¼‰é…ç½®</span></a></h4><p>é¦–å…ˆå…ˆé…ç½®ä½¿ç”¨ art-templateã€‚</p><p><code>app.engine(&#39;html&#39;, require(&#39;express-art-template&#39;))</code></p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šé»˜è®¤æ¸²æŸ“æ–‡ä»¶åçš„åç¼€åã€‚å¯ä»¥ä¸º artï¼Œä½†ç”±äºç¼–è¾‘å™¨å¯¹äº art åç¼€åçš„æ–‡ä»¶æ”¯æŒä¸å¤Ÿï¼ˆ2021å¹´11æœˆ7æ—¥ vscodeä¸æ”¯æŒï¼‰ï¼Œæ‰€ä»¥é¦–é€‰ htmlã€‚</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼šåŠ è½½ express-art-templateã€‚è¯¥æ¨¡å—å¯ä»¥è‡ªåŠ¨å°† art-template æ•´åˆåˆ° expressï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦å†å•ç‹¬å¯¼å…¥ art-templateã€‚</li></ul><h4 id="_3-ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-ä½¿ç”¨"><span>ï¼ˆ3ï¼‰ä½¿ç”¨</span></a></h4><ul><li>express ä¸º Respone ç›¸åº”å¯¹è±¡æä¾›äº†ä¸€ä¸ªæ–¹æ³• <code>render()</code>ã€‚</li><li>ä½¿ç”¨è¯¥æ–¹æ³•éœ€è¦é…ç½®æ¨¡æ¿å¼•æ“ï¼Œé…ç½®å®Œæ‰å¯ä»¥ä½¿ç”¨ã€‚</li><li>è¯­æ³•ç»“æ„ï¼š<code>response.render(&#39;htmlæ–‡ä»¶å&#39;, {æ¨¡æ¿æ•°æ®})</code><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šå› ä¸º express ä¼šè‡ªåŠ¨åˆ° views æ–‡ä»¶å¤¹é‡ŒæŸ¥æ‰¾è§†å›¾æ–‡ä»¶ï¼Œæ‰€ä»¥ç›´æ¥å†™éœ€è¦æ¸²æŸ“çš„æ–‡ä»¶åå³å¯ã€‚</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼šéœ€è¦æ¸²æŸ“åˆ°ç½‘é¡µé‡Œçš„æ•°æ®ã€‚</li><li>å¦‚æœæƒ³æ”¹å˜é»˜è®¤çš„ views ä½ç½®ï¼Œä½¿ç”¨è¯¥è¡Œä»£ç  <code>app.set(&#39;views&#39;, &#39;è‡ªå®šä¹‰è·¯å¾„&#39;)</code>ã€‚</li></ul></li></ul><h3 id="_1-6-æ”¹å†™ç•™è¨€æ¿æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#_1-6-æ”¹å†™ç•™è¨€æ¿æ¡ˆä¾‹"><span>1.6 æ”¹å†™ç•™è¨€æ¿æ¡ˆä¾‹</span></a></h3><p>ä½¿ç”¨ express æ¥æ”¹å†™ä¹‹å‰çš„ç•™è¨€æ¿æ¡ˆä¾‹ã€‚</p><h4 id="_1-æ”¹å†™è·³è½¬å±•ç¤ºé¡µé¢" tabindex="-1"><a class="header-anchor" href="#_1-æ”¹å†™è·³è½¬å±•ç¤ºé¡µé¢"><span>ï¼ˆ1ï¼‰æ”¹å†™è·³è½¬å±•ç¤ºé¡µé¢</span></a></h4><p>ç›´æ¥ä½¿ç”¨ <code>get()</code> æ–¹æ³•æ¥å¤„ç† â€œ / â€è¯·æ±‚ï¼Œä½¿ç”¨ <code>render()</code> æ–¹æ³•æ¥è¯»å–æ–‡ä»¶å¹¶æ¸²æŸ“é¡µé¢ï¼Œä¸éœ€è¦å†ç”¨è¯»å†™æ–‡ä»¶æ“ä½œã€‚</p><div class="hint-container warning"><p class="hint-container-title">æ³¨æ„</p><p><code>render()</code> æ–¹æ³•æ‰§è¡Œå®Œåä¼šè‡ªåŠ¨ç»“æŸå‘é€å“åº”</p></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">var</span> msg_data <span class="token operator">=</span> <span class="token punctuation">[</span>
<span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;æå››&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;ä»Šå¤©å¤©æ°”çœŸå¥½&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;ç‹äº”&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;ä»Šå¤©å¤©æ°”çœŸå¥½&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;å¼ ä¸‰&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;ä»Šå¤©å¤©æ°”çœŸå¥½&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
  response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;å±•ç¤ºç•™è¨€.html&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&#39;msg_data&#39;</span> <span class="token operator">:</span> msg_data
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-æ”¹å†™è·³è½¬ç•™è¨€é¡µé¢" tabindex="-1"><a class="header-anchor" href="#_2-æ”¹å†™è·³è½¬ç•™è¨€é¡µé¢"><span>ï¼ˆ2ï¼‰æ”¹å†™è·³è½¬ç•™è¨€é¡µé¢</span></a></h4><p>æ ¹æ®è·³è½¬ç•™è¨€é¡µé¢è¯·æ±‚æ¥è¿”å›é¡µé¢ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/toLeaveMsg&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;ç•™è¨€æ¿.html&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-æ”¹å†™æ¥å—ç•™è¨€æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_3-æ”¹å†™æ¥å—ç•™è¨€æ•°æ®"><span>ï¼ˆ3ï¼‰æ”¹å†™æ¥å—ç•™è¨€æ•°æ®</span></a></h4><p>express æä¾›äº†ä¸€ä¸ªå±æ€§æ¥è·å– get è¯·æ±‚é‡Œé¢çš„æ•°æ®ã€‚</p><ul><li>è°ƒç”¨ <code>request.query</code></li></ul><p>express è¿˜æä¾›äº†ä¸€ä¸ªæ–¹æ³•æ¥è·³è½¬é¡µé¢ã€‚ä¸éœ€è¦æˆ‘ä»¬å†è‡ªå·±è®¾ç½®çŠ¶æ€ç å’Œå¤´ä¿¡æ¯ã€‚</p><ul><li>è°ƒç”¨ <code>response.redirect(&#39;è·³è½¬è·¯å¾„&#39;)</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/LeaveMsg&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// ä¹‹å‰çš„å†™æ³•</span>
    <span class="token comment">// var url = request.url</span>
    <span class="token comment">// var urlObj = new URL(url, request.headers.referer).searchParams</span>
    <span class="token comment">// var tempObj = {}</span>
    <span class="token comment">// urlObj.forEach(function(value, key){</span>
    <span class="token comment">// tempObj[key] = value</span>
    <span class="token comment">// })</span>

    <span class="token comment">// ç°åœ¨çš„å†™æ³•</span>
    msg_data<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>query<span class="token punctuation">)</span>

    <span class="token comment">// ä¹‹å‰çš„å†™æ³•</span>
    <span class="token comment">// response.statusCode = 302</span>
    <span class="token comment">// response.setHeader(&#39;Location&#39;, &#39;/&#39;)</span>
    
    <span class="token comment">// ç°åœ¨çš„å†™æ³•</span>
    <span class="token comment">// è·³è½¬åˆ° &quot; / &quot;</span>
    response<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-7-æ¥æ”¶postè¯·æ±‚" tabindex="-1"><a class="header-anchor" href="#_1-7-æ¥æ”¶postè¯·æ±‚"><span>1.7 æ¥æ”¶postè¯·æ±‚</span></a></h4><ul><li>åœ¨ express v4.16 ä¹‹å‰éœ€è¦æ‰‹åŠ¨å®‰è£… <code>body-parser</code> æ¨¡å—ã€‚</li><li>å®‰è£…ï¼š <code>npm install --save body-parser</code></li></ul><p>å®‰è£…åéœ€è¦è¿›è¡Œä¸¤æ¡è¯­å¥çš„é…ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// å¯¼å…¥æ¨¡å—</span>
<span class="token keyword">var</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;body-parser&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// ç¬¬ä¸€å¥é…ç½®ï¼šparse application/x-www-form-urlencoded</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">extended</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// ç¬¬äºŒå¥é…ç½®ï¼šparse application/json</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è€Œåœ¨ v4.16 ä¹‹åï¼Œexpress è‡ªå·±å®ç°äº† body-parser çš„åŠŸèƒ½ï¼Œ<strong>æ‰€ä»¥ä¸å†éœ€è¦é¢å¤–å®‰è£… body-parser äº†</strong>ã€‚</li></ul><p>ç›´æ¥å°†ä¸Šé¢ä¸¤æ¡è¯­å¥çš„å˜é‡æ”¹ä¸º express å³å¯ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// ç¬¬ä¸€å¥é…ç½®ï¼šparse application/x-www-form-urlencoded</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">extended</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// ç¬¬äºŒå¥é…ç½®ï¼šparse application/json</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é…ç½®æˆåŠŸåï¼Œç›´æ¥è°ƒç”¨ <code>request.body</code> å°±å¯ä»¥è·å–åˆ° post è¯·æ±‚çš„æ•°æ®ã€‚</li></ul><h3 id="_1-8-è¯»å–æ–‡ä»¶é‡Œçš„æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_1-8-è¯»å–æ–‡ä»¶é‡Œçš„æ•°æ®"><span>1.8 è¯»å–æ–‡ä»¶é‡Œçš„æ•°æ®</span></a></h3><p>ç°åœ¨æˆ‘ä»¬å°†æ•°æ®æŒä¹…åŒ–åˆ°æ–‡ä»¶é‡Œã€‚æ–‡ä»¶é‡Œçš„æ•°æ®ä»¥ JSON æ ¼å¼å­˜æ”¾ã€‚</p><h4 id="_1-æ–°å»ºjsonæ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_1-æ–°å»ºjsonæ–‡ä»¶"><span>ï¼ˆ1ï¼‰æ–°å»ºjsonæ–‡ä»¶</span></a></h4><p>æ–°å»ºä¸€ä¸ª json æ ¼å¼çš„æ–‡ä»¶ï¼Œç„¶ååœ¨é‡Œé¢å­˜æ”¾æ•°æ®ã€‚json æ–‡ä»¶çš„éœ€è¦æ³¨æ„å‡ ç‚¹</p><ul><li>å˜é‡åéœ€è¦ä½¿ç”¨åŒå¼•å·</li><li>å˜é‡å€¼å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œéœ€è¦ä½¿ç”¨åŒå¼•å·ï¼Œä¸èƒ½å•å¼•å·ã€‚</li><li>æœ€åä¸€ä¸ªå…ƒç´ çš„æœ€åé¢ä¸èƒ½å¤šåŠ ä¸€ä¸ªé€—å·ã€‚</li></ul><h4 id="_2-è§£ææ–‡ä»¶æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_2-è§£ææ–‡ä»¶æ•°æ®"><span>ï¼ˆ2ï¼‰è§£ææ–‡ä»¶æ•°æ®</span></a></h4><p>æˆ‘ä»¬éœ€è¦å°†æ–‡ä»¶é‡Œé¢çš„å†…å®¹è¯»å–å‡ºæ¥ï¼Œä¸€èˆ¬éƒ½æ˜¯ <code>data.toString()</code> å°†è¯»å–å‡ºæ¥çš„äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</p><ul><li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>fs.readFile()</code> æ–¹æ³•çš„å¦ä¸€ç§é‡è½½ã€‚</li><li><code>fs.readFile( &#39;æ–‡ä»¶ä½ç½®&#39;, &#39;ç¼–ç ç±»å‹&#39;, (err, data)=&gt;{} )</code></li><li>åªè¦æŒ‡å®šäº†ç¼–ç æ ¼å¼ï¼Œå›è°ƒå‡½æ•°çš„ data å°±ä¼šè‡ªåŠ¨ä½¿ç”¨ç¼–ç ç±»å‹è½¬ä¸ºå­—ç¬¦ä¸²ã€‚</li></ul><p>å› ä¸ºè¯»å–å‡ºæ¥çš„æ˜¯å­—ç¬¦ä¸²ï¼Œæƒ³åˆ°è½¬ä¸ºæ•°ç»„æˆ–è€…å¯¹è±¡ï¼Œè°ƒç”¨ <code>JSON.parse(data)</code> å³å¯ã€‚</p><h2 id="äºŒã€curdèµ·æ­¥" tabindex="-1"><a class="header-anchor" href="#äºŒã€curdèµ·æ­¥"><span>äºŒã€CURDèµ·æ­¥</span></a></h2><p>ç°åœ¨æˆ‘ä»¬ä½¿ç”¨ express åšä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯å¢åˆ æ”¹æŸ¥çš„åŠŸèƒ½ã€‚</p><h3 id="_2-1-èµ·æ­¥" tabindex="-1"><a class="header-anchor" href="#_2-1-èµ·æ­¥"><span>2.1 èµ·æ­¥</span></a></h3><p>é¦–å…ˆè¿›è¡Œè·¯ç”±è®¾è®¡ã€‚</p><table><thead><tr><th>åŠŸèƒ½</th><th>è¯·æ±‚</th><th>è¯·æ±‚ç±»å‹</th><th>è¯·æ±‚å‚æ•°</th></tr></thead><tbody><tr><td>è·³è½¬ä¸»é¡µ</td><td>/students</td><td>GET</td><td>æ— </td></tr><tr><td>è·³è½¬åˆ°æ·»åŠ é¡µé¢</td><td>/students/new</td><td>GET</td><td>æ— </td></tr><tr><td>å¤„ç†æ·»åŠ çš„æ•°æ®</td><td>/students/new</td><td>POST</td><td>name,age,gender,hobby</td></tr><tr><td>è·³è½¬åˆ°ä¿®æ”¹é¡µé¢</td><td>/students/edit</td><td>GET</td><td>æ— </td></tr><tr><td>å¤„ç†ä¿®æ”¹çš„æ•°æ®</td><td>/students/new</td><td>POST</td><td>id,name,age,gender,hobby</td></tr><tr><td>å¤„ç†åˆ é™¤è¯·æ±‚</td><td>/students/delete</td><td>GET</td><td>id</td></tr></tbody></table><h3 id="_2-2-æå–è·¯ç”±æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_2-2-æå–è·¯ç”±æ¨¡å—"><span>2.2 æå–è·¯ç”±æ¨¡å—</span></a></h3><p>å¦‚æœåœ¨ä¸»æ¨¡å—é‡Œé¢å†™ä¸€é•¿ä¸² <code>app.get(&#39;è¯·æ±‚è·¯å¾„&#39;, (resquest, response)=&gt;{})</code> æ–¹æ³•ï¼Œåˆ™ä¼šä¸å¥½ç®¡ç†ã€‚æ‰€ä»¥è¿™é‡Œå°†ä¸€é•¿ä¸²ç›¸ä¼¼çš„ä»£ç å…±åŒå°è£…æˆä¸€ä¸ªæ¨¡å—ã€‚</p><h4 id="_1-åŸå§‹å†™æ³•" tabindex="-1"><a class="header-anchor" href="#_1-åŸå§‹å†™æ³•"><span>ï¼ˆ1ï¼‰åŸå§‹å†™æ³•</span></a></h4><p>ä¸‹é¢ä»£ç æ˜¯å•ç‹¬ä¸€ä¸ªæ–‡ä»¶çš„ï¼Œé‡Œé¢æ¶‰åŠåˆ°çš„ä¸¤ä¸ªå˜é‡éƒ½éœ€è¦å£°æ˜ã€‚</p><ul><li>fs å˜é‡ï¼šå¯¼å…¥æ–‡ä»¶æ¨¡å—å³å¯ã€‚</li><li>app å˜é‡ï¼šapp å˜é‡æ˜¯ express åˆ›å»ºå‡ºæ¥çš„ä¸€ä¸ªæœåŠ¡å™¨å˜é‡ï¼Œå¦‚æœæ–°å£°æ˜çš„è¯ï¼Œå°±ä¸æ˜¯åŸæ¥çš„é‚£ä¸ªæœåŠ¡å™¨å˜é‡ã€‚è¿™æ—¶å°±éœ€è¦ä¸»æ¨¡å—ä¼ ä¸€ä¸ª app å˜é‡ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// router.js</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./db.json&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span> <span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span>   response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Server error&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;å±•ç¤ºç•™è¨€.html&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&#39;students_info&#39;</span> <span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœéœ€è¦è¦å°† app å˜é‡å¯¼å…¥ï¼Œåˆ™éœ€è¦å°†æ•´ä¸ªè·¯ç”±æ–‡ä»¶åŒ…è£…æˆä¸€ä¸ªæ¨¡å—ï¼Œå¯¼å‡ºåˆ°ä¸»æ¨¡å—ä¸­ã€‚</li><li>ä¸»æ¨¡å—å†å°† app å˜é‡ä¼ å…¥è·¯ç”±æ¨¡å—ä¸­ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// router.js</span>
<span class="token comment">// å°†è·¯ç”±ä»£ç åŒ…è£…æˆä¸€ä¸ªæ¨¡å—å¯¼å‡º</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./db.json&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span> <span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Server error&#39;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;å±•ç¤ºç•™è¨€.html&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                <span class="token string-property property">&#39;students_info&#39;</span> <span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// app.js</span>
<span class="token comment">// å¼•å…¥</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./router&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// ä½¿ç”¨å…¶æ–¹æ³•ï¼Œå¹¶å°†appå˜é‡ä¼ å…¥</span>
<span class="token function">router</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-æ¡†æ¶å†™æ³•" tabindex="-1"><a class="header-anchor" href="#_2-æ¡†æ¶å†™æ³•"><span>ï¼ˆ2ï¼‰æ¡†æ¶å†™æ³•</span></a></h4><p>express è‡ªå¸¦äº†è·¯ç”±æ¨¡å—ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p><ul><li>é¦–å…ˆä½¿ç”¨ <code>var router = express.Router()</code> åˆ›å»ºä¸€ä¸ªè·¯ç”±å®¹å™¨ã€‚</li><li>ç„¶åä½¿ç”¨ <code>router.get(&#39;è¯·æ±‚è·¯å¾„&#39;, (request, response) =&gt; {}</code> æŠŠè·¯ç”±æŒ‚è½½åœ¨è·¯ç”±å®¹å™¨é‡Œã€‚</li><li>æœ€åä½¿ç”¨ <code>module.exports = router</code> å¯¼å‡ºè·¯ç”±å®¹å™¨ã€‚</li></ul><p>å®Œæ•´çš„ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./db.json&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Server error&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;å±•ç¤ºå­¦ç”Ÿä¿¡æ¯.html&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">students_info</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è€Œåœ¨ä¸»æ¨¡å—ä¸­åˆ™å¯¼å…¥è·¯ç”±å®¹å™¨åï¼ŒæŒ‚è½½åœ¨ app æœåŠ¡å™¨ä¸Šã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// å¯¼å…¥è·¯ç”±å®¹å™¨</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./router&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// å°†è·¯ç”±å®¹å™¨æŒ‚è½½åœ¨ app æœåŠ¡å™¨</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">æ³¨æ„</p><p><code>app.use(router)</code> å»ºè®®å†™åœ¨æœ€åé¢ï¼Œä¸ç„¶å¯èƒ½ä¼šä¸€äº›åŸå› æŠ¥é”™ã€‚å…·ä½“çš„åé¢ä¼šä»‹ç»ã€‚</p></div><h3 id="_2-3-å°è£…æ“ä½œæ•°æ®æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_2-3-å°è£…æ“ä½œæ•°æ®æ¨¡å—"><span>2.3 å°è£…æ“ä½œæ•°æ®æ¨¡å—</span></a></h3><p>æ¥ä¸‹æ¥å°†æ•°æ®å°è£…æˆæ–‡ä»¶ï¼Œä¸“é—¨å¤„ç†æ•°æ®ï¼Œä¸å…³å¿ƒä¸šåŠ¡ï¼Œä¸ä¸‰å±‚æ¶æ„ä¸­ dao å±‚çš„åŠŸèƒ½ä¸€è‡´ã€‚</p><h4 id="_1-æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_1-æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯"><span>ï¼ˆ1ï¼‰æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯</span></a></h4><p>æ–‡ä»¶è¯»å–å‡ºæ¥çš„æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥éœ€è¦å°†å…¶è½¬æ¢ä¸ºå¯¹è±¡ã€‚</p><p>ä½†å…¶ä¸­æœ‰å¼‚æ­¥å’ŒåŒæ­¥é—®é¢˜ã€‚</p><ul><li>è¯»æ–‡ä»¶ä¸€èˆ¬ä¸ºå¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥å½“è¿˜æ²¡è¯»å–å®Œæ–‡ä»¶æ—¶ï¼ŒæœåŠ¡å™¨å°±å‘é€åˆ°å®¢æˆ·ç«¯äº†ã€‚</li><li>å¦‚æœè¯»æ–‡ä»¶æ”¹ä¸ºåŒæ­¥æ“ä½œæ—¶ï¼Œ<strong>æ‰€æœ‰æœåŠ¡å™¨é‡Œçš„æ“ä½œéƒ½éœ€è¦ç­‰å¾…æ–‡ä»¶è¯»å–å®Œæˆ</strong>ï¼Œæ€§èƒ½ä¸å¤ªé«˜ã€‚</li><li>æ‰€ä»¥æ•°æ®æ¨¡å—ä¼šå¼€æ”¾ä¸€ä¸ªå½¢å‚ï¼Œç”¨äºæ¥æ”¶ä¸»æ¨¡å—çš„æ“ä½œï¼Œç„¶åå°†è¿™ä¸ªå½¢å‚ç”¨åœ¨è¯»å–å®Œæ–‡ä»¶ä¹‹åçš„å›è°ƒå‡½æ•°é‡Œã€‚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// callback ç”¨äºä¸ä¸»æ¨¡å—é€šä¿¡</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">findAllStudents</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>dbPath<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        
        <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// é”™è¯¯äº†ï¼Œä¹Ÿå°†é”™è¯¯ä¿¡æ¯è¿”å›åˆ°ä¸»æ¨¡å—ä¸­</span>
            <span class="token comment">// ä¹Ÿå¯ä»¥å†™æˆè¿™ç§ callback(err, undefined)</span>
            <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// æˆåŠŸäº†ï¼Œå°†æ•°æ®è¿”å›åˆ°ä¸»æ¨¡å—ä¸­</span>
        <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä¸¤ä¸ªå‚æ•°â€”â€”err å’Œ data éƒ½æ˜¯æ¨¡ä»¿åŸå§‹è¯»æ–‡ä»¶æ–¹æ³•æ‰€ä¼ è¿›æ¥çš„å‚æ•°ã€‚</p><ul><li>æˆåŠŸï¼šerr ä¸º nullï¼Œdata ä¸ºäºŒè¿›åˆ¶æ•°æ®ã€‚</li><li>å¤±è´¥ï¼šerr ä¸º é”™è¯¯å¯¹è±¡ï¼Œdata ä¸º undefinedã€‚</li></ul><h4 id="_2-æ’å…¥å­¦ç”Ÿä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_2-æ’å…¥å­¦ç”Ÿä¿¡æ¯"><span>ï¼ˆ2ï¼‰æ’å…¥å­¦ç”Ÿä¿¡æ¯</span></a></h4><p>æ’å…¥å­¦ç”Ÿä¿¡æ¯éœ€è¦ä¸‰æ­¥ï¼š</p><ol><li>è·å–åŸå§‹æ•°æ®</li><li><strong>æ’å…¥åŸå§‹æ•°æ®</strong></li><li>å°†æ”¹å˜è¿‡åçš„ç»“æœå†™å…¥æºæ–‡ä»¶ä¸­</li></ol><p>é‡ç‚¹æ˜¯ç¬¬äºŒä¸ªï¼Œéœ€è¦æ’å…¥æ•°æ®ï¼Œå…¶æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>å› ä¸ºè¯»æ–‡ä»¶å‡ºæ¥çš„æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°ç»„æˆ–è€…å¯¹è±¡ã€‚</li><li>å°†è¯»å–å‡ºæ¥çš„æ•°æ®ï¼Œè¿›è¡Œæ·»åŠ ã€‚</li><li>ç„¶åå†å†™å…¥æ–‡ä»¶é‡Œï¼Œå†™ä¹‹å‰ä¹Ÿéœ€è¦å°†æ•°æ®è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// å¢åŠ å­¦ç”Ÿä¿¡æ¯</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">saveInfo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">student<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>dbPath<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// é”™è¯¯äº†ï¼Œä¹Ÿå°†é”™è¯¯ä¿¡æ¯è¿”å›åˆ°ä¸»æ¨¡å—ä¸­</span>
            <span class="token comment">// ä¹Ÿå¯ä»¥å†™æˆè¿™ç§ callback(err, undefined)</span>
            <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°ç»„æˆ–è€…å¯¹è±¡</span>
        <span class="token keyword">var</span> tempData <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>

        <span class="token comment">// ç°åœ¨idä½¿ç”¨éšæœºæ•°</span>
        <span class="token comment">// å…¶å®åº”è¯¥å–å·²ç»åˆ°è¾¾è¿‡idä¹‹å</span>
        student<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

        <span class="token comment">// æ·»åŠ ä¿¡æ¯åˆ°ä¸´æ—¶æ•°æ®é‡Œ</span>
        tempData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span>

        <span class="token comment">// ç„¶åå†å†™å…¥æ–‡ä»¶é‡Œ</span>
        fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>dbPath<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>tempData<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">// ä¾æ—§å°†é”™è¯¯è¿”å›åˆ°ä¸»æ¨¡å—ä¸­</span>
                <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-æ›´æ–°å­¦ç”Ÿä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_3-æ›´æ–°å­¦ç”Ÿä¿¡æ¯"><span>ï¼ˆ3ï¼‰æ›´æ–°å­¦ç”Ÿä¿¡æ¯</span></a></h4><p>æ›´æ–°å­¦ç”Ÿä¿¡æ¯éœ€è¦å››æ­¥ï¼š</p><ol><li>è·å– post è¯·æ±‚æ•°æ®ï¼›</li><li>è·å–æ–‡ä»¶å†…å­¦ç”Ÿçš„æ•°æ®ï¼›</li><li>æ›´æ–°å­¦ç”Ÿçš„æ•°æ®ï¼›</li><li>å†æ¬¡å†™å…¥æ–‡ä»¶ä¸­ã€‚</li></ol><hr><ul><li>å› ä¸ºé¡µé¢çš„è¾“å…¥æ¡†ä¸ºæ–‡æœ¬è¾“å…¥æ¡†ï¼Œæ‰€ä»¥ post è¯·æ±‚æ‰€æºå¸¦æ•°æ®çš„ id çš„ç±»å‹ä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™éœ€è¦å…ˆç±»å‹è½¬æ¢æˆæ•´å‹ã€‚</li><li>æˆ‘ä»¬æƒ³è®© Student æ¨¡å—æ›´çº¯ç²¹ï¼Œæ‰€ä»¥ä¸€äº›å¯¹æ•°æ®çš„å°æ“ä½œå…ˆåœ¨æ¨¡å—å¤–æ‰§è¡Œå®Œæ¯•ï¼Œå†ä¼ è¿›æ¨¡å—é‡Œè¿›è¡Œå¤„ç†ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>  <span class="token comment">// è·å–postè¡¨å•æäº¤</span>
  <span class="token keyword">var</span> updateStu <span class="token operator">=</span> request<span class="token punctuation">.</span>body
  <span class="token comment">// å°†idç±»å‹è½¬æ¢</span>
  updateStu<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>updateStu<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯¹äºæºæ•°æ®è¿›è¡Œæ›´æ–°æœ‰ä¸¤ç§æ–¹æ³•ï¼š <ul><li><code>forEach( callbackfn:(value, index, array) =&gt; void )</code>ï¼šéå†æ•´ä¸ªæ•°ç»„ï¼ŒåŠ åˆ¤æ–­æ¥æ‰¾å‡ºéœ€è¦çš„æ•°æ®ã€‚ï¼ˆä»…é™æ•°æ®ä¸ºæ•°ç»„ç±»å‹ï¼‰</li><li><code>find( predicate:(value, index, array) =&gt; boolean )</code>ï¼šæ ¹æ®å‚æ•°é‡Œå‡½æ•°è¿”å›çš„å¸ƒå°”å€¼ï¼Œæ¥æ‰¾åˆ°æ‰€éœ€è¦çš„æ•°æ®ï¼Œè¿™é‡Œè¿”å›çš„æ•°æ®æ˜¯æµ…æ‹·è´ã€‚ä¹Ÿå°±æ˜¯è¯´ä½ ä¿®æ”¹è¿”å›çš„æ•°æ®ï¼Œæºæ•°æ®ä¹Ÿä¼šè·Ÿç€æ›´æ–°ã€‚</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>exports<span class="token punctuation">.</span><span class="token function-variable function">updateStudent</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newData<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>dbPath<span class="token punctuation">,</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ–‡ä»¶çš„æºæ•°æ®</span>
        <span class="token keyword">var</span> tempData <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>

        <span class="token comment">// æ–¹æ³•ä¸€</span>
        <span class="token comment">// tempData.forEach(function(value, index) {</span>
        <span class="token comment">//   if(value.id === newData.id){</span>
        <span class="token comment">//     tempData[index] = newData</span>
        <span class="token comment">//   }</span>
        <span class="token comment">// })</span>

        <span class="token comment">// æ–¹æ³•äºŒ</span>
        <span class="token keyword">var</span> tempStu <span class="token operator">=</span> tempData<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> item<span class="token punctuation">.</span>id <span class="token operator">===</span> newData<span class="token punctuation">.</span>id
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        
        <span class="token comment">// ä¿®æ”¹find()æ–¹æ³•è¿”å›çš„æ•°æ®</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">var</span> key <span class="token keyword">in</span> newData<span class="token punctuation">)</span><span class="token punctuation">{</span>
            tempStu<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> newData<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç›´æ¥å°†æºæ•°æ®å†æ¬¡å†™å…¥æ–‡ä»¶å³å¯ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// ç„¶åå†å†™å…¥æ–‡ä»¶é‡Œ</span>
fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>dbPath<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>tempData<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ä¾æ—§å°†é”™è¯¯è¿”å›åˆ°ä¸»æ¨¡å—ä¸­</span>
        <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-åˆ é™¤å­¦ç”Ÿä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_3-åˆ é™¤å­¦ç”Ÿä¿¡æ¯"><span>ï¼ˆ3ï¼‰åˆ é™¤å­¦ç”Ÿä¿¡æ¯</span></a></h4><p>åˆ é™¤å­¦ç”Ÿä¿¡æ¯æœ‰å››æ­¥ï¼š</p><ol><li>å…ˆè·å–éœ€è¦åˆ é™¤å­¦ç”Ÿçš„ idï¼›</li><li>ç„¶åè¯»å–æ–‡ä»¶çš„æ•°æ®ï¼›</li><li>åœ¨è¯»å‡ºæ¥çš„æ•°æ®é‡Œè¿›è¡Œåˆ é™¤ï¼›</li><li>æœ€ååœ¨å†™å…¥æ–‡ä»¶ä¸­ã€‚</li></ol><hr><ul><li>å› ä¸ºæ˜¯ get è¯·æ±‚ï¼Œè·å–å­¦ç”Ÿ idç›´æ¥ä½¿ç”¨ <code>request.query.id</code>ã€‚</li><li>è¯»æ–‡ä»¶å’Œå†™æ–‡ä»¶ä¸ä¸Šé¢çš„ä¸€è‡´ã€‚</li><li>é‡ç‚¹æ˜¯åˆ é™¤æ•°æ® <ul><li><code>findIndex( predicate:(value, index, array) =&gt; boolean )</code>ï¼šä¸ <code>find()</code> ç”¨æ³•ä¸€è‡´ï¼Œä¸è¿‡è¯¥æ–¹æ³•æ‰§è¡Œçš„ç»“æœæ˜¯è¿”å›å…ƒç´ çš„ä¸‹æ ‡ã€‚</li><li><code>splice( start, deleteCount )</code>ï¼šåˆ é™¤æ•°ç»„çš„å…ƒç´ ã€‚å°†ä¸Šä¸€ä¸ªæ–¹æ³•è¿”å›çš„ä¸‹æ ‡ï¼Œä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç„¶åç¬¬äºŒä¸ªå‚æ•°ä¸º 1ï¼Œä»£è¡¨åªåˆ é™¤è¯¥ä¸‹æ ‡çš„å…ƒç´ ã€‚</li></ul></li><li>ç–‘æƒ‘ï¼šåˆ é™¤æ•°æ®åæ˜¯å¦åˆ·æ–°é¡µé¢ï¼Œå¦‚æœåˆ·æ–°äº†é¡µé¢ï¼Œæ»šåŠ¨æ¡ä¼šé‡ç½®ï¼Œç”¨æˆ·ä½“éªŒä¸å¥½ã€‚å¦‚æœä¸åˆ·æ–°çš„è¯ï¼Œè§£å†³æ–¹æ¡ˆæˆ‘è§‰å¾—æ˜¯å‰ç«¯å’Œåç«¯éƒ½éœ€è¦æ‰§è¡Œåˆ é™¤æ•°æ®çš„æ“ä½œã€‚å¾…è§£å†³</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">var</span> deleteIndex <span class="token operator">=</span> objData<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> item<span class="token punctuation">.</span>id <span class="token operator">===</span> stuId
<span class="token punctuation">}</span><span class="token punctuation">)</span>

objData<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>deleteIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¸‰ã€mongodb" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€mongodb"><span>ä¸‰ã€MongoDB</span></a></h2><h3 id="_3-1-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#_3-1-å®‰è£…"><span>3.1 å®‰è£…</span></a></h3><p>ä¸‹è½½æ‰“å¼€åä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥ã€‚</p><h3 id="_3-2-é…ç½®" tabindex="-1"><a class="header-anchor" href="#_3-2-é…ç½®"><span>3.2 é…ç½®</span></a></h3><p>æˆ‘ä»¬é¦–å…ˆæ„Ÿè§‰ä¸€ä¸‹ä½¿ç”¨å‘½ä»¤è¡Œæ¥æ“ä½œæ•°æ®åº“ã€‚ä½¿ç”¨å‘½ä»¤è¡Œæ“ä½œæ•°æ®åº“éœ€è¦ä¸‹é¢å‡ æ­¥ï¼š</p><ol><li>é…ç½®ç¯å¢ƒå˜é‡</li><li>åœ¨æ•°æ®åº“å®‰è£…ä½ç½®çš„ <strong>æ ¹ç£ç›˜</strong> ä¸Šï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ã€dataã€‘ï¼Œè¿›å»ã€dataã€‘æ–‡ä»¶å¤¹åå†æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ã€dbã€‘ã€‚</li><li>æ‰“å¼€å‘½ä»¤è¡Œï¼Œè·³è½¬åˆ°æ ¹ç£ç›˜ï¼Œç„¶åè¾“å…¥ <code>mongod</code> å¼€å¯æœåŠ¡å™¨ï¼Œ<strong>ä¸è¦å…³é—­å½“å‰å‘½ä»¤è¡Œ</strong>ã€‚å»ã€dbã€‘æ–‡ä»¶å¤¹å¯ä»¥çœ‹è§å·²ç»å­˜æ”¾ä¸œè¥¿äº†ã€‚</li><li>å†æ‰“å¼€ä¸€ä¸ªå‘½ä»¤è¡Œï¼Œè¾“å…¥ <code>mongo</code> ï¼Œå°†å½“å‰çš„å‘½ä»¤è¡Œè¿æ¥åˆ°æ•°æ®åº“ã€‚å¦‚æœæˆåŠŸäº†å°±ä¼šè¿›å…¥æ•°æ®åº“çš„å‘½ä»¤è¡Œæ¨¡å¼ã€‚</li></ol><h3 id="_3-3-åŸºæœ¬å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_3-3-åŸºæœ¬å‘½ä»¤"><span>3.3 åŸºæœ¬å‘½ä»¤</span></a></h3><p>èŠ’æœæ•°æ®åº“é‡Œé¢ä¼šæ¶‰åŠåˆ°ä¸€äº›ç”¨è¯­ï¼š</p><ul><li><code>collection</code> â€”â€” é›†åˆï¼Œå¯¹åº” <strong>æ™®é€šæ•°æ®åº“çš„è¡¨</strong>ã€‚</li><li><code>document</code> â€”â€” æ–‡æ¡£ï¼Œå¯¹åº” <strong>æ™®é€šæ•°æ®åº“çš„è¡¨ä¸­æ•°æ®</strong></li></ul><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>show dbs</code></td><td>æŸ¥è¯¢å½“å‰æ‰€æœ‰æ•°æ®åº“</td></tr><tr><td><code>db</code></td><td>æŸ¥çœ‹å½“å‰æ‰€åœ¨çš„æ•°æ®åº“</td></tr><tr><td><code>use æ•°æ®åº“</code></td><td>åˆ‡æ¢åˆ°å…¶ä»–æ•°æ®åº“</td></tr><tr><td><code>show collections</code></td><td>å±•ç¤ºå½“å‰æ•°æ®åº“çš„è¡¨</td></tr><tr><td><code>db.è¡¨å.insertOne(å¯¹è±¡)</code></td><td>åœ¨æŒ‡å®šçš„è¡¨æ’å…¥æ•°æ®</td></tr><tr><td><code>db.è¡¨å.find()</code></td><td>å±•ç¤ºæŒ‡å®šè¡¨ä¸­çš„æ‰€æœ‰æ•°æ®</td></tr></tbody></table><p>å…·ä½“å…¶ä»–çš„å‘½ä»¤å¯ä»¥å‚è€ƒ <a href="https://docs.mongodb.com/manual/crud/" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="_3-4-å®‰è£…mongoose" tabindex="-1"><a class="header-anchor" href="#_3-4-å®‰è£…mongoose"><span>3.4 å®‰è£…mongoose</span></a></h3><p>mongoose æ˜¯å°† MongoDB è¿›ä¸€æ­¥å°è£…ï¼Œæ›´å®¹æ˜“æ“ä½œ MongoDBã€‚</p><p>å®˜æ–¹ç½‘ç«™ï¼š<a href="https://mongoosejs.com/" target="_blank" rel="noopener noreferrer">https://mongoosejs.com/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>åœ¨å‘½ä»¤è¡Œè¾“å…¥ <code>npm install mongoose --save</code></p><h3 id="_3-5-å¿«é€Ÿå¼€å§‹mongoose" tabindex="-1"><a class="header-anchor" href="#_3-5-å¿«é€Ÿå¼€å§‹mongoose"><span>3.5 å¿«é€Ÿå¼€å§‹mongoose</span></a></h3><p>æœ€æ–°ç‰ˆï¼ˆv6.0.13ï¼‰çš„ mongoose æ–‡æ¡£ä½¿ç”¨äº† ES6 è¯­æ³•ï¼Œè¿™é‡Œä¾¿äºç†è§£ï¼Œå…ˆä»¥ v4.x çš„æ–‡æ¡£ä¸¾ä¾‹ã€‚</p><h4 id="_1-v4-x" tabindex="-1"><a class="header-anchor" href="#_1-v4-x"><span>ï¼ˆ1ï¼‰v4.x</span></a></h4><ul><li><p>ç¬¬ 2 è¡Œï¼šå¼•å…¥æ¨¡å—å¹¶è¿æ¥æ•°æ®åº“ï¼Œ<code>test</code> å¯ä»¥æ¢æˆéœ€è¦è¿æ¥çš„æ•°æ®åº“ã€‚<strong>å¦‚æœè¿æ¥çš„æ•°æ®åº“ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª</strong>ï¼Œæ‰€ä»¥è¦å°å¿ƒåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æ•°æ®åº“ã€‚</p></li><li><p>ç¬¬ 6 è¡Œï¼šä½¿ç”¨ mongoose ç”Ÿæˆ Schema æ¨¡å¼ï¼Œè¿™é‡Œç”Ÿæˆçš„ Schema ä¸æ˜¯å…·ä½“çš„æ¨¡å¼ï¼Œè€Œæ˜¯ä¸€ä¸ªæ„é€ æ–¹æ³•ã€‚</p></li><li><p>ç¬¬ 9 ~ 20 è¡Œï¼šä½¿ç”¨ Schema åˆ›é€ ä¸€ä¸ªå…·ä½“çš„åšå®¢æ¨¡å¼ï¼Œæ„é€ æ–¹æ³•é‡Œé¢ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œ<strong>å¯¹è±¡çš„å±æ€§åä¸ºåˆ—åï¼Œå±æ€§å€¼ä¸ºç±»å‹æˆ–è€…é€‰é¡¹æ•°ç»„</strong>ã€‚</p></li><li><p>ç¬¬ 23 è¡Œï¼šåˆ©ç”¨å…·ä½“çš„æ¨¡å¼åˆ›å»º <strong>æ•°æ®åº“çš„æ¨¡å‹</strong>ã€‚</p></li><li><p>ç„¶åå°±å¯ä»¥ä½¿ç”¨æ¨¡å‹æ¥ä»»æ„æ“ä½œæ•°æ®åº“äº†ã€‚</p></li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// å¼•å…¥æ¨¡å—å¹¶è¿æ¥æ•°æ®åº“</span>
<span class="token keyword">var</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mongoose&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&#39;mongodb://localhost/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ç”Ÿæˆæ¨¡å¼</span>
<span class="token keyword">var</span> Schema <span class="token operator">=</span> mongoose<span class="token punctuation">.</span>Schema<span class="token punctuation">;</span>

<span class="token comment">// ç”Ÿæˆå…·ä½“çš„ä¸€ä¸ªæ¨¡å¼</span>
<span class="token keyword">var</span> blogSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span>  String<span class="token punctuation">,</span>
  <span class="token literal-property property">author</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span>   String<span class="token punctuation">,</span>
  <span class="token literal-property property">comments</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">body</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token literal-property property">date</span><span class="token operator">:</span> Date <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> Date<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> Date<span class="token punctuation">.</span>now <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">hidden</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
  <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">votes</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
    <span class="token literal-property property">favs</span><span class="token operator">:</span>  Number
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ©ç”¨å…·ä½“çš„æ¨¡å¼åˆ›å»ºæ•°æ®åº“çš„æ¨¡å‹</span>
<span class="token keyword">var</span> Blog <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">&#39;Blog&#39;</span><span class="token punctuation">,</span> blogSchema<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-v6-0-13" tabindex="-1"><a class="header-anchor" href="#_2-v6-0-13"><span>ï¼ˆ2ï¼‰v6.0.13</span></a></h4><ul><li>ç¬¬ 2 è¡Œï¼šå¼•å…¥æ¨¡å—å¹¶ç”¨ <code>const</code> æ¥æ”¶ã€‚</li><li>ç¬¬ 4 ~ 9 è¡Œï¼šä½¿ç”¨äº†å¼‚æ­¥è¿æ¥æ•°æ®åº“</li><li>ç¬¬ 12 è¡Œï¼šä½¿ç”¨å¯¹è±¡è§£æ„æ¥è·å–æ¨¡å¼ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// å¼•å…¥æ¨¡å—</span>
<span class="token keyword">const</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mongoose&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è¿æ¥æ•°æ®åº“</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&#39;mongodb://localhost:27017/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// è·å–æ¨¡å¼</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Schema <span class="token punctuation">}</span> <span class="token operator">=</span> mongoose<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç¬¬ 2 ~ 12 è¡Œï¼šä¸ v4.x çš„ä¸€è‡´ï¼Œä½¿ç”¨ Schema åˆ›é€ ä¸€ä¸ªå…·ä½“çš„åšå®¢æ¨¡å¼ã€‚</li><li>ç¬¬ 16 è¡Œï¼šä¸ v4.x çš„ä¸€è‡´ï¼Œåˆ©ç”¨å…·ä½“çš„æ¨¡å¼åˆ›å»º <strong>æ•°æ®åº“çš„æ¨¡å‹</strong>ã€‚ä½¿ç”¨ <code>const</code> æ¥æ¥æ”¶ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// ç”Ÿæˆå…·ä½“çš„ä¸€ä¸ªæ¨¡å¼</span>
<span class="token keyword">const</span> blogSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span>  String<span class="token punctuation">,</span> <span class="token comment">// String is shorthand for {type: String}</span>
    <span class="token literal-property property">author</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token literal-property property">body</span><span class="token operator">:</span>   String<span class="token punctuation">,</span>
    <span class="token literal-property property">comments</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">body</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token literal-property property">date</span><span class="token operator">:</span> Date <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> Date<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> Date<span class="token punctuation">.</span>now <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hidden</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">votes</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token literal-property property">favs</span><span class="token operator">:</span>  Number
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ©ç”¨å…·ä½“çš„æ¨¡å¼åˆ›å»ºæ•°æ®åº“çš„æ¨¡å‹</span>
<span class="token keyword">const</span> Blog <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">&#39;Blog&#39;</span><span class="token punctuation">,</span> blogSchema<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_3-ç¤ºä¾‹"><span>ï¼ˆ3ï¼‰ç¤ºä¾‹</span></a></h4><p>æ–°å»ºä¸€ä¸ª js æ–‡ä»¶è¿›è¡Œæµ‹è¯•ã€‚æˆ‘ä»¬åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸­æ–°å»ºå­¦ç”Ÿè¡¨ã€‚</p><ol><li>ä¾ç„¶æ˜¯è€ä¸‰æ ·ï¼Œå¼•å…¥æ¨¡å—ã€è¿æ¥æ•°æ®åº“å’Œè·å–æ¨¡å¼ã€‚</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// å¼•å…¥æ¨¡å—</span>
<span class="token keyword">const</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mongoose&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è¿æ¥æ•°æ®åº“</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&#39;mongodb://localhost:27017/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// è·å–æ¨¡å¼</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Schema <span class="token punctuation">}</span> <span class="token operator">=</span> mongoose<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>è®¾è®¡è¡¨ç»“æ„ï¼Œå…¶ä¸­æˆ‘å°†æ€§åˆ«çš„ç±»å‹è®¾æˆäº†æ•´å‹ï¼Œå¹¶ä¸”å€¼åªèƒ½ 0 æˆ– 1ã€‚å¹´é¾„è®¾ç½®äº† 3 ~ 60 å²çš„èŒƒå›´ã€‚è¯¦æƒ…å¯ä»¥æŸ¥çœ‹ <a href="https://mongoosejs.com/docs/schematypes.html#schematype-options" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œä¸åŒç±»å‹å¯ä»¥æœ‰ä¸åŒçš„é™åˆ¶ã€‚</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> studentsSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">studentId</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token comment">// String is shorthand for {type: String}</span>
    <span class="token literal-property property">studentName</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token literal-property property">studentGender</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span>Number<span class="token punctuation">,</span> <span class="token keyword">enum</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">studentAge</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span>Number<span class="token punctuation">,</span> <span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ç„¶åä½¿ç”¨å…·ä½“çš„æ¨¡å¼åˆ›å»ºæ•°æ®åº“çš„æ¨¡å‹ã€‚å¦‚æœæƒ³ä½¿ç”¨æ¨¡å‹æ¥åˆ›å»ºä¸€æ¡æ•°æ®ï¼Œå°†æ¨¡å‹ä½œä¸ºä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œé‡Œé¢ä¼ å…¥ä¸€ä¸ªæ•°æ®å¯¹è±¡ï¼Œå¦‚ç¬¬ 5 ~ 10 è¡Œæ‰€ç¤ºã€‚</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// åˆ©ç”¨å…·ä½“çš„æ¨¡å¼åˆ›å»ºæ•°æ®åº“çš„æ¨¡å‹</span>
<span class="token keyword">const</span> Students <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">&#39;Students&#39;</span><span class="token punctuation">,</span> studentsSchema<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä½¿ç”¨æ¨¡å‹æ¡†æ¶æ–°å»ºä¸€ä¸ªå­¦ç”Ÿè®°å½•</span>
<span class="token keyword">const</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Students</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">studentId</span><span class="token operator">:</span> <span class="token string">&quot;201815270&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">studentName</span><span class="token operator">:</span> <span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">studentGender</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">studentAge</span><span class="token operator">:</span> <span class="token number">21</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>åˆ›å»ºäº†ä¸€æ¡æ•°æ®ï¼Œç„¶åæˆ‘ä»¬éœ€è¦å°†å…¶ä¿å­˜åˆ°æ•°æ®åº“é‡Œï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ•°æ®çš„ <code>save()</code> æ–¹æ³•ã€‚</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>student<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token comment">// ä¿å­˜åˆ°æ•°æ®åº“åçš„åé¦ˆä¿¡æ¯</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>å­˜å‚¨ç»“æœå¦‚ä¸‹ï¼š</li></ol><figure><img src="https://raw.githubusercontent.com/hahg2000/picture/Senior-JS/mongoDBç¤ºä¾‹å­˜å‚¨ç»“æœ.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_3-6-æŸ¥è¯¢è¯­å¥" tabindex="-1"><a class="header-anchor" href="#_3-6-æŸ¥è¯¢è¯­å¥"><span>3.6 æŸ¥è¯¢è¯­å¥</span></a></h3><p>æŸ¥è¯¢è¯­å¥ä¸ä¸€èˆ¬çš„æ•°æ®åº“å·®ä¸å¤šä¸€è‡´ã€‚</p><h4 id="_1-æŸ¥è¯¢æ‰€æœ‰" tabindex="-1"><a class="header-anchor" href="#_1-æŸ¥è¯¢æ‰€æœ‰"><span>ï¼ˆ1ï¼‰æŸ¥è¯¢æ‰€æœ‰</span></a></h4><p>ä½¿ç”¨ <code>find( function(err, result){} )</code> æ–¹æ³•ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>Students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">throw</span> err
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»“æœå¦‚ä¸‹ï¼š</p><img src="https://raw.githubusercontent.com/hahg2000/picture/Senior-JS/mongoDBæŸ¥è¯¢æ‰€æœ‰.png" style="zoom:60%;"><h4 id="_2-æ ¹æ®æŒ‡å®šæ•°å€¼æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_2-æ ¹æ®æŒ‡å®šæ•°å€¼æŸ¥è¯¢"><span>ï¼ˆ2ï¼‰æ ¹æ®æŒ‡å®šæ•°å€¼æŸ¥è¯¢</span></a></h4><p>å¦‚æœæƒ³æŸ¥æ‰¾ <strong>æŸä¸€åˆ—ç¬¦åˆæŒ‡å®šæ•°å€¼çš„æ‰€æœ‰è¡Œ</strong>ï¼Œä½¿ç”¨ <code>find( { åˆ—å: æŒ‡å®šæ•°å€¼ }, function(){} )</code></p><p>ä¾‹å¦‚ï¼Œå¯ä»¥æŸ¥æ‰¾æ‰€æœ‰æ€§åˆ«ä¸º 1 çš„è¡Œã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>Students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">studentGender</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">throw</span> err
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœåªæƒ³æŸ¥æ‰¾ä¸€è¡Œï¼Œå¯ä»¥ä½¿ç”¨ <code>findOne( { åˆ—å: æŒ‡å®šæ•°å€¼ }, function(){} )</code> æ–¹æ³•ã€‚</p><h4 id="_3-æ ¹æ®æ¡ä»¶æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_3-æ ¹æ®æ¡ä»¶æŸ¥è¯¢"><span>ï¼ˆ3ï¼‰æ ¹æ®æ¡ä»¶æŸ¥è¯¢</span></a></h4><p>å¦‚æœæƒ³æŸ¥è¯¢ <strong>ç‰¹å®šæ¡ä»¶çš„è¡Œ</strong>ï¼Œä¾‹å¦‚å¹´é¾„å°äº 18 å²ç­‰ã€‚éœ€è¦åœ¨ <strong>å±æ€§å€¼</strong> é‡Œä½¿ç”¨ç‰¹å®šçš„å¯¹è±¡å½¢å¼ï¼Œä¾‹å¦‚<code>Students.find( {studentAge: { $lt: 18 }}, function(err, result){} )</code>ã€‚</p><p>ä¸‹é¢å°†åˆ—ä¸¾éƒ¨åˆ†è¿ç®—ç¬¦ï¼šå…·ä½“çš„å¯ä»¥å‚çœ‹ <a href="https://docs.mongodb.com/manual/reference/operator/query/" target="_blank" rel="noopener noreferrer">MongoDBå®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ol><li>æ¯”è¾ƒè¿ç®—ç¬¦</li></ol><table><thead><tr><th style="text-align:left;">ä»£ç </th><th style="text-align:left;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left;"><code>$eq</code></td><td style="text-align:left;">æŸ¥è¯¢ç¬¦åˆæŸä¸ªå€¼</td></tr><tr><td style="text-align:left;"><code>$ne</code></td><td style="text-align:left;">æŸ¥è¯¢ä¸ç¬¦åˆæŸä¸ªå€¼</td></tr><tr><td style="text-align:left;"><code>$gt</code></td><td style="text-align:left;">æŸ¥è¯¢å¤§äºæŸä¸ªå€¼</td></tr><tr><td style="text-align:left;"><code>$gte</code></td><td style="text-align:left;">æŸ¥è¯¢å¤§äºæˆ–è€…ç­‰äºæŸä¸ªå€¼</td></tr><tr><td style="text-align:left;"><code>$in</code></td><td style="text-align:left;">æŸ¥è¯¢æ˜¯å¦åœ¨æŒ‡å®šæ•°ç»„é‡Œ</td></tr><tr><td style="text-align:left;"><code>$nin</code></td><td style="text-align:left;">æŸ¥è¯¢æ˜¯å¦ä¸åœ¨æŒ‡å®šæ•°ç»„é‡Œ</td></tr><tr><td style="text-align:left;"><code>$lt</code></td><td style="text-align:left;">æŸ¥è¯¢å°äºæŸä¸ªå€¼</td></tr><tr><td style="text-align:left;"><code>$lte</code></td><td style="text-align:left;">æŸ¥è¯¢å°äºæˆ–è€…ç­‰äºæŸä¸ªå€¼</td></tr></tbody></table><ol start="2"><li>é€»è¾‘è¿ç®—ç¬¦</li></ol><table><thead><tr><th style="text-align:left;">ä»£ç </th><th style="text-align:left;">æè¿°</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td style="text-align:left;"><code>$and</code></td><td style="text-align:left;">æŸ¥è¯¢åŒæ—¶ç¬¦åˆ <strong>å¤šä¸ªæ¡ä»¶</strong></td><td>å…¶å±æ€§å€¼ä¸ºæ•°ç»„ç±»å‹</td></tr><tr><td style="text-align:left;"><code>$not</code></td><td style="text-align:left;">æŸ¥è¯¢åŒæ—¶ä¸ç¬¦åˆ <strong>æŸä¸ª</strong> æ¡ä»¶è¡¨è¾¾å¼</td><td></td></tr><tr><td style="text-align:left;"><code>$nor</code></td><td style="text-align:left;">æŸ¥è¯¢ <strong>å¤šä¸ªæ¡ä»¶</strong> åŒæ—¶ä¸ç¬¦åˆ</td><td>å…¶å±æ€§å€¼ä¸ºæ•°ç»„ç±»å‹</td></tr><tr><td style="text-align:left;"><code>$or</code></td><td style="text-align:left;">æŸ¥è¯¢åœ¨ <strong>å¤šä¸ªæ¡ä»¶</strong> ä¸­ç¬¦åˆå…¶ä¸­ä¸€ä¸ªæ¡ä»¶</td><td>å…¶å±æ€§å€¼ä¸ºæ•°ç»„ç±»å‹</td></tr></tbody></table><p>ä¾‹å¦‚ï¼Œæˆ‘éœ€è¦æŸ¥æ‰¾å¹´é¾„å¤§äº 18 ä½†å°äº 22 çš„è¡Œã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>Students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// ä½¿ç”¨æ–¹æ³•</span>
        <span class="token literal-property property">$and</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">studentAge</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">$gt</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">studentAge</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">$lt</span><span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> err
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-æŸ¥è¯¢åæ‰§è¡Œæ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_4-æŸ¥è¯¢åæ‰§è¡Œæ“ä½œ"><span>ï¼ˆ4ï¼‰æŸ¥è¯¢åæ‰§è¡Œæ“ä½œ</span></a></h4><p>å…¶ä¸ºäº†æ–¹ä¾¿ï¼Œä¹Ÿæä¾›äº†åœ¨æŸ¥è¯¢åçš„æ“ä½œï¼Œä¾‹å¦‚æŸ¥è¯¢ååˆ é™¤ã€æŸ¥è¯¢åæ›´æ–°ç­‰ã€‚</p><ul><li><p>Model.findOneAndDelete()ï¼šæŸ¥è¯¢ååˆ é™¤</p><ul><li>conditions Â«ObjectÂ»ï¼šæ¡ä»¶</li><li>[options] Â«ObjectÂ»ï¼šé€‰é¡¹</li><li>[callback] Â«FunctionÂ»ï¼šå›è°ƒå‡½æ•°</li></ul></li><li><p>Model.findOneAndRemove()</p><ul><li>å‚æ•°ä¸ç”¨æ³•ä¸ä¸Šé¢çš„ä¸€è‡´</li><li>è¯¥å‘½ä»¤åŸºäº MongoDB å‘½ä»¤è¡Œä¸“å±å‘½ä»¤ <code>findAndModify()</code> ã€‚</li></ul></li><li><p>Model.findOneAndReplace()ï¼šæŸ¥è¯¢å <strong>æ›¿æ¢</strong></p><ul><li>filter Â«ObjectÂ» ï¼šæŸ¥è¯¢æ¡ä»¶</li><li>[replacement] Â«ObjectÂ» ï¼šæ›¿æ¢æˆçš„æ•°æ®</li><li>[options] Â«ObjectÂ» ï¼šé€‰é¡¹</li><li>[callback] Â«FunctionÂ»ï¼šå›è°ƒå‡½æ•°</li></ul></li><li><p>Model.findOneAndUpdate()ï¼šæŸ¥è¯¢å <strong>æ›´æ–°</strong></p><ul><li>[conditions] Â«ObjectÂ»ï¼šæŸ¥è¯¢æ¡ä»¶</li><li>[update] Â«ObjectÂ»ï¼šæ›´æ–°çš„æ•°æ®ã€‚mongoose ä¼š <strong>è‡ªåŠ¨å°è£…</strong> æˆ <code>$set: { å±æ€§å: å±æ€§å€¼ }</code></li><li>[options] Â«ObjectÂ» ï¼šé€‰é¡¹</li><li>[callback] Â«FunctionÂ»ï¼šå›è°ƒå‡½æ•°</li><li>æ³¨æ„ï¼šå»ºè®®ç›´æ¥ä½¿ç”¨ <code>$set</code> ï¼Œå³ä½¿é˜²æ­¢é€‰é¡¹ä¸­æœ‰ <code>{ overwrite: true }</code> ï¼Œè€Œå¯¼è‡´åŸæ•°æ®è¢«è¦†ç›–ã€‚</li><li>ä¾‹å¦‚ï¼Œå°†æŸä¸ªè¡Œçš„å§“åæ”¹ä¸ºã€jasonã€‘ï¼š <code>Model.findOneAndUpdate(query, { $set: { name: &#39;jason&#39; }}, options, callback)</code></li></ul></li></ul><h3 id="_3-7-æ”¹é€ å­¦ç”Ÿä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_3-7-æ”¹é€ å­¦ç”Ÿä¿¡æ¯"><span>3.7 æ”¹é€ å­¦ç”Ÿä¿¡æ¯</span></a></h3><p>æˆ‘ä»¬ç°åœ¨ä½¿ç”¨ MongoDB æ¥æ”¹é€ ä¹‹å‰çš„å­¦ç”Ÿä¿¡æ¯çš„æ¡ˆä¾‹ã€‚</p><h4 id="_1-è®¾è®¡studentæ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_1-è®¾è®¡studentæ¨¡å—"><span>ï¼ˆ1ï¼‰è®¾è®¡Studentæ¨¡å—</span></a></h4><p>Student æ¨¡å—ä¸­ä¸ç”¨å†è‡ªå·±å¯¼å‡ºæ–¹æ³•ï¼Œç›´æ¥å¯¼å‡ºæ¨¡å‹å³å¯ï¼Œå› ä¸ºæ¨¡å‹é‡Œå°±æœ‰æˆ‘ä»¬éœ€è¦ç”¨çš„æ–¹æ³•ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">let</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mongoose&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// è¿æ¥æ•°æ®åº“</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&#39;mongodb://localhost:27017/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// è·å–æ¨¡å¼</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Schema <span class="token punctuation">}</span> <span class="token operator">=</span> mongoose<span class="token punctuation">;</span>

<span class="token comment">// ä½¿ç”¨æ¨¡å¼åˆ›å»ºå…·ä½“çš„æ•°æ®åº“æ¨¡å‹</span>
<span class="token keyword">const</span> studentsSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token comment">// String is shorthand for {type: String}</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span>Number<span class="token punctuation">,</span> <span class="token keyword">enum</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span>Number <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hobby</span><span class="token operator">:</span> String
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¯¼å‡ºæ•°æ®åº“æ¨¡å‹</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">&quot;Student_info&quot;</span><span class="token punctuation">,</span> studentsSchema<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-ä¿®æ”¹æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_2-ä¿®æ”¹æŸ¥è¯¢"><span>ï¼ˆ2ï¼‰ä¿®æ”¹æŸ¥è¯¢</span></a></h4><p>ä¿®æ”¹ <code>router.js</code> çš„æŸ¥è¯¢åŠŸèƒ½ï¼šç›´æ¥æ”¹æ–¹æ³•åå³å¯ã€‚è¿™å°±æ˜¯å°è£…çš„å¥½å¤„ï¼Œé‡Œå±‚çš„é€»è¾‘ä»£ç æ”¹å˜ï¼Œå¤–å±‚çš„å¼•ç”¨åˆ™ä¸éœ€è¦æ”¹å˜å¾ˆå¤šã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/students&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¿®æ”¹çš„éƒ¨åˆ† findAllStudents =&gt; find</span>
    Students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Server error...&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;å±•ç¤ºå­¦ç”Ÿä¿¡æ¯.html&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">students_info</span><span class="token operator">:</span> data<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-ä¿®æ”¹æ·»åŠ " tabindex="-1"><a class="header-anchor" href="#_3-ä¿®æ”¹æ·»åŠ "><span>ï¼ˆ3ï¼‰ä¿®æ”¹æ·»åŠ </span></a></h4><p>æ·»åŠ éƒ¨åˆ†ä¿®æ”¹è¾ƒå¤šï¼š</p><ul><li>é¦–å…ˆä½¿ç”¨ <code>request.body</code> æ¥è·å–è¡¨å•æ•°æ®ï¼›</li><li>ç„¶åå†ä½¿ç”¨ <code>new Student( å…·ä½“æ•°æ® )</code> æ¥åˆ›å»ºä¸€æ¡æ•°æ®è®°å½•ã€‚</li><li>æœ€åä½¿ç”¨ <code>æ•°æ®è®°å½•.save( function(){} )</code> æ¥ä¿å­˜æ•°æ®ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;/students/new&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
	<span class="token comment">// æ”¹å˜çš„éƒ¨åˆ†</span>
    <span class="token keyword">new</span> <span class="token class-name">Students</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Server error...&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    response<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">&#39;/students&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-ä¿®æ”¹æ›´æ–°" tabindex="-1"><a class="header-anchor" href="#_4-ä¿®æ”¹æ›´æ–°"><span>ï¼ˆ4ï¼‰ä¿®æ”¹æ›´æ–°</span></a></h4><p>æ›´æ–°éƒ¨åˆ†ä¸éœ€è¦å¤ªå¤§æ”¹åŠ¨ï¼š</p><ul><li>å°† <code>request.body</code> çš„ id ä½œä¸ºæŸ¥æ‰¾æ¡ä»¶ï¼›</li><li>å°† <code>request.body</code> æœ¬èº«ä½œä¸ºæ›´æ–°å¯¹è±¡ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;/students/edit&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å–postè¡¨å•æäº¤</span>
    <span class="token keyword">var</span> updateStu <span class="token operator">=</span> request<span class="token punctuation">.</span>body
    
	<span class="token comment">// æ”¹å˜çš„éƒ¨åˆ†</span>
    Students<span class="token punctuation">.</span><span class="token function">findOneAndUpdate</span><span class="token punctuation">(</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>updateStu<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">$set</span><span class="token operator">:</span> updateStu <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Server error...&#39;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
    response<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">&#39;/students&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-ä¿®æ”¹åˆ é™¤" tabindex="-1"><a class="header-anchor" href="#_5-ä¿®æ”¹åˆ é™¤"><span>ï¼ˆ5ï¼‰ä¿®æ”¹åˆ é™¤</span></a></h4><ul><li>å°† post è¯·æ±‚ä¼ è¿›æ¥çš„ id å€¼ä½œä¸ºæŸ¥è¯¢æ¡ä»¶</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/students/delete&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> deleteId <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">)</span>

    <span class="token comment">// ä¿®æ”¹çš„éƒ¨åˆ†</span>
    Students<span class="token punctuation">.</span><span class="token function">deleteStudentById</span><span class="token punctuation">(</span>deleteId<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Server error...&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        response<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">&#39;/students&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å››ã€nodeè¿æ¥mysql" tabindex="-1"><a class="header-anchor" href="#å››ã€nodeè¿æ¥mysql"><span>å››ã€Nodeè¿æ¥Mysql</span></a></h2><h3 id="_4-1-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#_4-1-å®‰è£…"><span>4.1 å®‰è£…</span></a></h3><p>å¦‚æœæƒ³ä½¿ç”¨ Node è¿æ¥ Mysqlï¼Œéœ€è¦è¿æ¥é©±åŠ¨ã€‚</p><p><code>npm install mysql --save</code></p><h3 id="_4-2-è¿æ¥æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#_4-2-è¿æ¥æ•°æ®åº“"><span>4.2 è¿æ¥æ•°æ®åº“</span></a></h3><p>è¿æ¥æ•°æ®åº“æœ‰æ˜¾å¼å’Œéšå¼ä¸¤ç§ã€‚</p><p>æ˜¾å¼å°±éœ€è¦ç›´æ¥å†™å‡ºæ¥ï¼Œå¦‚ç¬¬ 12 è¡Œ ~ ç¬¬ 19 è¡Œï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// å¯¼å…¥æ¨¡å—</span>
<span class="token keyword">var</span> mysql      <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mysql&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å»ºç«‹è¿æ¥</span>
<span class="token keyword">var</span> connection <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createConnection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">host</span>     <span class="token operator">:</span> <span class="token string">&#39;example.org&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">user</span>     <span class="token operator">:</span> <span class="token string">&#39;bob&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">password</span> <span class="token operator">:</span> <span class="token string">&#39;secret&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¼€å§‹è¿æ¥</span>
connection<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;error connecting: &#39;</span> <span class="token operator">+</span> err<span class="token punctuation">.</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;connected as id &#39;</span> <span class="token operator">+</span> connection<span class="token punctuation">.</span>threadId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éšå¼è¿æ¥ <strong>ç›´æ¥æ‰§è¡ŒæŸ¥è¯¢è¯­å¥</strong>ï¼Œå°±å¯ä»¥è‡ªåŠ¨è¿æ¥ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&#39;SELECT 1&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
    <span class="token comment">// connected!</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿æ¥å¯ä»¥æœ‰ä¸€äº›é€‰é¡¹ï¼Œé™¤äº†ä¸Šé¢æ‰€æåˆ°çš„ <code>user</code> ç™»å½•ç”¨æˆ·ï¼Œ<code>password</code> ç™»å½•å¯†ç è¿˜æœ‰ <code>timezone</code> æ—¶åŒºã€<code>connectTimeout</code> è¿æ¥è¶…æ—¶æ—¶é—´ç­‰ã€‚ã€‚ã€‚è¯¦æƒ…å¯ä»¥æŸ¥çœ‹ <a href="https://github.com/mysqljs/mysql#connection-options" target="_blank" rel="noopener noreferrer">Githubæ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="_4-3-ä½¿ç”¨è¿æ¥æ± " tabindex="-1"><a class="header-anchor" href="#_4-3-ä½¿ç”¨è¿æ¥æ± "><span>4.3 ä½¿ç”¨è¿æ¥æ± </span></a></h3><p>æˆ‘ä»¬é€šå¸¸å†™é¡¹ç›®æ—¶ï¼Œé€šå¸¸ä¼šä½¿ç”¨è¿æ¥æ± ï¼Œé¿å…ç»å¸¸å»ºç«‹è¿æ¥å’Œæ–­å¼€è¿æ¥ã€‚ä½¿ç”¨è¿æ¥æ± ä¹Ÿæœ‰æ˜¾å¼ä½¿ç”¨å’Œéšå¼ä½¿ç”¨ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// å¯¼å…¥æ¨¡å—</span>
<span class="token keyword">var</span> mysql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mysql&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å»ºç«‹è¿æ¥æ± </span>
<span class="token keyword">var</span> pool  <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createPool</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">connectionLimit</span> <span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token literal-property property">host</span>            <span class="token operator">:</span> <span class="token string">&#39;example.org&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">user</span>            <span class="token operator">:</span> <span class="token string">&#39;bob&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">password</span>        <span class="token operator">:</span> <span class="token string">&#39;secret&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">database</span>        <span class="token operator">:</span> <span class="token string">&#39;my_db&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ˜¾å¼å°±ç›´æ¥è°ƒç”¨ <code>pool.getConnection()</code> æ–¹æ³•ï¼Œç„¶ååœ¨å…¶å›è°ƒå‡½æ•°é‡Œä½¿ç”¨è·å–åˆ°çš„è¿æ¥ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>pool<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> connection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span> <span class="token comment">// è¿æ¥å¤±è´¥</span>

    <span class="token comment">// å¼€å§‹ä½¿ç”¨è¿æ¥</span>
    connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&#39;SELECT something FROM sometable&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
        <span class="token comment">// å½“ä¸åšäº‹æ—¶ï¼Œé‡Šæ”¾è¿æ¥</span>
        connection<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ç”±äºé‡Šæ”¾è¿æ¥ä¹Ÿå¯èƒ½å‘ç”Ÿé”™è¯¯ï¼Œæ‰€ä»¥è¿›è¡Œå¤„ç†</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>

        <span class="token comment">// è¿™é‡Œå·²ç»é‡Šæ”¾äº†è¿æ¥ï¼Œä¸èƒ½å†ä½¿ç”¨è¿æ¥</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éšå¼ç›´æ¥è°ƒç”¨ <code>pool.query()</code> æ–¹æ³•ï¼Œé‡Œé¢ä¼ å…¥ Sql è¯­å¥ï¼Œå°±è‡ªåŠ¨ä½¿ç”¨è¿æ¥æ¥æ‰§è¡Œ Sql è¯­å¥ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>pool<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&#39;SELECT 1 + 1 AS solution&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;The solution is: &#39;</span><span class="token punctuation">,</span> results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>solution<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸ”´ <strong>ã€å¦‚æœéœ€è¦å¯¼å‡ºåˆ°å…¶ä»–æ¨¡å—ä½¿ç”¨ï¼Œåˆ™éœ€è¦ä½¿ç”¨åˆ° ES6 ä»¥ä¸Šçš„åŒæ­¥å¼‚æ­¥è¯­æ³•ï¼Œå¾…è¡¥å……å†…å®¹ï¼Œæˆ–è€…å°±ç›´æ¥ä½¿ç”¨å›è°ƒå‡½æ•°ã€‘</strong></p><p><a href="https://www.cnblogs.com/wuyoucao/p/7478871.html" target="_blank" rel="noopener noreferrer">å‚è€ƒèµ„æ–™<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="_4-4-è¿æ¥æ± äº‹ä»¶" tabindex="-1"><a class="header-anchor" href="#_4-4-è¿æ¥æ± äº‹ä»¶"><span>4.4 è¿æ¥æ± äº‹ä»¶</span></a></h3><p>è¿æ¥æ± æ·»åŠ äº†ä¸€äº›äº‹ä»¶ç›‘å¬ï¼Œå¯ä»¥åœ¨è¿æ¥æ±  <strong>è§¦å‘äº†æŸä¸ªçŠ¶æ€å</strong> æ‰§è¡Œæ“ä½œã€‚</p><ul><li>å½“åœ¨è¿æ¥æ± æ‹¿åˆ°è¿æ¥æ—¶ï¼›</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>pool<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;acquire&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">connection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Connection %d acquired&#39;</span><span class="token punctuation">,</span> connection<span class="token punctuation">.</span>threadId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å½“é‡Šæ”¾è¿æ¥æ—¶ï¼š</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>pool<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;release&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">connection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Connection %d released&#39;</span><span class="token punctuation">,</span> connection<span class="token punctuation">.</span>threadId<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å½“è¿æ¥åˆ°è¿æ¥æ± æ—¶ï¼š</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>pool<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;connection&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">connection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&#39;SET SESSION auto_increment_increment=1&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-5-é‡Šæ”¾è¿æ¥" tabindex="-1"><a class="header-anchor" href="#_4-5-é‡Šæ”¾è¿æ¥"><span>4.5 é‡Šæ”¾è¿æ¥</span></a></h3><ul><li><p>å¦‚æœæƒ³å°†è¿æ¥å½’è¿˜å›è¿æ¥æ± ï¼Œä½¿ç”¨è¿™æ¡è¯­å¥ï¼Œ<code>connection.release();</code></p></li><li><p>å¦‚æœæƒ³ç»“æŸæ‰€æœ‰çš„è¿æ¥ï¼Œå¹¶æ‰§è¡Œå®Œå¾ªç¯é˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™æ¡è¯­å¥ã€‚</p></li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>pool<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// all connections in the pool have ended</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœæƒ³ç«‹å³ç»“æŸè¿æ¥ï¼Œä¸æ‰§è¡Œå¾ªç¯é˜Ÿåˆ—é‡Œçš„å†…å®¹ï¼Œä½¿ç”¨è¿™æ¡è¯­å¥ã€‚<code>connection.destroy();</code></li></ul><h3 id="_4-5-æŸ¥è¯¢è¯­å¥" tabindex="-1"><a class="header-anchor" href="#_4-5-æŸ¥è¯¢è¯­å¥"><span>4.5 æŸ¥è¯¢è¯­å¥</span></a></h3><p>æ‰§è¡ŒæŸ¥è¯¢è¯­å¥ä¸»è¦ç‰¹ç‚¹æ˜¯å¯ä»¥åƒ MyBatis ä½¿ç”¨å ä½ç¬¦ã€‚</p><ul><li>ä½¿ç”¨å ä½ç¬¦å¯ä»¥ä¼ é€’å•ä¸ªå‚æ•°ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&#39;SELECT * FROM `books` WHERE `author` = ?&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;David&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// error ï¼šå¦‚æœæŸ¥è¯¢è¿‡ç¨‹å‡ºç°é”™è¯¯</span>
    <span class="token comment">// results ï¼šæŸ¥è¯¢ç»“æœ</span>
    <span class="token comment">// fields ï¼šæŸ¥è¯¢ç»“æœçš„æ‰€æœ‰å‚æ•°</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ä¼ é€’å¤šä¸ªå‚æ•°ã€‚è¯¥æ¨¡å—è‡ªå¸¦äº†è½¬ä¹‰åŠŸèƒ½ï¼Œä½ åœ¨æ–¹æ³•ä¸­ä¼ çš„æ•°æ®ä¼šè‡ªåŠ¨ä¸ç¬¬ä¸€ä¸ªå‚æ•°è‡ªåŠ¨æ‹¼æ¥æˆ Sql è¯­å¥ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">var</span> post  <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Hello MySQL&#39;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥å¯¹è±¡</span>
<span class="token keyword">var</span> query <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&#39;INSERT INTO posts SET ?&#39;</span><span class="token punctuation">,</span> post<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// è‡ªåŠ¨å°†å¯¹è±¡è½¬æ¢ä¸ºSqlè¯­å¥</span>
<span class="token comment">// INSERT INTO posts SET `id` = 1, `title` = &#39;Hello MySQL&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸ”µ å…·ä½“çš„å…¶ä»–æŸ¥è¯¢æŠ€å·§ï¼Œå¯ä»¥æŸ¥çœ‹ <a href="https://github.com/mysqljs/mysql#escaping-query-values" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="äº”ã€è·¯å¾„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#äº”ã€è·¯å¾„é—®é¢˜"><span>äº”ã€è·¯å¾„é—®é¢˜</span></a></h2><h3 id="_5-1-é‡åˆ°çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_5-1-é‡åˆ°çš„é—®é¢˜"><span>5.1 é‡åˆ°çš„é—®é¢˜</span></a></h3><p>åœ¨ä»¥ Node å‘½ä»¤è¡Œè¿è¡Œ app.js æ—¶ï¼Œä¼šé‡åˆ°æ¯”è¾ƒè¯¡å¼‚çš„äº‹æƒ…ã€‚</p><p>Javascript æ–‡ä»¶ä¸­è‹¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ¥ç¡®å®šæ–‡ä»¶æ—¶ï¼Œ<strong>ç›¸å¯¹çš„ä¸æ˜¯å½“å‰æ–‡ä»¶</strong>ï¼Œè€Œæ˜¯ <strong>å½“å‰å‘½ä»¤è¡Œçš„ä½ç½®</strong>ã€‚</p><p>ä½†ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¼•å…¥æ¨¡å—ï¼Œç›¸å¯¹çš„æ˜¯å½“å‰æ–‡ä»¶ã€‚</p><p>ï¼ˆæ®è¯´æ˜¯ä½¿ç”¨ Node å¼€å‘å‘½ä»¤è¡Œéœ€è¦ä½¿ç”¨è¯¥ç‰¹æ€§ï¼‰</p><p>ä¾‹å¦‚ a.js æœ‰å¦‚ä¸‹ä»£ç ï¼šä½¿ç”¨ç›¸å¯¹è·¯å¾„å¯¼å…¥äº†ä¸€ä¸ª b æ¨¡å—ï¼Œç„¶ååœ¨è¯»å–è‡ªå·±æ–‡ä»¶å†…å®¹ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// å°†ä¼šè¾“å‡º &quot;This is b&quot;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./b&#39;</span><span class="token punctuation">)</span>

fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./a.js&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶ååœ¨å‘½ä»¤è¡Œä¸åŠ ä½ç½®è¿è¡Œ a.jsï¼Œä¼šå‘ç°æˆåŠŸè¾“å‡ºä¸æŠ¥é”™ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># ä¸åŠ ä½ç½®è¿è¡Œ a.js</span>
PS D:<span class="token punctuation">\</span>node<span class="token punctuation">\</span>test<span class="token operator">&gt;</span> <span class="token function">node</span> a.js
<span class="token comment"># è¾“å‡º</span>
This is b
const fs <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>

// å°†ä¼šè¾“å‡º <span class="token string">&quot;This is b&quot;</span>
const b <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">&#39;./b&#39;</span><span class="token punctuation">)</span>

fs.readFile<span class="token punctuation">(</span><span class="token string">&#39;./a.js&#39;</span>,function<span class="token punctuation">(</span>err, data<span class="token punctuation">)</span><span class="token punctuation">{</span>
  if<span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console.log<span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console.log<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœåŠ ä½ç½®è¿è¡Œ a.jsï¼Œæ¨¡å—å¯¼å…¥æˆåŠŸï¼Œä½†æ–‡ä»¶è¯»å…¥ä¸æˆåŠŸï¼ŒæŠ¥é”™åŸå› æ˜¯æ— æ³•æ‰“å¼€ <code>D:\node\a.js</code> ï¼Œå¾ˆæ˜æ˜¾æ˜¯è¯»æ–‡ä»¶çš„æ—¶å€™ä»¥å½“å‰ Node å‘½ä»¤è¡Œä½œä¸ºåŸºå‡†ä½ç½®ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># ä¸åŠ ä½ç½®è¿è¡Œ a.js</span>
PS D:<span class="token punctuation">\</span>node<span class="token operator">&gt;</span> <span class="token function">node</span> .<span class="token punctuation">\</span>test<span class="token punctuation">\</span>a.js
<span class="token comment"># è¾“å‡º</span>
æ‰§è¡Œäº†b.js
<span class="token punctuation">[</span>Error: ENOENT: no such <span class="token function">file</span> or directory, <span class="token function">open</span> <span class="token string">&#39;D:\node\a.js&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  errno: -4058,
  code: <span class="token string">&#39;ENOENT&#39;</span>,
  syscall: <span class="token string">&#39;open&#39;</span>,
  path: <span class="token string">&#39;D:\\å†å²å­¦ä¹ \\æ°2020-06ç¬”è®°\\ç¬”è®°\\html5\\node\\ç¬¬ä¸€å¤©\\a.js&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-2-è§£å†³æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_5-2-è§£å†³æ–¹æ¡ˆ"><span>5.2 è§£å†³æ–¹æ¡ˆ</span></a></h3><p>Node é™¤äº†æä¾› <code>require</code> å’Œ <code>exports</code> ä¹‹å¤–ï¼Œè¿˜æä¾›äº†ä¸¤ä¸ªæœ‰ç”¨çš„å˜é‡ã€‚</p><ul><li><code>__dirname</code> ï¼š<strong>åŠ¨æ€è·å–</strong> åˆ°å½“å‰æ–‡ä»¶ <strong>æ‰€å±ç›®å½•çš„ç»å¯¹è·¯å¾„</strong></li><li><code>__filename</code>ï¼šåŠ¨æ€è·å– åˆ° <strong>å½“å‰æ–‡ä»¶çš„ç»å¯¹è·¯å¾„</strong>ã€‚</li></ul><p>ä¸Šé¢çš„ä»£ç æ”¹å†™ä¸ºï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// è¿™é‡Œä¸ç”¨æ”¹</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./b&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// å¼•ç”¨pathæ¨¡å—</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// ä½¿ç”¨__filename</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>__filename<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå¼€æ”¾æŒ‡å®šç›®å½•çš„ä»£ç ä¸­ï¼Œå¯ä»¥ä¿®æ”¹æˆ</p><p><code>app.use(&#39;/public/&#39;, express.static( path.join(__dirname + &#39;./public/&#39;)) )</code></p><h2 id="å…­ã€arttemplateæ¨¡æ¿ç»§æ‰¿" tabindex="-1"><a class="header-anchor" href="#å…­ã€arttemplateæ¨¡æ¿ç»§æ‰¿"><span>å…­ã€artTemplateæ¨¡æ¿ç»§æ‰¿</span></a></h2><p>art-template æä¾›äº†æ¨¡æ¿ç»§æ‰¿å’Œå­æ¨¡æ¿ã€‚</p><ul><li><p>æ¨¡æ¿ç»§æ‰¿ï¼ˆTemplate inheritanceï¼‰ï¼šç®€å•è¯´å°±æ˜¯å®šä¹‰çˆ¶æ¨¡æ¿ï¼Œçˆ¶æ¨¡æ¿é‡Œå®šä¹‰ä¸€ä¸ªå¯ä»¥é‡å†™çš„å†…å®¹ï¼Œç„¶åå­æ¨¡æ¿é€‰æ‹©å¯ä»¥é‡å†™æˆ–è€…ç›´æ¥ä½¿ç”¨çˆ¶ç±»çš„å†…å®¹ã€‚å°±åƒ Java é‡Œçš„æ–¹æ³•é‡å†™ã€@Overrideã€‘ã€‚</p></li><li><p>å­æ¨¡æ¿ï¼šç®€å•æ¥è¯´å°±æ˜¯å®šä¹‰ä¸€ä¸ªæ¨¡å—ï¼Œç„¶åå…¶ä»–å¯ä»¥åŒ…å«ä»–ã€‚ä¾‹å¦‚åŒ…å«å¤´éƒ¨çŠ¶æ€æ ã€‚</p></li><li><p>ä¸¤ä¸ªéƒ½æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œå…³é”®åœ¨äºä½¿ç”¨åœºæ™¯çš„ä¸åŒã€‚</p></li></ul><h3 id="_6-1-å­æ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#_6-1-å­æ¨¡æ¿"><span>6.1 å­æ¨¡æ¿</span></a></h3><p>å­æ¨¡æ¿æ˜¯ç”¨æ¥è¢«åŒ…å«çš„ï¼Œä¸çˆ¶æ¨¡å—ä¸€èµ·ç»„æˆä¸€ä¸ªé¡µé¢ï¼Œæœ‰ç‚¹åƒæœºå™¨çš„é›¶ä»¶ã€‚</p><p>ä¾‹å¦‚ä¸‹é¢æœ‰ä¸¤æ®µä»£ç ï¼Œç”¨æ¥è¡¨ç¤ºå¤´éƒ¨å’Œå°¾éƒ¨ã€‚</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token comment">&lt;!-- header.html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>è¿™æ˜¯å¤´éƒ¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- footer.html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>è¿™æ˜¯å°¾éƒ¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå¦‚æœæƒ³ä½¿ç”¨è¿™ä¸¤æ®µä»£ç ï¼Œåœ¨æŒ‡å®šä½ç½®ç›´æ¥ä½¿ç”¨ç‰¹å®šè¯­æ³•å³å¯ã€‚</p><p>ä¸¤ä¸ªå¤§æ‹¬å·ï¼Œç„¶åé‡Œé¢ <code>include &#39;åŒ…å«çš„æ–‡ä»¶å&#39;</code>ã€‚</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  {{include &#39;./header.html&#39;}}

  è¿™æ˜¯ä¸­é—´å†…å®¹

  {{include &#39;./footer.html&#39;}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-2-æ¨¡æ¿ç»§æ‰¿" tabindex="-1"><a class="header-anchor" href="#_6-2-æ¨¡æ¿ç»§æ‰¿"><span>6.2 æ¨¡æ¿ç»§æ‰¿</span></a></h3><p>æ¨¡æ¿ç»§æ‰¿æ³¨é‡äºåœ¨çˆ¶æ¨¡æ¿ä¸ŠæŒ–å‘ï¼Œå°±åƒ Java é‡Œçš„æŠ½è±¡ç±»ï¼ŒæŒ–çš„å‘è¶Šå¤šï¼Œå­ç±»è‡ªå®šä¹‰ç‰¹æ€§å°±è¶Šå¼ºã€‚</p><p>ä¾‹å¦‚ä¸‹é¢çš„ä»£ç ä¸­ï¼ŒæŒ–äº†ä¸¤ä¸ªå‘ï¼Œä¸€ä¸ªç”¨äºå¡«å†™ style æ ‡ç­¾ï¼Œä¸€ä¸ªç”¨äºå¡«å†™å†…å®¹éƒ¨åˆ†ã€‚å¦‚æœå­æ¨¡æ¿æ²¡æœ‰å»å¡«å‘ï¼Œå¯ä»¥æŒ‡å®šé»˜è®¤å€¼ï¼Œå°±åƒ Java é‡Œçš„æ™®é€šæ–¹æ³•ç»§æ‰¿ã€‚</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    {{ block &#39;style&#39; }}
    {{ /block}}

    {{ block &#39;content&#39; }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>è¿™æ˜¯é»˜è®¤å†…å®¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	{{ /block}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå°±å¼€å§‹çœ‹å­æ¨¡æ¿çš„è¡¨æ¼”äº†ã€‚</p><ul><li>ç¬¬ 1 è¡Œã€å¿…å†™ã€‘ï¼šæŒ‡å®šä½ ç»§æ‰¿çš„çˆ¶æ¨¡ç‰ˆã€‚</li><li>åé¢å¼€å§‹å¡«å‘ï¼Œè¿™é‡ŒæŒ‡å®šäº† p æ ‡ç­¾çš„å­—ä½“é¢œè‰²å’Œä¸»ä½“å†…å®¹ã€‚</li></ul><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code>{{extend &#39;./index.html&#39;}}
{{ block &#39;style&#39; }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
   <span class="token selector">p</span> <span class="token punctuation">{</span>
   <span class="token property">color</span><span class="token punctuation">:</span> #bfc<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
{{/block}}

{{ block &#39;content&#39; }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>è¿™æ˜¯å­ç±»å†…å®¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
{{ /block}}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„è¿™é‡Œ Node æ¸²æŸ“çš„æ˜¯å­æ¨¡æ¿ï¼Œè€Œä¸æ˜¯ 6.1 çš„çˆ¶æ¨¡æ¿ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;children.html&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!----><!--]--><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/src/å­¦ä¹ /å‰ç«¯/æœåŠ¡å™¨/Node-ä¸­ä¹‹æ¡†æ¶ä½¿ç”¨.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 61403802+hahg2000@users.noreply.github.com">hahg2000</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link nav-link prev" href="/%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/%E6%9C%8D%E5%8A%A1%E5%99%A8/Node-%E4%B8%8B%E4%B9%8B%E7%BB%BC%E5%90%88Web%E9%A1%B9%E7%9B%AE.html" aria-label="Node-ä¸‹ä¹‹ç»¼åˆWebé¡¹ç›®"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->Node-ä¸‹ä¹‹ç»¼åˆWebé¡¹ç›®</div></a><!----></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">é»˜è®¤é¡µè„š</div><div class="vp-copyright">Copyright Â© 2024 hahg </div></footer></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-B9MLl3uI.js" defer></script>
  </body>
</html>
