import{_ as p}from"./plugin-vue_export-helper.21dcd24c.js";import{o,c,a as n,b as t,e,d as s,r as i}from"./app.e51d643c.js";const l={},u=e(`<h1 id="node-\u4E2D\u4E4B\u6846\u67B6\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#node-\u4E2D\u4E4B\u6846\u67B6\u4F7F\u7528" aria-hidden="true">#</a> Node-\u4E2D\u4E4B\u6846\u67B6\u4F7F\u7528</h1><h2 id="\u4E00\u3001express" tabindex="-1"><a class="header-anchor" href="#\u4E00\u3001express" aria-hidden="true">#</a> \u4E00\u3001Express</h2><p>\u539F\u751F\u7684 http \u5728\u67D0\u4E9B\u65B9\u9762\u8868\u73B0\u4E0D\u8DB3\u4EE5\u5E94\u5BF9\u6211\u4EEC\u7684\u5F00\u53D1\u9700\u6C42\uFF0C\u6240\u4EE5\u6211\u4EEC\u5C31\u9700\u8981\u4F7F\u7528\u6846\u67B6\u6765\u52A0\u5FEB\u6211\u4EEC\u7684\u5F00\u53D1\u6548\u7387\u3002</p><p>\u5728 Node \u4E2D\uFF0C\u6709\u5F88\u591A\u7684 Web \u5F00\u53D1\u6846\u67B6\uFF0C\u8FD9\u91CC\u5B66\u4E60 express \u4E3A\u4E3B\u3002</p><h3 id="_1-1-\u5B89\u88C5\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_1-1-\u5B89\u88C5\u4F7F\u7528" aria-hidden="true">#</a> 1.1 \u5B89\u88C5\u4F7F\u7528</h3><ol><li>\u521B\u5EFA\u4E00\u4E2A\u65B0\u6587\u4EF6\u5939</li><li>\u5728\u6587\u4EF6\u5939\u76EE\u5F55\u7684\u547D\u4EE4\u884C\u4E2D\uFF0C\u521B\u5EFA package.json \u6587\u4EF6\u3002</li><li>\u7136\u540E\u6267\u884C <code>npm install express --save</code> \u547D\u4EE4\u3002</li></ol><h3 id="_1-2-\u5165\u95E8" tabindex="-1"><a class="header-anchor" href="#_1-2-\u5165\u95E8" aria-hidden="true">#</a> 1.2 \u5165\u95E8</h3><ol><li>\u5148\u521B\u5EFA\u4E00\u4E2A app.js \uFF0C\u4F5C\u4E3A\u5F53\u524D\u9879\u76EE\u7684\u4E3B\u5165\u53E3\u3002\u6211\u4EEC\u9700\u8981\u5728\u8BE5\u6587\u4EF6\u91CC\u5F00\u542F\u670D\u52A1\u5668\u3002</li><li>\u5BFC\u5165 express \u6A21\u5757\u3002 <code>var express = require(&#39;express&#39;)</code></li><li>\u521B\u5EFA\u670D\u52A1\u5668\u5E94\u7528\u7A0B\u5E8F\u3002\u8FD9\u91CC\u53D8\u91CF\u540D\u4ECE\u539F\u6765\u7684 server \u6539\u4E3A\u4E86 app\u3002 \u73B0\u5728\u4E3A <code>var app = express()</code> \u539F\u6765\u4E3A <code>var server = http.createServer()</code></li><li>\u5F00\u542F\u76D1\u542C\u7AEF\u53E3\u64CD\u4F5C\u3002 <code>app.listen(3000, ()=&gt;{ console.log(&#39;app is running...&#39;)})</code></li><li>\u5224\u65AD\u8BF7\u6C42\u3002\u76F4\u63A5\u4F7F\u7528 <code>app.get( &#39;\u8BF7\u6C42\u540D&#39;, function(){} )</code> \u5373\u53EF\uFF0C\u4E0D\u9700\u8981\u81EA\u5DF1\u4F7F\u7528 if \u5224\u65AD\u3002</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;\u8FD9\u91CC\u662F\u4E3B\u9875\uFF01&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;\u8FD9\u91CC\u662F\u6D4B\u8BD5\u9875\u9762\uFF01&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-\u516C\u5F00\u6307\u5B9A\u76EE\u5F55" tabindex="-1"><a class="header-anchor" href="#_1-3-\u516C\u5F00\u6307\u5B9A\u76EE\u5F55" aria-hidden="true">#</a> 1.3 \u516C\u5F00\u6307\u5B9A\u76EE\u5F55</h3><p>\u516C\u5F00\u6307\u5B9A\u76EE\u5F55\u8C03\u7528\u4E00\u4E2A API \u5373\u53EF\u3002</p><ul><li><code>app.use( &#39;\u8BF7\u6C42\u8DEF\u5F84&#39;, express.static(&#39;\u9700\u8981\u5F00\u653E\u7684\u76EE\u5F55&#39;) )</code></li><li>\u4F8B\u5982\uFF1A<code>app.use(&#39;/public/&#39;, express.static(&#39;./public/&#39;))</code>\uFF0C\u8BBF\u95EE\u65F6\u8F93\u5165\u7684\u7F51\u5740\uFF1A<code>http://127.0.0.1:3000/public/a.js</code></li><li>\u5982\u679C\u4E0D\u60F3\u6BCF\u6B21\u8BBF\u95EE public \u6587\u4EF6\u5939\u65F6\u90FD\u52A0\u4E0A \u201C /public \u201D\uFF0C\u5219\u53EF\u4EE5\u76F4\u63A5\u7701\u7565\u7B2C\u4E00\u4E2A\u53C2\u6570\uFF1A <code>app.use( express.static(&#39;\u9700\u8981\u5F00\u653E\u7684\u76EE\u5F55&#39;) )</code>\u3002</li><li>\u4F8B\u5982\uFF1A<code>app.use(express.static(&#39;./public/&#39;))</code>\uFF0C\u6BCF\u6B21\u53EA\u9700\u8981\u8BBF\u95EE <code>http://127.0.0.1:3000/a.js</code> \u5373\u53EF\u3002</li><li>\u8FD9\u91CC\u4F7F\u7528 <code>path.join()</code> \u65B9\u6CD5\u6765\u586B\u5199\u9700\u8981\u5F00\u653E\u7684\u76EE\u5F55\uFF0C\u8FD9\u91CC\u5148\u4E0D\u8BE6\u5199\uFF0C\u8BE6\u60C5\u8BF7\u770B <strong>5.2 \u8282</strong>\u3002</li></ul><h3 id="_1-4-\u6587\u4EF6\u64CD\u4F5C\u8DEF\u5F84\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_1-4-\u6587\u4EF6\u64CD\u4F5C\u8DEF\u5F84\u95EE\u9898" aria-hidden="true">#</a> 1.4 \u6587\u4EF6\u64CD\u4F5C\u8DEF\u5F84\u95EE\u9898</h3><p>\u5BF9\u4E8E\u586B\u5199\u6587\u4EF6\u8DEF\u5F84\u7684\u65F6\u5019\u4F1A\u4E0B\u9762\u51E0\u79CD\u65B9\u5F0F\uFF1A</p><ul><li><p>\u5982\u679C\u6587\u4EF6\u5728\u540C\u7EA7\u76EE\u5F55\u4E0A\u76F4\u63A5\u5199\u6587\u4EF6\u540D\u5B57\uFF1A <code>&lt;img src=&quot;\u7EB1\u8DEF.jpg&quot; alt=&quot;&quot;&gt;</code>\u3002</p></li><li><p>\u8FD9\u884C\u662F\u4E0A\u9762\u7684\u5B8C\u6574\u5199\u6CD5\uFF0C<strong>\u5EFA\u8BAE\u4F7F\u7528</strong>\uFF0C\u201C ./ \u201C \u4EE3\u8868\u5F53\u524D\u76EE\u5F55\uFF1A <code>&lt;img src=&quot;./\u7EB1\u8DEF.jpg&quot; alt=&quot;&quot;&gt;</code></p></li><li><p>\u5982\u679C\u6587\u4EF6\u5728\u5F53\u524D\u76EE\u5F55\u7684\u78C1\u76D8\u6839\u76EE\u5F55\u4E0A\uFF0C\u4EE5 &quot; / &quot; \u5F00\u5934\uFF08\u5F88\u5C11\u4F7F\u7528\uFF09\uFF1A<code>&lt;img src=&quot;/\u7EB1\u8DEF.jpg&quot; alt=&quot;&quot;&gt;</code></p><ul><li>\u5982\u679C\u5F53\u524D\u6587\u4EF6\u8FD0\u884C\u5728\u670D\u52A1\u5668\u4E0A\uFF0C\u5219\u5C31\u4EE3\u8868\u8BF7\u6C42\u7F51\u7EDC\u8DEF\u5F84\u7684\u56FE\u7247\u3002</li></ul></li><li><p>\u5982\u679C\u6587\u4EF6\u5728\u5176\u4ED6\u78C1\u76D8\u4E0A\uFF0C\u5219\u4EE5\u78C1\u76D8\u5F00\u5934\uFF08\u5F88\u5C11\u4F7F\u7528\uFF09\uFF1A<code>&lt;img src=&quot;c:/\u7EB1\u8DEF.jpg&quot; alt=&quot;&quot;&gt;</code>\u3002</p></li></ul><h3 id="_1-5-\u4E0Eart-template\u7ED3\u5408" tabindex="-1"><a class="header-anchor" href="#_1-5-\u4E0Eart-template\u7ED3\u5408" aria-hidden="true">#</a> 1.5 \u4E0Eart-template\u7ED3\u5408</h3>`,16),r=s("\u6211\u4EEC\u9700\u8981\u5C06 art-template \u4E0E express \u7ED3\u5408\u4E00\u8D77\u7F16\u7A0B\u3002"),d={href:"http://aui.github.io/art-template/zh-cn/express/index.html",target:"_blank",rel:"noopener noreferrer"},k=s("\u5B98\u65B9\u6587\u6863"),v=e(`<h4 id="_1-\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#_1-\u5B89\u88C5" aria-hidden="true">#</a> \uFF081\uFF09\u5B89\u88C5</h4><p>\u4F7F\u7528 art-template \u5F53\u7136\u9700\u8981\u5B89\u88C5\u4ED6\uFF0C\u8FD8\u9700\u8981\u5C06\u4E00\u4E2A\u8FDE\u63A5 express \u7684\u6A21\u5757\u3002</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code>npm install <span class="token operator">--</span>save art-template 
npm install <span class="token operator">--</span>save express-art-template
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_2-\u914D\u7F6E" aria-hidden="true">#</a> \uFF082\uFF09\u914D\u7F6E</h4><p>\u9996\u5148\u5148\u914D\u7F6E\u4F7F\u7528 art-template\u3002</p><p><code>app.engine(&#39;html&#39;, require(&#39;express-art-template&#39;))</code></p><ul><li>\u7B2C\u4E00\u4E2A\u53C2\u6570\uFF1A\u9ED8\u8BA4\u6E32\u67D3\u6587\u4EF6\u540D\u7684\u540E\u7F00\u540D\u3002\u53EF\u4EE5\u4E3A art\uFF0C\u4F46\u7531\u4E8E\u7F16\u8F91\u5668\u5BF9\u4E8E art \u540E\u7F00\u540D\u7684\u6587\u4EF6\u652F\u6301\u4E0D\u591F\uFF082021\u5E7411\u67087\u65E5 vscode\u4E0D\u652F\u6301\uFF09\uFF0C\u6240\u4EE5\u9996\u9009 html\u3002</li><li>\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF1A\u52A0\u8F7D express-art-template\u3002\u8BE5\u6A21\u5757\u53EF\u4EE5\u81EA\u52A8\u5C06 art-template \u6574\u5408\u5230 express\uFF0C\u6240\u4EE5\u6211\u4EEC\u4E0D\u9700\u8981\u518D\u5355\u72EC\u5BFC\u5165 art-template\u3002</li></ul><h4 id="_3-\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_3-\u4F7F\u7528" aria-hidden="true">#</a> \uFF083\uFF09\u4F7F\u7528</h4><ul><li>express \u4E3A Respone \u76F8\u5E94\u5BF9\u8C61\u63D0\u4F9B\u4E86\u4E00\u4E2A\u65B9\u6CD5 <code>render()</code>\u3002</li><li>\u4F7F\u7528\u8BE5\u65B9\u6CD5\u9700\u8981\u914D\u7F6E\u6A21\u677F\u5F15\u64CE\uFF0C\u914D\u7F6E\u5B8C\u624D\u53EF\u4EE5\u4F7F\u7528\u3002</li><li>\u8BED\u6CD5\u7ED3\u6784\uFF1A<code>response.render(&#39;html\u6587\u4EF6\u540D&#39;, {\u6A21\u677F\u6570\u636E})</code><ul><li>\u7B2C\u4E00\u4E2A\u53C2\u6570\uFF1A\u56E0\u4E3A express \u4F1A\u81EA\u52A8\u5230 views \u6587\u4EF6\u5939\u91CC\u67E5\u627E\u89C6\u56FE\u6587\u4EF6\uFF0C\u6240\u4EE5\u76F4\u63A5\u5199\u9700\u8981\u6E32\u67D3\u7684\u6587\u4EF6\u540D\u5373\u53EF\u3002</li><li>\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF1A\u9700\u8981\u6E32\u67D3\u5230\u7F51\u9875\u91CC\u7684\u6570\u636E\u3002</li><li>\u5982\u679C\u60F3\u6539\u53D8\u9ED8\u8BA4\u7684 views \u4F4D\u7F6E\uFF0C\u4F7F\u7528\u8BE5\u884C\u4EE3\u7801 <code>app.set(&#39;views&#39;, &#39;\u81EA\u5B9A\u4E49\u8DEF\u5F84&#39;)</code>\u3002</li></ul></li></ul><h3 id="_1-6-\u6539\u5199\u7559\u8A00\u677F\u6848\u4F8B" tabindex="-1"><a class="header-anchor" href="#_1-6-\u6539\u5199\u7559\u8A00\u677F\u6848\u4F8B" aria-hidden="true">#</a> 1.6 \u6539\u5199\u7559\u8A00\u677F\u6848\u4F8B</h3><p>\u4F7F\u7528 express \u6765\u6539\u5199\u4E4B\u524D\u7684\u7559\u8A00\u677F\u6848\u4F8B\u3002</p><h4 id="_1-\u6539\u5199\u8DF3\u8F6C\u5C55\u793A\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#_1-\u6539\u5199\u8DF3\u8F6C\u5C55\u793A\u9875\u9762" aria-hidden="true">#</a> \uFF081\uFF09\u6539\u5199\u8DF3\u8F6C\u5C55\u793A\u9875\u9762</h4><p>\u76F4\u63A5\u4F7F\u7528 <code>get()</code> \u65B9\u6CD5\u6765\u5904\u7406 \u201C / \u201D\u8BF7\u6C42\uFF0C\u4F7F\u7528 <code>render()</code> \u65B9\u6CD5\u6765\u8BFB\u53D6\u6587\u4EF6\u5E76\u6E32\u67D3\u9875\u9762\uFF0C\u4E0D\u9700\u8981\u518D\u7528\u8BFB\u5199\u6587\u4EF6\u64CD\u4F5C\u3002</p><div class="custom-container warning"><p class="custom-container-title">\u6CE8\u610F</p><p><code>render()</code> \u65B9\u6CD5\u6267\u884C\u5B8C\u540E\u4F1A\u81EA\u52A8\u7ED3\u675F\u53D1\u9001\u54CD\u5E94</p></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> msg_data <span class="token operator">=</span> <span class="token punctuation">[</span>
<span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;\u674E\u56DB&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;\u4ECA\u5929\u5929\u6C14\u771F\u597D&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;\u738B\u4E94&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;\u4ECA\u5929\u5929\u6C14\u771F\u597D&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;\u5F20\u4E09&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;\u4ECA\u5929\u5929\u6C14\u771F\u597D&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
  response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;\u5C55\u793A\u7559\u8A00.html&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&#39;msg_data&#39;</span> <span class="token operator">:</span> msg_data
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-\u6539\u5199\u8DF3\u8F6C\u7559\u8A00\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#_2-\u6539\u5199\u8DF3\u8F6C\u7559\u8A00\u9875\u9762" aria-hidden="true">#</a> \uFF082\uFF09\u6539\u5199\u8DF3\u8F6C\u7559\u8A00\u9875\u9762</h4><p>\u6839\u636E\u8DF3\u8F6C\u7559\u8A00\u9875\u9762\u8BF7\u6C42\u6765\u8FD4\u56DE\u9875\u9762\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/toLeaveMsg&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;\u7559\u8A00\u677F.html&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-\u6539\u5199\u63A5\u53D7\u7559\u8A00\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_3-\u6539\u5199\u63A5\u53D7\u7559\u8A00\u6570\u636E" aria-hidden="true">#</a> \uFF083\uFF09\u6539\u5199\u63A5\u53D7\u7559\u8A00\u6570\u636E</h4><p>express \u63D0\u4F9B\u4E86\u4E00\u4E2A\u5C5E\u6027\u6765\u83B7\u53D6 get \u8BF7\u6C42\u91CC\u9762\u7684\u6570\u636E\u3002</p><ul><li>\u8C03\u7528 <code>request.query</code></li></ul><p>express \u8FD8\u63D0\u4F9B\u4E86\u4E00\u4E2A\u65B9\u6CD5\u6765\u8DF3\u8F6C\u9875\u9762\u3002\u4E0D\u9700\u8981\u6211\u4EEC\u518D\u81EA\u5DF1\u8BBE\u7F6E\u72B6\u6001\u7801\u548C\u5934\u4FE1\u606F\u3002</p><ul><li>\u8C03\u7528 <code>response.redirect(&#39;\u8DF3\u8F6C\u8DEF\u5F84&#39;)</code></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/LeaveMsg&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// \u4E4B\u524D\u7684\u5199\u6CD5</span>
    <span class="token comment">// var url = request.url</span>
    <span class="token comment">// var urlObj = new URL(url, request.headers.referer).searchParams</span>
    <span class="token comment">// var tempObj = {}</span>
    <span class="token comment">// urlObj.forEach(function(value, key){</span>
    <span class="token comment">// tempObj[key] = value</span>
    <span class="token comment">// })</span>

    <span class="token comment">// \u73B0\u5728\u7684\u5199\u6CD5</span>
    msg_data<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>query<span class="token punctuation">)</span>

    <span class="token comment">// \u4E4B\u524D\u7684\u5199\u6CD5</span>
    <span class="token comment">// response.statusCode = 302</span>
    <span class="token comment">// response.setHeader(&#39;Location&#39;, &#39;/&#39;)</span>
    
    <span class="token comment">// \u73B0\u5728\u7684\u5199\u6CD5</span>
    <span class="token comment">// \u8DF3\u8F6C\u5230 &quot; / &quot;</span>
    response<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-7-\u63A5\u6536post\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#_1-7-\u63A5\u6536post\u8BF7\u6C42" aria-hidden="true">#</a> 1.7 \u63A5\u6536post\u8BF7\u6C42</h4><ul><li>\u5728 express v4.16 \u4E4B\u524D\u9700\u8981\u624B\u52A8\u5B89\u88C5 <code>body-parser</code> \u6A21\u5757\u3002</li><li>\u5B89\u88C5\uFF1A <code>npm install --save body-parser</code></li></ul><p>\u5B89\u88C5\u540E\u9700\u8981\u8FDB\u884C\u4E24\u6761\u8BED\u53E5\u7684\u914D\u7F6E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5BFC\u5165\u6A21\u5757</span>
<span class="token keyword">var</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;body-parser&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u7B2C\u4E00\u53E5\u914D\u7F6E\uFF1Aparse application/x-www-form-urlencoded</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">extended</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// \u7B2C\u4E8C\u53E5\u914D\u7F6E\uFF1Aparse application/json</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u800C\u5728 v4.16 \u4E4B\u540E\uFF0Cexpress \u81EA\u5DF1\u5B9E\u73B0\u4E86 body-parser \u7684\u529F\u80FD\uFF0C<strong>\u6240\u4EE5\u4E0D\u518D\u9700\u8981\u989D\u5916\u5B89\u88C5 body-parser \u4E86</strong>\u3002</li></ul><p>\u76F4\u63A5\u5C06\u4E0A\u9762\u4E24\u6761\u8BED\u53E5\u7684\u53D8\u91CF\u6539\u4E3A express \u5373\u53EF\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7B2C\u4E00\u53E5\u914D\u7F6E\uFF1Aparse application/x-www-form-urlencoded</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">extended</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// \u7B2C\u4E8C\u53E5\u914D\u7F6E\uFF1Aparse application/json</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u914D\u7F6E\u6210\u529F\u540E\uFF0C\u76F4\u63A5\u8C03\u7528 <code>request.body</code> \u5C31\u53EF\u4EE5\u83B7\u53D6\u5230 post \u8BF7\u6C42\u7684\u6570\u636E\u3002</li></ul><h3 id="_1-8-\u8BFB\u53D6\u6587\u4EF6\u91CC\u7684\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_1-8-\u8BFB\u53D6\u6587\u4EF6\u91CC\u7684\u6570\u636E" aria-hidden="true">#</a> 1.8 \u8BFB\u53D6\u6587\u4EF6\u91CC\u7684\u6570\u636E</h3><p>\u73B0\u5728\u6211\u4EEC\u5C06\u6570\u636E\u6301\u4E45\u5316\u5230\u6587\u4EF6\u91CC\u3002\u6587\u4EF6\u91CC\u7684\u6570\u636E\u4EE5 JSON \u683C\u5F0F\u5B58\u653E\u3002</p><h4 id="_1-\u65B0\u5EFAjson\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1-\u65B0\u5EFAjson\u6587\u4EF6" aria-hidden="true">#</a> \uFF081\uFF09\u65B0\u5EFAjson\u6587\u4EF6</h4><p>\u65B0\u5EFA\u4E00\u4E2A json \u683C\u5F0F\u7684\u6587\u4EF6\uFF0C\u7136\u540E\u5728\u91CC\u9762\u5B58\u653E\u6570\u636E\u3002json \u6587\u4EF6\u7684\u9700\u8981\u6CE8\u610F\u51E0\u70B9</p><ul><li>\u53D8\u91CF\u540D\u9700\u8981\u4F7F\u7528\u53CC\u5F15\u53F7</li><li>\u53D8\u91CF\u503C\u5982\u679C\u662F\u5B57\u7B26\u4E32\uFF0C\u9700\u8981\u4F7F\u7528\u53CC\u5F15\u53F7\uFF0C\u4E0D\u80FD\u5355\u5F15\u53F7\u3002</li><li>\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u7684\u6700\u540E\u9762\u4E0D\u80FD\u591A\u52A0\u4E00\u4E2A\u9017\u53F7\u3002</li></ul><h4 id="_2-\u89E3\u6790\u6587\u4EF6\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_2-\u89E3\u6790\u6587\u4EF6\u6570\u636E" aria-hidden="true">#</a> \uFF082\uFF09\u89E3\u6790\u6587\u4EF6\u6570\u636E</h4><p>\u6211\u4EEC\u9700\u8981\u5C06\u6587\u4EF6\u91CC\u9762\u7684\u5185\u5BB9\u8BFB\u53D6\u51FA\u6765\uFF0C\u4E00\u822C\u90FD\u662F <code>data.toString()</code> \u5C06\u8BFB\u53D6\u51FA\u6765\u7684\u4E8C\u8FDB\u5236\u6570\u636E\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\u3002</p><ul><li>\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 <code>fs.readFile()</code> \u65B9\u6CD5\u7684\u53E6\u4E00\u79CD\u91CD\u8F7D\u3002</li><li><code>fs.readFile( &#39;\u6587\u4EF6\u4F4D\u7F6E&#39;, &#39;\u7F16\u7801\u7C7B\u578B&#39;, (err, data)=&gt;{} )</code></li><li>\u53EA\u8981\u6307\u5B9A\u4E86\u7F16\u7801\u683C\u5F0F\uFF0C\u56DE\u8C03\u51FD\u6570\u7684 data \u5C31\u4F1A\u81EA\u52A8\u4F7F\u7528\u7F16\u7801\u7C7B\u578B\u8F6C\u4E3A\u5B57\u7B26\u4E32\u3002</li></ul><p>\u56E0\u4E3A\u8BFB\u53D6\u51FA\u6765\u7684\u662F\u5B57\u7B26\u4E32\uFF0C\u60F3\u5230\u8F6C\u4E3A\u6570\u7EC4\u6216\u8005\u5BF9\u8C61\uFF0C\u8C03\u7528 <code>JSON.parse(data)</code> \u5373\u53EF\u3002</p><h2 id="\u4E8C\u3001curd\u8D77\u6B65" tabindex="-1"><a class="header-anchor" href="#\u4E8C\u3001curd\u8D77\u6B65" aria-hidden="true">#</a> \u4E8C\u3001CURD\u8D77\u6B65</h2><p>\u73B0\u5728\u6211\u4EEC\u4F7F\u7528 express \u505A\u4E00\u4E2A\u5B66\u751F\u4FE1\u606F\u589E\u5220\u6539\u67E5\u7684\u529F\u80FD\u3002</p><h3 id="_2-1-\u8D77\u6B65" tabindex="-1"><a class="header-anchor" href="#_2-1-\u8D77\u6B65" aria-hidden="true">#</a> 2.1 \u8D77\u6B65</h3><p>\u9996\u5148\u8FDB\u884C\u8DEF\u7531\u8BBE\u8BA1\u3002</p><table><thead><tr><th>\u529F\u80FD</th><th>\u8BF7\u6C42</th><th>\u8BF7\u6C42\u7C7B\u578B</th><th>\u8BF7\u6C42\u53C2\u6570</th></tr></thead><tbody><tr><td>\u8DF3\u8F6C\u4E3B\u9875</td><td>/students</td><td>GET</td><td>\u65E0</td></tr><tr><td>\u8DF3\u8F6C\u5230\u6DFB\u52A0\u9875\u9762</td><td>/students/new</td><td>GET</td><td>\u65E0</td></tr><tr><td>\u5904\u7406\u6DFB\u52A0\u7684\u6570\u636E</td><td>/students/new</td><td>POST</td><td>name,age,gender,hobby</td></tr><tr><td>\u8DF3\u8F6C\u5230\u4FEE\u6539\u9875\u9762</td><td>/students/edit</td><td>GET</td><td>\u65E0</td></tr><tr><td>\u5904\u7406\u4FEE\u6539\u7684\u6570\u636E</td><td>/students/new</td><td>POST</td><td>id,name,age,gender,hobby</td></tr><tr><td>\u5904\u7406\u5220\u9664\u8BF7\u6C42</td><td>/students/delete</td><td>GET</td><td>id</td></tr></tbody></table><h3 id="_2-2-\u63D0\u53D6\u8DEF\u7531\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#_2-2-\u63D0\u53D6\u8DEF\u7531\u6A21\u5757" aria-hidden="true">#</a> 2.2 \u63D0\u53D6\u8DEF\u7531\u6A21\u5757</h3><p>\u5982\u679C\u5728\u4E3B\u6A21\u5757\u91CC\u9762\u5199\u4E00\u957F\u4E32 <code>app.get(&#39;\u8BF7\u6C42\u8DEF\u5F84&#39;, (resquest, response)=&gt;{})</code> \u65B9\u6CD5\uFF0C\u5219\u4F1A\u4E0D\u597D\u7BA1\u7406\u3002\u6240\u4EE5\u8FD9\u91CC\u5C06\u4E00\u957F\u4E32\u76F8\u4F3C\u7684\u4EE3\u7801\u5171\u540C\u5C01\u88C5\u6210\u4E00\u4E2A\u6A21\u5757\u3002</p><h4 id="_1-\u539F\u59CB\u5199\u6CD5" tabindex="-1"><a class="header-anchor" href="#_1-\u539F\u59CB\u5199\u6CD5" aria-hidden="true">#</a> \uFF081\uFF09\u539F\u59CB\u5199\u6CD5</h4><p>\u4E0B\u9762\u4EE3\u7801\u662F\u5355\u72EC\u4E00\u4E2A\u6587\u4EF6\u7684\uFF0C\u91CC\u9762\u6D89\u53CA\u5230\u7684\u4E24\u4E2A\u53D8\u91CF\u90FD\u9700\u8981\u58F0\u660E\u3002</p><ul><li>fs \u53D8\u91CF\uFF1A\u5BFC\u5165\u6587\u4EF6\u6A21\u5757\u5373\u53EF\u3002</li><li>app \u53D8\u91CF\uFF1Aapp \u53D8\u91CF\u662F express \u521B\u5EFA\u51FA\u6765\u7684\u4E00\u4E2A\u670D\u52A1\u5668\u53D8\u91CF\uFF0C\u5982\u679C\u65B0\u58F0\u660E\u7684\u8BDD\uFF0C\u5C31\u4E0D\u662F\u539F\u6765\u7684\u90A3\u4E2A\u670D\u52A1\u5668\u53D8\u91CF\u3002\u8FD9\u65F6\u5C31\u9700\u8981\u4E3B\u6A21\u5757\u4F20\u4E00\u4E2A app \u53D8\u91CF\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// router.js</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./db.json&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span> <span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span>   response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Server error&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;\u5C55\u793A\u7559\u8A00.html&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&#39;students_info&#39;</span> <span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5982\u679C\u9700\u8981\u8981\u5C06 app \u53D8\u91CF\u5BFC\u5165\uFF0C\u5219\u9700\u8981\u5C06\u6574\u4E2A\u8DEF\u7531\u6587\u4EF6\u5305\u88C5\u6210\u4E00\u4E2A\u6A21\u5757\uFF0C\u5BFC\u51FA\u5230\u4E3B\u6A21\u5757\u4E2D\u3002</li><li>\u4E3B\u6A21\u5757\u518D\u5C06 app \u53D8\u91CF\u4F20\u5165\u8DEF\u7531\u6A21\u5757\u4E2D\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// router.js</span>
<span class="token comment">// \u5C06\u8DEF\u7531\u4EE3\u7801\u5305\u88C5\u6210\u4E00\u4E2A\u6A21\u5757\u5BFC\u51FA</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./db.json&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span> <span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Server error&#39;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;\u5C55\u793A\u7559\u8A00.html&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                <span class="token string-property property">&#39;students_info&#39;</span> <span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// app.js</span>
<span class="token comment">// \u5F15\u5165</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./router&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// \u4F7F\u7528\u5176\u65B9\u6CD5\uFF0C\u5E76\u5C06app\u53D8\u91CF\u4F20\u5165</span>
<span class="token function">router</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-\u6846\u67B6\u5199\u6CD5" tabindex="-1"><a class="header-anchor" href="#_2-\u6846\u67B6\u5199\u6CD5" aria-hidden="true">#</a> \uFF082\uFF09\u6846\u67B6\u5199\u6CD5</h4><p>express \u81EA\u5E26\u4E86\u8DEF\u7531\u6A21\u5757\uFF0C\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u3002</p><ul><li>\u9996\u5148\u4F7F\u7528 <code>var router = express.Router()</code> \u521B\u5EFA\u4E00\u4E2A\u8DEF\u7531\u5BB9\u5668\u3002</li><li>\u7136\u540E\u4F7F\u7528 <code>router.get(&#39;\u8BF7\u6C42\u8DEF\u5F84&#39;, (request, response) =&gt; {}</code> \u628A\u8DEF\u7531\u6302\u8F7D\u5728\u8DEF\u7531\u5BB9\u5668\u91CC\u3002</li><li>\u6700\u540E\u4F7F\u7528 <code>module.exports = router</code> \u5BFC\u51FA\u8DEF\u7531\u5BB9\u5668\u3002</li></ul><p>\u5B8C\u6574\u7684\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./db.json&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Server error&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;\u5C55\u793A\u5B66\u751F\u4FE1\u606F.html&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">students_info</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u800C\u5728\u4E3B\u6A21\u5757\u4E2D\u5219\u5BFC\u5165\u8DEF\u7531\u5BB9\u5668\u540E\uFF0C\u6302\u8F7D\u5728 app \u670D\u52A1\u5668\u4E0A\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5BFC\u5165\u8DEF\u7531\u5BB9\u5668</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./router&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// \u5C06\u8DEF\u7531\u5BB9\u5668\u6302\u8F7D\u5728 app \u670D\u52A1\u5668</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">\u6CE8\u610F</p><p><code>app.use(router)</code> \u5EFA\u8BAE\u5199\u5728\u6700\u540E\u9762\uFF0C\u4E0D\u7136\u53EF\u80FD\u4F1A\u4E00\u4E9B\u539F\u56E0\u62A5\u9519\u3002\u5177\u4F53\u7684\u540E\u9762\u4F1A\u4ECB\u7ECD\u3002</p></div><h3 id="_2-3-\u5C01\u88C5\u64CD\u4F5C\u6570\u636E\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#_2-3-\u5C01\u88C5\u64CD\u4F5C\u6570\u636E\u6A21\u5757" aria-hidden="true">#</a> 2.3 \u5C01\u88C5\u64CD\u4F5C\u6570\u636E\u6A21\u5757</h3><p>\u63A5\u4E0B\u6765\u5C06\u6570\u636E\u5C01\u88C5\u6210\u6587\u4EF6\uFF0C\u4E13\u95E8\u5904\u7406\u6570\u636E\uFF0C\u4E0D\u5173\u5FC3\u4E1A\u52A1\uFF0C\u4E0E\u4E09\u5C42\u67B6\u6784\u4E2D dao \u5C42\u7684\u529F\u80FD\u4E00\u81F4\u3002</p><h4 id="_1-\u67E5\u8BE2\u6240\u6709\u5B66\u751F\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#_1-\u67E5\u8BE2\u6240\u6709\u5B66\u751F\u4FE1\u606F" aria-hidden="true">#</a> \uFF081\uFF09\u67E5\u8BE2\u6240\u6709\u5B66\u751F\u4FE1\u606F</h4><p>\u6587\u4EF6\u8BFB\u53D6\u51FA\u6765\u7684\u662F\u5B57\u7B26\u4E32\uFF0C\u6240\u4EE5\u9700\u8981\u5C06\u5176\u8F6C\u6362\u4E3A\u5BF9\u8C61\u3002</p><p>\u4F46\u5176\u4E2D\u6709\u5F02\u6B65\u548C\u540C\u6B65\u95EE\u9898\u3002</p><ul><li>\u8BFB\u6587\u4EF6\u4E00\u822C\u4E3A\u5F02\u6B65\u64CD\u4F5C\uFF0C\u6240\u4EE5\u5F53\u8FD8\u6CA1\u8BFB\u53D6\u5B8C\u6587\u4EF6\u65F6\uFF0C\u670D\u52A1\u5668\u5C31\u53D1\u9001\u5230\u5BA2\u6237\u7AEF\u4E86\u3002</li><li>\u5982\u679C\u8BFB\u6587\u4EF6\u6539\u4E3A\u540C\u6B65\u64CD\u4F5C\u65F6\uFF0C<strong>\u6240\u6709\u670D\u52A1\u5668\u91CC\u7684\u64CD\u4F5C\u90FD\u9700\u8981\u7B49\u5F85\u6587\u4EF6\u8BFB\u53D6\u5B8C\u6210</strong>\uFF0C\u6027\u80FD\u4E0D\u592A\u9AD8\u3002</li><li>\u6240\u4EE5\u6570\u636E\u6A21\u5757\u4F1A\u5F00\u653E\u4E00\u4E2A\u5F62\u53C2\uFF0C\u7528\u4E8E\u63A5\u6536\u4E3B\u6A21\u5757\u7684\u64CD\u4F5C\uFF0C\u7136\u540E\u5C06\u8FD9\u4E2A\u5F62\u53C2\u7528\u5728\u8BFB\u53D6\u5B8C\u6587\u4EF6\u4E4B\u540E\u7684\u56DE\u8C03\u51FD\u6570\u91CC\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// callback \u7528\u4E8E\u4E0E\u4E3B\u6A21\u5757\u901A\u4FE1</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">findAllStudents</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>dbPath<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        
        <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// \u9519\u8BEF\u4E86\uFF0C\u4E5F\u5C06\u9519\u8BEF\u4FE1\u606F\u8FD4\u56DE\u5230\u4E3B\u6A21\u5757\u4E2D</span>
            <span class="token comment">// \u4E5F\u53EF\u4EE5\u5199\u6210\u8FD9\u79CD callback(err, undefined)</span>
            <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// \u6210\u529F\u4E86\uFF0C\u5C06\u6570\u636E\u8FD4\u56DE\u5230\u4E3B\u6A21\u5757\u4E2D</span>
        <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u7684\u4E24\u4E2A\u53C2\u6570\u2014\u2014err \u548C data \u90FD\u662F\u6A21\u4EFF\u539F\u59CB\u8BFB\u6587\u4EF6\u65B9\u6CD5\u6240\u4F20\u8FDB\u6765\u7684\u53C2\u6570\u3002</p><ul><li>\u6210\u529F\uFF1Aerr \u4E3A null\uFF0Cdata \u4E3A\u4E8C\u8FDB\u5236\u6570\u636E\u3002</li><li>\u5931\u8D25\uFF1Aerr \u4E3A \u9519\u8BEF\u5BF9\u8C61\uFF0Cdata \u4E3A undefined\u3002</li></ul><h4 id="_2-\u63D2\u5165\u5B66\u751F\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#_2-\u63D2\u5165\u5B66\u751F\u4FE1\u606F" aria-hidden="true">#</a> \uFF082\uFF09\u63D2\u5165\u5B66\u751F\u4FE1\u606F</h4><p>\u63D2\u5165\u5B66\u751F\u4FE1\u606F\u9700\u8981\u4E09\u6B65\uFF1A</p><ol><li>\u83B7\u53D6\u539F\u59CB\u6570\u636E</li><li><strong>\u63D2\u5165\u539F\u59CB\u6570\u636E</strong></li><li>\u5C06\u6539\u53D8\u8FC7\u540E\u7684\u7ED3\u679C\u5199\u5165\u6E90\u6587\u4EF6\u4E2D</li></ol><p>\u91CD\u70B9\u662F\u7B2C\u4E8C\u4E2A\uFF0C\u9700\u8981\u63D2\u5165\u6570\u636E\uFF0C\u5176\u6B65\u9AA4\u5982\u4E0B\uFF1A</p><ol><li>\u56E0\u4E3A\u8BFB\u6587\u4EF6\u51FA\u6765\u7684\u662F\u5B57\u7B26\u4E32\uFF0C\u6240\u4EE5\u5C06\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u6570\u7EC4\u6216\u8005\u5BF9\u8C61\u3002</li><li>\u5C06\u8BFB\u53D6\u51FA\u6765\u7684\u6570\u636E\uFF0C\u8FDB\u884C\u6DFB\u52A0\u3002</li><li>\u7136\u540E\u518D\u5199\u5165\u6587\u4EF6\u91CC\uFF0C\u5199\u4E4B\u524D\u4E5F\u9700\u8981\u5C06\u6570\u636E\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\u3002</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u589E\u52A0\u5B66\u751F\u4FE1\u606F</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">saveInfo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">student<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>dbPath<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u9519\u8BEF\u4E86\uFF0C\u4E5F\u5C06\u9519\u8BEF\u4FE1\u606F\u8FD4\u56DE\u5230\u4E3B\u6A21\u5757\u4E2D</span>
            <span class="token comment">// \u4E5F\u53EF\u4EE5\u5199\u6210\u8FD9\u79CD callback(err, undefined)</span>
            <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// \u5C06\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u6570\u7EC4\u6216\u8005\u5BF9\u8C61</span>
        <span class="token keyword">var</span> tempData <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>

        <span class="token comment">// \u73B0\u5728id\u4F7F\u7528\u968F\u673A\u6570</span>
        <span class="token comment">// \u5176\u5B9E\u5E94\u8BE5\u53D6\u5DF2\u7ECF\u5230\u8FBE\u8FC7id\u4E4B\u540E</span>
        student<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

        <span class="token comment">// \u6DFB\u52A0\u4FE1\u606F\u5230\u4E34\u65F6\u6570\u636E\u91CC</span>
        tempData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span>

        <span class="token comment">// \u7136\u540E\u518D\u5199\u5165\u6587\u4EF6\u91CC</span>
        fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>dbPath<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>tempData<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">// \u4F9D\u65E7\u5C06\u9519\u8BEF\u8FD4\u56DE\u5230\u4E3B\u6A21\u5757\u4E2D</span>
                <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-\u66F4\u65B0\u5B66\u751F\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#_3-\u66F4\u65B0\u5B66\u751F\u4FE1\u606F" aria-hidden="true">#</a> \uFF083\uFF09\u66F4\u65B0\u5B66\u751F\u4FE1\u606F</h4><p>\u66F4\u65B0\u5B66\u751F\u4FE1\u606F\u9700\u8981\u56DB\u6B65\uFF1A</p><ol><li>\u83B7\u53D6 post \u8BF7\u6C42\u6570\u636E\uFF1B</li><li>\u83B7\u53D6\u6587\u4EF6\u5185\u5B66\u751F\u7684\u6570\u636E\uFF1B</li><li>\u66F4\u65B0\u5B66\u751F\u7684\u6570\u636E\uFF1B</li><li>\u518D\u6B21\u5199\u5165\u6587\u4EF6\u4E2D\u3002</li></ol><hr><ul><li>\u56E0\u4E3A\u9875\u9762\u7684\u8F93\u5165\u6846\u4E3A\u6587\u672C\u8F93\u5165\u6846\uFF0C\u6240\u4EE5 post \u8BF7\u6C42\u6240\u643A\u5E26\u6570\u636E\u7684 id \u7684\u7C7B\u578B\u4E3A\u5B57\u7B26\u4E32\uFF0C\u5219\u9700\u8981\u5148\u7C7B\u578B\u8F6C\u6362\u6210\u6574\u578B\u3002</li><li>\u6211\u4EEC\u60F3\u8BA9 Student \u6A21\u5757\u66F4\u7EAF\u7CB9\uFF0C\u6240\u4EE5\u4E00\u4E9B\u5BF9\u6570\u636E\u7684\u5C0F\u64CD\u4F5C\u5148\u5728\u6A21\u5757\u5916\u6267\u884C\u5B8C\u6BD5\uFF0C\u518D\u4F20\u8FDB\u6A21\u5757\u91CC\u8FDB\u884C\u5904\u7406\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token comment">// \u83B7\u53D6post\u8868\u5355\u63D0\u4EA4</span>
  <span class="token keyword">var</span> updateStu <span class="token operator">=</span> request<span class="token punctuation">.</span>body
  <span class="token comment">// \u5C06id\u7C7B\u578B\u8F6C\u6362</span>
  updateStu<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>updateStu<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5BF9\u4E8E\u6E90\u6570\u636E\u8FDB\u884C\u66F4\u65B0\u6709\u4E24\u79CD\u65B9\u6CD5\uFF1A <ul><li><code>forEach( callbackfn:(value, index, array) =&gt; void )</code>\uFF1A\u904D\u5386\u6574\u4E2A\u6570\u7EC4\uFF0C\u52A0\u5224\u65AD\u6765\u627E\u51FA\u9700\u8981\u7684\u6570\u636E\u3002\uFF08\u4EC5\u9650\u6570\u636E\u4E3A\u6570\u7EC4\u7C7B\u578B\uFF09</li><li><code>find( predicate:(value, index, array) =&gt; boolean )</code>\uFF1A\u6839\u636E\u53C2\u6570\u91CC\u51FD\u6570\u8FD4\u56DE\u7684\u5E03\u5C14\u503C\uFF0C\u6765\u627E\u5230\u6240\u9700\u8981\u7684\u6570\u636E\uFF0C\u8FD9\u91CC\u8FD4\u56DE\u7684\u6570\u636E\u662F\u6D45\u62F7\u8D1D\u3002\u4E5F\u5C31\u662F\u8BF4\u4F60\u4FEE\u6539\u8FD4\u56DE\u7684\u6570\u636E\uFF0C\u6E90\u6570\u636E\u4E5F\u4F1A\u8DDF\u7740\u66F4\u65B0\u3002</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>exports<span class="token punctuation">.</span><span class="token function-variable function">updateStudent</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newData<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>dbPath<span class="token punctuation">,</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u6587\u4EF6\u7684\u6E90\u6570\u636E</span>
        <span class="token keyword">var</span> tempData <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>

        <span class="token comment">// \u65B9\u6CD5\u4E00</span>
        <span class="token comment">// tempData.forEach(function(value, index) {</span>
        <span class="token comment">//   if(value.id === newData.id){</span>
        <span class="token comment">//     tempData[index] = newData</span>
        <span class="token comment">//   }</span>
        <span class="token comment">// })</span>

        <span class="token comment">// \u65B9\u6CD5\u4E8C</span>
        <span class="token keyword">var</span> tempStu <span class="token operator">=</span> tempData<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> item<span class="token punctuation">.</span>id <span class="token operator">===</span> newData<span class="token punctuation">.</span>id
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        
        <span class="token comment">// \u4FEE\u6539find()\u65B9\u6CD5\u8FD4\u56DE\u7684\u6570\u636E</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">var</span> key <span class="token keyword">in</span> newData<span class="token punctuation">)</span><span class="token punctuation">{</span>
            tempStu<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> newData<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u76F4\u63A5\u5C06\u6E90\u6570\u636E\u518D\u6B21\u5199\u5165\u6587\u4EF6\u5373\u53EF\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7136\u540E\u518D\u5199\u5165\u6587\u4EF6\u91CC</span>
fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>dbPath<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>tempData<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u4F9D\u65E7\u5C06\u9519\u8BEF\u8FD4\u56DE\u5230\u4E3B\u6A21\u5757\u4E2D</span>
        <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-\u5220\u9664\u5B66\u751F\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#_3-\u5220\u9664\u5B66\u751F\u4FE1\u606F" aria-hidden="true">#</a> \uFF083\uFF09\u5220\u9664\u5B66\u751F\u4FE1\u606F</h4><p>\u5220\u9664\u5B66\u751F\u4FE1\u606F\u6709\u56DB\u6B65\uFF1A</p><ol><li>\u5148\u83B7\u53D6\u9700\u8981\u5220\u9664\u5B66\u751F\u7684 id\uFF1B</li><li>\u7136\u540E\u8BFB\u53D6\u6587\u4EF6\u7684\u6570\u636E\uFF1B</li><li>\u5728\u8BFB\u51FA\u6765\u7684\u6570\u636E\u91CC\u8FDB\u884C\u5220\u9664\uFF1B</li><li>\u6700\u540E\u5728\u5199\u5165\u6587\u4EF6\u4E2D\u3002</li></ol><hr><ul><li>\u56E0\u4E3A\u662F get \u8BF7\u6C42\uFF0C\u83B7\u53D6\u5B66\u751F id\u76F4\u63A5\u4F7F\u7528 <code>request.query.id</code>\u3002</li><li>\u8BFB\u6587\u4EF6\u548C\u5199\u6587\u4EF6\u4E0E\u4E0A\u9762\u7684\u4E00\u81F4\u3002</li><li>\u91CD\u70B9\u662F\u5220\u9664\u6570\u636E <ul><li><code>findIndex( predicate:(value, index, array) =&gt; boolean )</code>\uFF1A\u4E0E <code>find()</code> \u7528\u6CD5\u4E00\u81F4\uFF0C\u4E0D\u8FC7\u8BE5\u65B9\u6CD5\u6267\u884C\u7684\u7ED3\u679C\u662F\u8FD4\u56DE\u5143\u7D20\u7684\u4E0B\u6807\u3002</li><li><code>splice( start, deleteCount )</code>\uFF1A\u5220\u9664\u6570\u7EC4\u7684\u5143\u7D20\u3002\u5C06\u4E0A\u4E00\u4E2A\u65B9\u6CD5\u8FD4\u56DE\u7684\u4E0B\u6807\uFF0C\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u53C2\u6570\uFF0C\u7136\u540E\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E3A 1\uFF0C\u4EE3\u8868\u53EA\u5220\u9664\u8BE5\u4E0B\u6807\u7684\u5143\u7D20\u3002</li></ul></li><li>\u7591\u60D1\uFF1A\u5220\u9664\u6570\u636E\u540E\u662F\u5426\u5237\u65B0\u9875\u9762\uFF0C\u5982\u679C\u5237\u65B0\u4E86\u9875\u9762\uFF0C\u6EDA\u52A8\u6761\u4F1A\u91CD\u7F6E\uFF0C\u7528\u6237\u4F53\u9A8C\u4E0D\u597D\u3002\u5982\u679C\u4E0D\u5237\u65B0\u7684\u8BDD\uFF0C\u89E3\u51B3\u65B9\u6848\u6211\u89C9\u5F97\u662F\u524D\u7AEF\u548C\u540E\u7AEF\u90FD\u9700\u8981\u6267\u884C\u5220\u9664\u6570\u636E\u7684\u64CD\u4F5C\u3002\u5F85\u89E3\u51B3</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> deleteIndex <span class="token operator">=</span> objData<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> item<span class="token punctuation">.</span>id <span class="token operator">===</span> stuId
<span class="token punctuation">}</span><span class="token punctuation">)</span>

objData<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>deleteIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u4E09\u3001mongodb" tabindex="-1"><a class="header-anchor" href="#\u4E09\u3001mongodb" aria-hidden="true">#</a> \u4E09\u3001MongoDB</h2><h3 id="_3-1-\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#_3-1-\u5B89\u88C5" aria-hidden="true">#</a> 3.1 \u5B89\u88C5</h3><p>\u4E0B\u8F7D\u6253\u5F00\u540E\u4E0B\u4E00\u6B65\u4E0B\u4E00\u6B65\u3002</p><h3 id="_3-2-\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_3-2-\u914D\u7F6E" aria-hidden="true">#</a> 3.2 \u914D\u7F6E</h3><p>\u6211\u4EEC\u9996\u5148\u611F\u89C9\u4E00\u4E0B\u4F7F\u7528\u547D\u4EE4\u884C\u6765\u64CD\u4F5C\u6570\u636E\u5E93\u3002\u4F7F\u7528\u547D\u4EE4\u884C\u64CD\u4F5C\u6570\u636E\u5E93\u9700\u8981\u4E0B\u9762\u51E0\u6B65\uFF1A</p><ol><li>\u914D\u7F6E\u73AF\u5883\u53D8\u91CF</li><li>\u5728\u6570\u636E\u5E93\u5B89\u88C5\u4F4D\u7F6E\u7684 <strong>\u6839\u78C1\u76D8</strong> \u4E0A\uFF0C\u65B0\u5EFA\u4E00\u4E2A\u6587\u4EF6\u5939\u3010data\u3011\uFF0C\u8FDB\u53BB\u3010data\u3011\u6587\u4EF6\u5939\u540E\u518D\u65B0\u5EFA\u4E00\u4E2A\u6587\u4EF6\u5939\u3010db\u3011\u3002</li><li>\u6253\u5F00\u547D\u4EE4\u884C\uFF0C\u8DF3\u8F6C\u5230\u6839\u78C1\u76D8\uFF0C\u7136\u540E\u8F93\u5165 <code>mongod</code> \u5F00\u542F\u670D\u52A1\u5668\uFF0C<strong>\u4E0D\u8981\u5173\u95ED\u5F53\u524D\u547D\u4EE4\u884C</strong>\u3002\u53BB\u3010db\u3011\u6587\u4EF6\u5939\u53EF\u4EE5\u770B\u89C1\u5DF2\u7ECF\u5B58\u653E\u4E1C\u897F\u4E86\u3002</li><li>\u518D\u6253\u5F00\u4E00\u4E2A\u547D\u4EE4\u884C\uFF0C\u8F93\u5165 <code>mongo</code> \uFF0C\u5C06\u5F53\u524D\u7684\u547D\u4EE4\u884C\u8FDE\u63A5\u5230\u6570\u636E\u5E93\u3002\u5982\u679C\u6210\u529F\u4E86\u5C31\u4F1A\u8FDB\u5165\u6570\u636E\u5E93\u7684\u547D\u4EE4\u884C\u6A21\u5F0F\u3002</li></ol><h3 id="_3-3-\u57FA\u672C\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_3-3-\u57FA\u672C\u547D\u4EE4" aria-hidden="true">#</a> 3.3 \u57FA\u672C\u547D\u4EE4</h3><p>\u8292\u679C\u6570\u636E\u5E93\u91CC\u9762\u4F1A\u6D89\u53CA\u5230\u4E00\u4E9B\u7528\u8BED\uFF1A</p><ul><li><code>collection</code> \u2014\u2014 \u96C6\u5408\uFF0C\u5BF9\u5E94 <strong>\u666E\u901A\u6570\u636E\u5E93\u7684\u8868</strong>\u3002</li><li><code>document</code> \u2014\u2014 \u6587\u6863\uFF0C\u5BF9\u5E94 <strong>\u666E\u901A\u6570\u636E\u5E93\u7684\u8868\u4E2D\u6570\u636E</strong></li></ul><table><thead><tr><th>\u547D\u4EE4</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td><code>show dbs</code></td><td>\u67E5\u8BE2\u5F53\u524D\u6240\u6709\u6570\u636E\u5E93</td></tr><tr><td><code>db</code></td><td>\u67E5\u770B\u5F53\u524D\u6240\u5728\u7684\u6570\u636E\u5E93</td></tr><tr><td><code>use \u6570\u636E\u5E93</code></td><td>\u5207\u6362\u5230\u5176\u4ED6\u6570\u636E\u5E93</td></tr><tr><td><code>show collections</code></td><td>\u5C55\u793A\u5F53\u524D\u6570\u636E\u5E93\u7684\u8868</td></tr><tr><td><code>db.\u8868\u540D.insertOne(\u5BF9\u8C61)</code></td><td>\u5728\u6307\u5B9A\u7684\u8868\u63D2\u5165\u6570\u636E</td></tr><tr><td><code>db.\u8868\u540D.find()</code></td><td>\u5C55\u793A\u6307\u5B9A\u8868\u4E2D\u7684\u6240\u6709\u6570\u636E</td></tr></tbody></table>`,103),m=s("\u5177\u4F53\u5176\u4ED6\u7684\u547D\u4EE4\u53EF\u4EE5\u53C2\u8003 "),b={href:"https://docs.mongodb.com/manual/crud/",target:"_blank",rel:"noopener noreferrer"},g=s("\u5B98\u65B9\u6587\u6863"),h=n("h3",{id:"_3-4-\u5B89\u88C5mongoose",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_3-4-\u5B89\u88C5mongoose","aria-hidden":"true"},"#"),s(" 3.4 \u5B89\u88C5mongoose")],-1),f=n("p",null,"mongoose \u662F\u5C06 MongoDB \u8FDB\u4E00\u6B65\u5C01\u88C5\uFF0C\u66F4\u5BB9\u6613\u64CD\u4F5C MongoDB\u3002",-1),y=s("\u5B98\u65B9\u7F51\u7AD9\uFF1A"),_={href:"https://mongoosejs.com/",target:"_blank",rel:"noopener noreferrer"},x=s("https://mongoosejs.com/"),w=e(`<p>\u5728\u547D\u4EE4\u884C\u8F93\u5165 <code>npm install mongoose --save</code></p><h3 id="_3-5-\u5FEB\u901F\u5F00\u59CBmongoose" tabindex="-1"><a class="header-anchor" href="#_3-5-\u5FEB\u901F\u5F00\u59CBmongoose" aria-hidden="true">#</a> 3.5 \u5FEB\u901F\u5F00\u59CBmongoose</h3><p>\u6700\u65B0\u7248\uFF08v6.0.13\uFF09\u7684 mongoose \u6587\u6863\u4F7F\u7528\u4E86 ES6 \u8BED\u6CD5\uFF0C\u8FD9\u91CC\u4FBF\u4E8E\u7406\u89E3\uFF0C\u5148\u4EE5 v4.x \u7684\u6587\u6863\u4E3E\u4F8B\u3002</p><h4 id="_1-v4-x" tabindex="-1"><a class="header-anchor" href="#_1-v4-x" aria-hidden="true">#</a> \uFF081\uFF09v4.x</h4><ul><li><p>\u7B2C 2 \u884C\uFF1A\u5F15\u5165\u6A21\u5757\u5E76\u8FDE\u63A5\u6570\u636E\u5E93\uFF0C<code>test</code> \u53EF\u4EE5\u6362\u6210\u9700\u8981\u8FDE\u63A5\u7684\u6570\u636E\u5E93\u3002<strong>\u5982\u679C\u8FDE\u63A5\u7684\u6570\u636E\u5E93\u4E0D\u5B58\u5728\uFF0C\u5219\u4F1A\u81EA\u52A8\u521B\u5EFA\u4E00\u4E2A</strong>\uFF0C\u6240\u4EE5\u8981\u5C0F\u5FC3\u521B\u5EFA\u4E86\u4E00\u4E2A\u65B0\u7684\u6570\u636E\u5E93\u3002</p></li><li><p>\u7B2C 6 \u884C\uFF1A\u4F7F\u7528 mongoose \u751F\u6210 Schema \u6A21\u5F0F\uFF0C\u8FD9\u91CC\u751F\u6210\u7684 Schema \u4E0D\u662F\u5177\u4F53\u7684\u6A21\u5F0F\uFF0C\u800C\u662F\u4E00\u4E2A\u6784\u9020\u65B9\u6CD5\u3002</p></li><li><p>\u7B2C 9 ~ 20 \u884C\uFF1A\u4F7F\u7528 Schema \u521B\u9020\u4E00\u4E2A\u5177\u4F53\u7684\u535A\u5BA2\u6A21\u5F0F\uFF0C\u6784\u9020\u65B9\u6CD5\u91CC\u9762\u4F20\u5165\u4E00\u4E2A\u5BF9\u8C61\uFF0C<strong>\u5BF9\u8C61\u7684\u5C5E\u6027\u540D\u4E3A\u5217\u540D\uFF0C\u5C5E\u6027\u503C\u4E3A\u7C7B\u578B\u6216\u8005\u9009\u9879\u6570\u7EC4</strong>\u3002</p></li><li><p>\u7B2C 23 \u884C\uFF1A\u5229\u7528\u5177\u4F53\u7684\u6A21\u5F0F\u521B\u5EFA <strong>\u6570\u636E\u5E93\u7684\u6A21\u578B</strong>\u3002</p></li><li><p>\u7136\u540E\u5C31\u53EF\u4EE5\u4F7F\u7528\u6A21\u578B\u6765\u4EFB\u610F\u64CD\u4F5C\u6570\u636E\u5E93\u4E86\u3002</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5F15\u5165\u6A21\u5757\u5E76\u8FDE\u63A5\u6570\u636E\u5E93</span>
<span class="token keyword">var</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mongoose&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&#39;mongodb://localhost/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u751F\u6210\u6A21\u5F0F</span>
<span class="token keyword">var</span> Schema <span class="token operator">=</span> mongoose<span class="token punctuation">.</span>Schema<span class="token punctuation">;</span>

<span class="token comment">// \u751F\u6210\u5177\u4F53\u7684\u4E00\u4E2A\u6A21\u5F0F</span>
<span class="token keyword">var</span> blogSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span>  String<span class="token punctuation">,</span>
  <span class="token literal-property property">author</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span>   String<span class="token punctuation">,</span>
  <span class="token literal-property property">comments</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">body</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token literal-property property">date</span><span class="token operator">:</span> Date <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> Date<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> Date<span class="token punctuation">.</span>now <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">hidden</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
  <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">votes</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
    <span class="token literal-property property">favs</span><span class="token operator">:</span>  Number
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5229\u7528\u5177\u4F53\u7684\u6A21\u5F0F\u521B\u5EFA\u6570\u636E\u5E93\u7684\u6A21\u578B</span>
<span class="token keyword">var</span> Blog <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">&#39;Blog&#39;</span><span class="token punctuation">,</span> blogSchema<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-v6-0-13" tabindex="-1"><a class="header-anchor" href="#_2-v6-0-13" aria-hidden="true">#</a> \uFF082\uFF09v6.0.13</h4><ul><li>\u7B2C 2 \u884C\uFF1A\u5F15\u5165\u6A21\u5757\u5E76\u7528 <code>const</code> \u63A5\u6536\u3002</li><li>\u7B2C 4 ~ 9 \u884C\uFF1A\u4F7F\u7528\u4E86\u5F02\u6B65\u8FDE\u63A5\u6570\u636E\u5E93</li><li>\u7B2C 12 \u884C\uFF1A\u4F7F\u7528\u5BF9\u8C61\u89E3\u6784\u6765\u83B7\u53D6\u6A21\u5F0F\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5F15\u5165\u6A21\u5757</span>
<span class="token keyword">const</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mongoose&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u8FDE\u63A5\u6570\u636E\u5E93</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&#39;mongodb://localhost:27017/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u83B7\u53D6\u6A21\u5F0F</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Schema <span class="token punctuation">}</span> <span class="token operator">=</span> mongoose<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u7B2C 2 ~ 12 \u884C\uFF1A\u4E0E v4.x \u7684\u4E00\u81F4\uFF0C\u4F7F\u7528 Schema \u521B\u9020\u4E00\u4E2A\u5177\u4F53\u7684\u535A\u5BA2\u6A21\u5F0F\u3002</li><li>\u7B2C 16 \u884C\uFF1A\u4E0E v4.x \u7684\u4E00\u81F4\uFF0C\u5229\u7528\u5177\u4F53\u7684\u6A21\u5F0F\u521B\u5EFA <strong>\u6570\u636E\u5E93\u7684\u6A21\u578B</strong>\u3002\u4F7F\u7528 <code>const</code> \u6765\u63A5\u6536\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u751F\u6210\u5177\u4F53\u7684\u4E00\u4E2A\u6A21\u5F0F</span>
<span class="token keyword">const</span> blogSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span>  String<span class="token punctuation">,</span> <span class="token comment">// String is shorthand for {type: String}</span>
    <span class="token literal-property property">author</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token literal-property property">body</span><span class="token operator">:</span>   String<span class="token punctuation">,</span>
    <span class="token literal-property property">comments</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">body</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token literal-property property">date</span><span class="token operator">:</span> Date <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> Date<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> Date<span class="token punctuation">.</span>now <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hidden</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">votes</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token literal-property property">favs</span><span class="token operator">:</span>  Number
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5229\u7528\u5177\u4F53\u7684\u6A21\u5F0F\u521B\u5EFA\u6570\u636E\u5E93\u7684\u6A21\u578B</span>
<span class="token keyword">const</span> Blog <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">&#39;Blog&#39;</span><span class="token punctuation">,</span> blogSchema<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#_3-\u793A\u4F8B" aria-hidden="true">#</a> \uFF083\uFF09\u793A\u4F8B</h4><p>\u65B0\u5EFA\u4E00\u4E2A js \u6587\u4EF6\u8FDB\u884C\u6D4B\u8BD5\u3002\u6211\u4EEC\u5728\u4E00\u4E2A\u6570\u636E\u5E93\u4E2D\u65B0\u5EFA\u5B66\u751F\u8868\u3002</p><ol><li>\u4F9D\u7136\u662F\u8001\u4E09\u6837\uFF0C\u5F15\u5165\u6A21\u5757\u3001\u8FDE\u63A5\u6570\u636E\u5E93\u548C\u83B7\u53D6\u6A21\u5F0F\u3002</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5F15\u5165\u6A21\u5757</span>
<span class="token keyword">const</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mongoose&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u8FDE\u63A5\u6570\u636E\u5E93</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&#39;mongodb://localhost:27017/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u83B7\u53D6\u6A21\u5F0F</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Schema <span class="token punctuation">}</span> <span class="token operator">=</span> mongoose<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,15),j={start:"2"},q=s("\u8BBE\u8BA1\u8868\u7ED3\u6784\uFF0C\u5176\u4E2D\u6211\u5C06\u6027\u522B\u7684\u7C7B\u578B\u8BBE\u6210\u4E86\u6574\u578B\uFF0C\u5E76\u4E14\u503C\u53EA\u80FD 0 \u6216 1\u3002\u5E74\u9F84\u8BBE\u7F6E\u4E86 3 ~ 60 \u5C81\u7684\u8303\u56F4\u3002\u8BE6\u60C5\u53EF\u4EE5\u67E5\u770B "),S={href:"https://mongoosejs.com/docs/schematypes.html#schematype-options",target:"_blank",rel:"noopener noreferrer"},N=s("\u5B98\u65B9\u6587\u6863"),O=s("\uFF0C\u4E0D\u540C\u7C7B\u578B\u53EF\u4EE5\u6709\u4E0D\u540C\u7684\u9650\u5236\u3002"),D=e(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> studentsSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">studentId</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token comment">// String is shorthand for {type: String}</span>
    <span class="token literal-property property">studentName</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token literal-property property">studentGender</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span>Number<span class="token punctuation">,</span> <span class="token keyword">enum</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">studentAge</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span>Number<span class="token punctuation">,</span> <span class="token literal-property property">min</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u7136\u540E\u4F7F\u7528\u5177\u4F53\u7684\u6A21\u5F0F\u521B\u5EFA\u6570\u636E\u5E93\u7684\u6A21\u578B\u3002\u5982\u679C\u60F3\u4F7F\u7528\u6A21\u578B\u6765\u521B\u5EFA\u4E00\u6761\u6570\u636E\uFF0C\u5C06\u6A21\u578B\u4F5C\u4E3A\u4E00\u4E2A\u6784\u9020\u51FD\u6570\uFF0C\u91CC\u9762\u4F20\u5165\u4E00\u4E2A\u6570\u636E\u5BF9\u8C61\uFF0C\u5982\u7B2C 5 ~ 10 \u884C\u6240\u793A\u3002</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5229\u7528\u5177\u4F53\u7684\u6A21\u5F0F\u521B\u5EFA\u6570\u636E\u5E93\u7684\u6A21\u578B</span>
<span class="token keyword">const</span> Students <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">&#39;Students&#39;</span><span class="token punctuation">,</span> studentsSchema<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u4F7F\u7528\u6A21\u578B\u6846\u67B6\u65B0\u5EFA\u4E00\u4E2A\u5B66\u751F\u8BB0\u5F55</span>
<span class="token keyword">const</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Students</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">studentId</span><span class="token operator">:</span> <span class="token string">&quot;201815270&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">studentName</span><span class="token operator">:</span> <span class="token string">&quot;\u5F20\u4E09&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">studentGender</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">studentAge</span><span class="token operator">:</span> <span class="token number">21</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>\u521B\u5EFA\u4E86\u4E00\u6761\u6570\u636E\uFF0C\u7136\u540E\u6211\u4EEC\u9700\u8981\u5C06\u5176\u4FDD\u5B58\u5230\u6570\u636E\u5E93\u91CC\uFF0C\u6211\u4EEC\u9700\u8981\u4F7F\u7528\u6570\u636E\u7684 <code>save()</code> \u65B9\u6CD5\u3002</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>student<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token comment">// \u4FDD\u5B58\u5230\u6570\u636E\u5E93\u540E\u7684\u53CD\u9988\u4FE1\u606F</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>\u5B58\u50A8\u7ED3\u679C\u5982\u4E0B\uFF1A</li></ol><p><img src="https://raw.githubusercontent.com/hahg2000/picture/Senior-JS/mongoDB\u793A\u4F8B\u5B58\u50A8\u7ED3\u679C.png" alt=""></p><h3 id="_3-6-\u67E5\u8BE2\u8BED\u53E5" tabindex="-1"><a class="header-anchor" href="#_3-6-\u67E5\u8BE2\u8BED\u53E5" aria-hidden="true">#</a> 3.6 \u67E5\u8BE2\u8BED\u53E5</h3><p>\u67E5\u8BE2\u8BED\u53E5\u4E0E\u4E00\u822C\u7684\u6570\u636E\u5E93\u5DEE\u4E0D\u591A\u4E00\u81F4\u3002</p><h4 id="_1-\u67E5\u8BE2\u6240\u6709" tabindex="-1"><a class="header-anchor" href="#_1-\u67E5\u8BE2\u6240\u6709" aria-hidden="true">#</a> \uFF081\uFF09\u67E5\u8BE2\u6240\u6709</h4><p>\u4F7F\u7528 <code>find( function(err, result){} )</code> \u65B9\u6CD5\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">throw</span> err
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7ED3\u679C\u5982\u4E0B\uFF1A</p><img src="https://raw.githubusercontent.com/hahg2000/picture/Senior-JS/mongoDB\u67E5\u8BE2\u6240\u6709.png" style="zoom:60%;"><h4 id="_2-\u6839\u636E\u6307\u5B9A\u6570\u503C\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_2-\u6839\u636E\u6307\u5B9A\u6570\u503C\u67E5\u8BE2" aria-hidden="true">#</a> \uFF082\uFF09\u6839\u636E\u6307\u5B9A\u6570\u503C\u67E5\u8BE2</h4><p>\u5982\u679C\u60F3\u67E5\u627E <strong>\u67D0\u4E00\u5217\u7B26\u5408\u6307\u5B9A\u6570\u503C\u7684\u6240\u6709\u884C</strong>\uFF0C\u4F7F\u7528 <code>find( { \u5217\u540D: \u6307\u5B9A\u6570\u503C }, function(){} )</code></p><p>\u4F8B\u5982\uFF0C\u53EF\u4EE5\u67E5\u627E\u6240\u6709\u6027\u522B\u4E3A 1 \u7684\u884C\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">studentGender</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">throw</span> err
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u53EA\u60F3\u67E5\u627E\u4E00\u884C\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>findOne( { \u5217\u540D: \u6307\u5B9A\u6570\u503C }, function(){} )</code> \u65B9\u6CD5\u3002</p><h4 id="_3-\u6839\u636E\u6761\u4EF6\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_3-\u6839\u636E\u6761\u4EF6\u67E5\u8BE2" aria-hidden="true">#</a> \uFF083\uFF09\u6839\u636E\u6761\u4EF6\u67E5\u8BE2</h4><p>\u5982\u679C\u60F3\u67E5\u8BE2 <strong>\u7279\u5B9A\u6761\u4EF6\u7684\u884C</strong>\uFF0C\u4F8B\u5982\u5E74\u9F84\u5C0F\u4E8E 18 \u5C81\u7B49\u3002\u9700\u8981\u5728 <strong>\u5C5E\u6027\u503C</strong> \u91CC\u4F7F\u7528\u7279\u5B9A\u7684\u5BF9\u8C61\u5F62\u5F0F\uFF0C\u4F8B\u5982<code>Students.find( {studentAge: { $lt: 18 }}, function(err, result){} )</code>\u3002</p>`,21),E=s("\u4E0B\u9762\u5C06\u5217\u4E3E\u90E8\u5206\u8FD0\u7B97\u7B26\uFF1A\u5177\u4F53\u7684\u53EF\u4EE5\u53C2\u770B "),T={href:"https://docs.mongodb.com/manual/reference/operator/query/",target:"_blank",rel:"noopener noreferrer"},I=s("MongoDB\u5B98\u65B9\u6587\u6863"),M=e(`<ol><li>\u6BD4\u8F83\u8FD0\u7B97\u7B26</li></ol><table><thead><tr><th style="text-align:left;">\u4EE3\u7801</th><th style="text-align:left;">\u63CF\u8FF0</th></tr></thead><tbody><tr><td style="text-align:left;"><code>$eq</code></td><td style="text-align:left;">\u67E5\u8BE2\u7B26\u5408\u67D0\u4E2A\u503C</td></tr><tr><td style="text-align:left;"><code>$ne</code></td><td style="text-align:left;">\u67E5\u8BE2\u4E0D\u7B26\u5408\u67D0\u4E2A\u503C</td></tr><tr><td style="text-align:left;"><code>$gt</code></td><td style="text-align:left;">\u67E5\u8BE2\u5927\u4E8E\u67D0\u4E2A\u503C</td></tr><tr><td style="text-align:left;"><code>$gte</code></td><td style="text-align:left;">\u67E5\u8BE2\u5927\u4E8E\u6216\u8005\u7B49\u4E8E\u67D0\u4E2A\u503C</td></tr><tr><td style="text-align:left;"><code>$in</code></td><td style="text-align:left;">\u67E5\u8BE2\u662F\u5426\u5728\u6307\u5B9A\u6570\u7EC4\u91CC</td></tr><tr><td style="text-align:left;"><code>$nin</code></td><td style="text-align:left;">\u67E5\u8BE2\u662F\u5426\u4E0D\u5728\u6307\u5B9A\u6570\u7EC4\u91CC</td></tr><tr><td style="text-align:left;"><code>$lt</code></td><td style="text-align:left;">\u67E5\u8BE2\u5C0F\u4E8E\u67D0\u4E2A\u503C</td></tr><tr><td style="text-align:left;"><code>$lte</code></td><td style="text-align:left;">\u67E5\u8BE2\u5C0F\u4E8E\u6216\u8005\u7B49\u4E8E\u67D0\u4E2A\u503C</td></tr></tbody></table><ol start="2"><li>\u903B\u8F91\u8FD0\u7B97\u7B26</li></ol><table><thead><tr><th style="text-align:left;">\u4EE3\u7801</th><th style="text-align:left;">\u63CF\u8FF0</th><th>\u5907\u6CE8</th></tr></thead><tbody><tr><td style="text-align:left;"><code>$and</code></td><td style="text-align:left;">\u67E5\u8BE2\u540C\u65F6\u7B26\u5408 <strong>\u591A\u4E2A\u6761\u4EF6</strong></td><td>\u5176\u5C5E\u6027\u503C\u4E3A\u6570\u7EC4\u7C7B\u578B</td></tr><tr><td style="text-align:left;"><code>$not</code></td><td style="text-align:left;">\u67E5\u8BE2\u540C\u65F6\u4E0D\u7B26\u5408 <strong>\u67D0\u4E2A</strong> \u6761\u4EF6\u8868\u8FBE\u5F0F</td><td></td></tr><tr><td style="text-align:left;"><code>$nor</code></td><td style="text-align:left;">\u67E5\u8BE2 <strong>\u591A\u4E2A\u6761\u4EF6</strong> \u540C\u65F6\u4E0D\u7B26\u5408</td><td>\u5176\u5C5E\u6027\u503C\u4E3A\u6570\u7EC4\u7C7B\u578B</td></tr><tr><td style="text-align:left;"><code>$or</code></td><td style="text-align:left;">\u67E5\u8BE2\u5728 <strong>\u591A\u4E2A\u6761\u4EF6</strong> \u4E2D\u7B26\u5408\u5176\u4E2D\u4E00\u4E2A\u6761\u4EF6</td><td>\u5176\u5C5E\u6027\u503C\u4E3A\u6570\u7EC4\u7C7B\u578B</td></tr></tbody></table><p>\u4F8B\u5982\uFF0C\u6211\u9700\u8981\u67E5\u627E\u5E74\u9F84\u5927\u4E8E 18 \u4F46\u5C0F\u4E8E 22 \u7684\u884C\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// \u4F7F\u7528\u65B9\u6CD5</span>
        <span class="token literal-property property">$and</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">studentAge</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">$gt</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">studentAge</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">$lt</span><span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> err
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-\u67E5\u8BE2\u540E\u6267\u884C\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#_4-\u67E5\u8BE2\u540E\u6267\u884C\u64CD\u4F5C" aria-hidden="true">#</a> \uFF084\uFF09\u67E5\u8BE2\u540E\u6267\u884C\u64CD\u4F5C</h4><p>\u5176\u4E3A\u4E86\u65B9\u4FBF\uFF0C\u4E5F\u63D0\u4F9B\u4E86\u5728\u67E5\u8BE2\u540E\u7684\u64CD\u4F5C\uFF0C\u4F8B\u5982\u67E5\u8BE2\u540E\u5220\u9664\u3001\u67E5\u8BE2\u540E\u66F4\u65B0\u7B49\u3002</p><ul><li><p>Model.findOneAndDelete()\uFF1A\u67E5\u8BE2\u540E\u5220\u9664</p><ul><li>conditions \xABObject\xBB\uFF1A\u6761\u4EF6</li><li>[options] \xABObject\xBB\uFF1A\u9009\u9879</li><li>[callback] \xABFunction\xBB\uFF1A\u56DE\u8C03\u51FD\u6570</li></ul></li><li><p>Model.findOneAndRemove()</p><ul><li>\u53C2\u6570\u4E0E\u7528\u6CD5\u4E0E\u4E0A\u9762\u7684\u4E00\u81F4</li><li>\u8BE5\u547D\u4EE4\u57FA\u4E8E MongoDB \u547D\u4EE4\u884C\u4E13\u5C5E\u547D\u4EE4 <code>findAndModify()</code> \u3002</li></ul></li><li><p>Model.findOneAndReplace()\uFF1A\u67E5\u8BE2\u540E <strong>\u66FF\u6362</strong></p><ul><li>filter \xABObject\xBB \uFF1A\u67E5\u8BE2\u6761\u4EF6</li><li>[replacement] \xABObject\xBB \uFF1A\u66FF\u6362\u6210\u7684\u6570\u636E</li><li>[options] \xABObject\xBB \uFF1A\u9009\u9879</li><li>[callback] \xABFunction\xBB\uFF1A\u56DE\u8C03\u51FD\u6570</li></ul></li><li><p>Model.findOneAndUpdate()\uFF1A\u67E5\u8BE2\u540E <strong>\u66F4\u65B0</strong></p><ul><li>[conditions] \xABObject\xBB\uFF1A\u67E5\u8BE2\u6761\u4EF6</li><li>[update] \xABObject\xBB\uFF1A\u66F4\u65B0\u7684\u6570\u636E\u3002mongoose \u4F1A <strong>\u81EA\u52A8\u5C01\u88C5</strong> \u6210 <code>$set: { \u5C5E\u6027\u540D: \u5C5E\u6027\u503C }</code></li><li>[options] \xABObject\xBB \uFF1A\u9009\u9879</li><li>[callback] \xABFunction\xBB\uFF1A\u56DE\u8C03\u51FD\u6570</li><li>\u6CE8\u610F\uFF1A\u5EFA\u8BAE\u76F4\u63A5\u4F7F\u7528 <code>$set</code> \uFF0C\u5373\u4F7F\u9632\u6B62\u9009\u9879\u4E2D\u6709 <code>{ overwrite: true }</code> \uFF0C\u800C\u5BFC\u81F4\u539F\u6570\u636E\u88AB\u8986\u76D6\u3002</li><li>\u4F8B\u5982\uFF0C\u5C06\u67D0\u4E2A\u884C\u7684\u59D3\u540D\u6539\u4E3A\u3010jason\u3011\uFF1A <code>Model.findOneAndUpdate(query, { $set: { name: &#39;jason&#39; }}, options, callback)</code></li></ul></li></ul><h3 id="_3-7-\u6539\u9020\u5B66\u751F\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#_3-7-\u6539\u9020\u5B66\u751F\u4FE1\u606F" aria-hidden="true">#</a> 3.7 \u6539\u9020\u5B66\u751F\u4FE1\u606F</h3><p>\u6211\u4EEC\u73B0\u5728\u4F7F\u7528 MongoDB \u6765\u6539\u9020\u4E4B\u524D\u7684\u5B66\u751F\u4FE1\u606F\u7684\u6848\u4F8B\u3002</p><h4 id="_1-\u8BBE\u8BA1student\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#_1-\u8BBE\u8BA1student\u6A21\u5757" aria-hidden="true">#</a> \uFF081\uFF09\u8BBE\u8BA1Student\u6A21\u5757</h4><p>Student \u6A21\u5757\u4E2D\u4E0D\u7528\u518D\u81EA\u5DF1\u5BFC\u51FA\u65B9\u6CD5\uFF0C\u76F4\u63A5\u5BFC\u51FA\u6A21\u578B\u5373\u53EF\uFF0C\u56E0\u4E3A\u6A21\u578B\u91CC\u5C31\u6709\u6211\u4EEC\u9700\u8981\u7528\u7684\u65B9\u6CD5\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mongoose&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// \u8FDE\u63A5\u6570\u636E\u5E93</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&#39;mongodb://localhost:27017/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u83B7\u53D6\u6A21\u5F0F</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Schema <span class="token punctuation">}</span> <span class="token operator">=</span> mongoose<span class="token punctuation">;</span>

<span class="token comment">// \u4F7F\u7528\u6A21\u5F0F\u521B\u5EFA\u5177\u4F53\u7684\u6570\u636E\u5E93\u6A21\u578B</span>
<span class="token keyword">const</span> studentsSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token comment">// String is shorthand for {type: String}</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span>Number<span class="token punctuation">,</span> <span class="token keyword">enum</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span>Number <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hobby</span><span class="token operator">:</span> String
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5BFC\u51FA\u6570\u636E\u5E93\u6A21\u578B</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">&quot;Student_info&quot;</span><span class="token punctuation">,</span> studentsSchema<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-\u4FEE\u6539\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_2-\u4FEE\u6539\u67E5\u8BE2" aria-hidden="true">#</a> \uFF082\uFF09\u4FEE\u6539\u67E5\u8BE2</h4><p>\u4FEE\u6539 <code>router.js</code> \u7684\u67E5\u8BE2\u529F\u80FD\uFF1A\u76F4\u63A5\u6539\u65B9\u6CD5\u540D\u5373\u53EF\u3002\u8FD9\u5C31\u662F\u5C01\u88C5\u7684\u597D\u5904\uFF0C\u91CC\u5C42\u7684\u903B\u8F91\u4EE3\u7801\u6539\u53D8\uFF0C\u5916\u5C42\u7684\u5F15\u7528\u5219\u4E0D\u9700\u8981\u6539\u53D8\u5F88\u591A\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/students&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4FEE\u6539\u7684\u90E8\u5206 findAllStudents =&gt; find</span>
    Students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Server error...&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;\u5C55\u793A\u5B66\u751F\u4FE1\u606F.html&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">students_info</span><span class="token operator">:</span> data<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-\u4FEE\u6539\u6DFB\u52A0" tabindex="-1"><a class="header-anchor" href="#_3-\u4FEE\u6539\u6DFB\u52A0" aria-hidden="true">#</a> \uFF083\uFF09\u4FEE\u6539\u6DFB\u52A0</h4><p>\u6DFB\u52A0\u90E8\u5206\u4FEE\u6539\u8F83\u591A\uFF1A</p><ul><li>\u9996\u5148\u4F7F\u7528 <code>request.body</code> \u6765\u83B7\u53D6\u8868\u5355\u6570\u636E\uFF1B</li><li>\u7136\u540E\u518D\u4F7F\u7528 <code>new Student( \u5177\u4F53\u6570\u636E )</code> \u6765\u521B\u5EFA\u4E00\u6761\u6570\u636E\u8BB0\u5F55\u3002</li><li>\u6700\u540E\u4F7F\u7528 <code>\u6570\u636E\u8BB0\u5F55.save( function(){} )</code> \u6765\u4FDD\u5B58\u6570\u636E\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;/students/new&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
	<span class="token comment">// \u6539\u53D8\u7684\u90E8\u5206</span>
    <span class="token keyword">new</span> <span class="token class-name">Students</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Server error...&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    response<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">&#39;/students&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-\u4FEE\u6539\u66F4\u65B0" tabindex="-1"><a class="header-anchor" href="#_4-\u4FEE\u6539\u66F4\u65B0" aria-hidden="true">#</a> \uFF084\uFF09\u4FEE\u6539\u66F4\u65B0</h4><p>\u66F4\u65B0\u90E8\u5206\u4E0D\u9700\u8981\u592A\u5927\u6539\u52A8\uFF1A</p><ul><li>\u5C06 <code>request.body</code> \u7684 id \u4F5C\u4E3A\u67E5\u627E\u6761\u4EF6\uFF1B</li><li>\u5C06 <code>request.body</code> \u672C\u8EAB\u4F5C\u4E3A\u66F4\u65B0\u5BF9\u8C61\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;/students/edit&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u83B7\u53D6post\u8868\u5355\u63D0\u4EA4</span>
    <span class="token keyword">var</span> updateStu <span class="token operator">=</span> request<span class="token punctuation">.</span>body
    
	<span class="token comment">// \u6539\u53D8\u7684\u90E8\u5206</span>
    Students<span class="token punctuation">.</span><span class="token function">findOneAndUpdate</span><span class="token punctuation">(</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>updateStu<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">$set</span><span class="token operator">:</span> updateStu <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Server error...&#39;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
    response<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">&#39;/students&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-\u4FEE\u6539\u5220\u9664" tabindex="-1"><a class="header-anchor" href="#_5-\u4FEE\u6539\u5220\u9664" aria-hidden="true">#</a> \uFF085\uFF09\u4FEE\u6539\u5220\u9664</h4><ul><li>\u5C06 post \u8BF7\u6C42\u4F20\u8FDB\u6765\u7684 id \u503C\u4F5C\u4E3A\u67E5\u8BE2\u6761\u4EF6</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/students/delete&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> deleteId <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">)</span>

    <span class="token comment">// \u4FEE\u6539\u7684\u90E8\u5206</span>
    Students<span class="token punctuation">.</span><span class="token function">deleteStudentById</span><span class="token punctuation">(</span>deleteId<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Server error...&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        response<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">&#39;/students&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u56DB\u3001node\u8FDE\u63A5mysql" tabindex="-1"><a class="header-anchor" href="#\u56DB\u3001node\u8FDE\u63A5mysql" aria-hidden="true">#</a> \u56DB\u3001Node\u8FDE\u63A5Mysql</h2><h3 id="_4-1-\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#_4-1-\u5B89\u88C5" aria-hidden="true">#</a> 4.1 \u5B89\u88C5</h3><p>\u5982\u679C\u60F3\u4F7F\u7528 Node \u8FDE\u63A5 Mysql\uFF0C\u9700\u8981\u8FDE\u63A5\u9A71\u52A8\u3002</p><p><code>npm install mysql --save</code></p><h3 id="_4-2-\u8FDE\u63A5\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#_4-2-\u8FDE\u63A5\u6570\u636E\u5E93" aria-hidden="true">#</a> 4.2 \u8FDE\u63A5\u6570\u636E\u5E93</h3><p>\u8FDE\u63A5\u6570\u636E\u5E93\u6709\u663E\u5F0F\u548C\u9690\u5F0F\u4E24\u79CD\u3002</p><p>\u663E\u5F0F\u5C31\u9700\u8981\u76F4\u63A5\u5199\u51FA\u6765\uFF0C\u5982\u7B2C 12 \u884C ~ \u7B2C 19 \u884C\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5BFC\u5165\u6A21\u5757</span>
<span class="token keyword">var</span> mysql      <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mysql&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5EFA\u7ACB\u8FDE\u63A5</span>
<span class="token keyword">var</span> connection <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createConnection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">host</span>     <span class="token operator">:</span> <span class="token string">&#39;example.org&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">user</span>     <span class="token operator">:</span> <span class="token string">&#39;bob&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">password</span> <span class="token operator">:</span> <span class="token string">&#39;secret&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5F00\u59CB\u8FDE\u63A5</span>
connection<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;error connecting: &#39;</span> <span class="token operator">+</span> err<span class="token punctuation">.</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;connected as id &#39;</span> <span class="token operator">+</span> connection<span class="token punctuation">.</span>threadId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9690\u5F0F\u8FDE\u63A5 <strong>\u76F4\u63A5\u6267\u884C\u67E5\u8BE2\u8BED\u53E5</strong>\uFF0C\u5C31\u53EF\u4EE5\u81EA\u52A8\u8FDE\u63A5\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&#39;SELECT 1&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
    <span class="token comment">// connected!</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,38),F=s("\u8FDE\u63A5\u53EF\u4EE5\u6709\u4E00\u4E9B\u9009\u9879\uFF0C\u9664\u4E86\u4E0A\u9762\u6240\u63D0\u5230\u7684 "),$=n("code",null,"user",-1),B=s(" \u767B\u5F55\u7528\u6237\uFF0C"),A=n("code",null,"password",-1),J=s(" \u767B\u5F55\u5BC6\u7801\u8FD8\u6709 "),P=n("code",null,"timezone",-1),C=s(" \u65F6\u533A\u3001"),L=n("code",null,"connectTimeout",-1),R=s(" \u8FDE\u63A5\u8D85\u65F6\u65F6\u95F4\u7B49\u3002\u3002\u3002\u8BE6\u60C5\u53EF\u4EE5\u67E5\u770B "),G={href:"https://github.com/mysqljs/mysql#connection-options",target:"_blank",rel:"noopener noreferrer"},U=s("Github\u6587\u6863"),H=e(`<h3 id="_4-3-\u4F7F\u7528\u8FDE\u63A5\u6C60" tabindex="-1"><a class="header-anchor" href="#_4-3-\u4F7F\u7528\u8FDE\u63A5\u6C60" aria-hidden="true">#</a> 4.3 \u4F7F\u7528\u8FDE\u63A5\u6C60</h3><p>\u6211\u4EEC\u901A\u5E38\u5199\u9879\u76EE\u65F6\uFF0C\u901A\u5E38\u4F1A\u4F7F\u7528\u8FDE\u63A5\u6C60\uFF0C\u907F\u514D\u7ECF\u5E38\u5EFA\u7ACB\u8FDE\u63A5\u548C\u65AD\u5F00\u8FDE\u63A5\u3002\u4F7F\u7528\u8FDE\u63A5\u6C60\u4E5F\u6709\u663E\u5F0F\u4F7F\u7528\u548C\u9690\u5F0F\u4F7F\u7528\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5BFC\u5165\u6A21\u5757</span>
<span class="token keyword">var</span> mysql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mysql&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5EFA\u7ACB\u8FDE\u63A5\u6C60</span>
<span class="token keyword">var</span> pool  <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createPool</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">connectionLimit</span> <span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token literal-property property">host</span>            <span class="token operator">:</span> <span class="token string">&#39;example.org&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">user</span>            <span class="token operator">:</span> <span class="token string">&#39;bob&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">password</span>        <span class="token operator">:</span> <span class="token string">&#39;secret&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">database</span>        <span class="token operator">:</span> <span class="token string">&#39;my_db&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u663E\u5F0F\u5C31\u76F4\u63A5\u8C03\u7528 <code>pool.getConnection()</code> \u65B9\u6CD5\uFF0C\u7136\u540E\u5728\u5176\u56DE\u8C03\u51FD\u6570\u91CC\u4F7F\u7528\u83B7\u53D6\u5230\u7684\u8FDE\u63A5\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>pool<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> connection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span> <span class="token comment">// \u8FDE\u63A5\u5931\u8D25</span>

    <span class="token comment">// \u5F00\u59CB\u4F7F\u7528\u8FDE\u63A5</span>
    connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&#39;SELECT something FROM sometable&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
        <span class="token comment">// \u5F53\u4E0D\u505A\u4E8B\u65F6\uFF0C\u91CA\u653E\u8FDE\u63A5</span>
        connection<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// \u7531\u4E8E\u91CA\u653E\u8FDE\u63A5\u4E5F\u53EF\u80FD\u53D1\u751F\u9519\u8BEF\uFF0C\u6240\u4EE5\u8FDB\u884C\u5904\u7406</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>

        <span class="token comment">// \u8FD9\u91CC\u5DF2\u7ECF\u91CA\u653E\u4E86\u8FDE\u63A5\uFF0C\u4E0D\u80FD\u518D\u4F7F\u7528\u8FDE\u63A5</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9690\u5F0F\u76F4\u63A5\u8C03\u7528 <code>pool.query()</code> \u65B9\u6CD5\uFF0C\u91CC\u9762\u4F20\u5165 Sql \u8BED\u53E5\uFF0C\u5C31\u81EA\u52A8\u4F7F\u7528\u8FDE\u63A5\u6765\u6267\u884C Sql \u8BED\u53E5\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>pool<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&#39;SELECT 1 + 1 AS solution&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;The solution is: &#39;</span><span class="token punctuation">,</span> results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>solution<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u{1F534} <strong>\u3010\u5982\u679C\u9700\u8981\u5BFC\u51FA\u5230\u5176\u4ED6\u6A21\u5757\u4F7F\u7528\uFF0C\u5219\u9700\u8981\u4F7F\u7528\u5230 ES6 \u4EE5\u4E0A\u7684\u540C\u6B65\u5F02\u6B65\u8BED\u6CD5\uFF0C\u5F85\u8865\u5145\u5185\u5BB9\uFF0C\u6216\u8005\u5C31\u76F4\u63A5\u4F7F\u7528\u56DE\u8C03\u51FD\u6570\u3011</strong></p>`,8),V={href:"https://www.cnblogs.com/wuyoucao/p/7478871.html",target:"_blank",rel:"noopener noreferrer"},z=s("\u53C2\u8003\u8D44\u6599"),Q=e(`<h3 id="_4-4-\u8FDE\u63A5\u6C60\u4E8B\u4EF6" tabindex="-1"><a class="header-anchor" href="#_4-4-\u8FDE\u63A5\u6C60\u4E8B\u4EF6" aria-hidden="true">#</a> 4.4 \u8FDE\u63A5\u6C60\u4E8B\u4EF6</h3><p>\u8FDE\u63A5\u6C60\u6DFB\u52A0\u4E86\u4E00\u4E9B\u4E8B\u4EF6\u76D1\u542C\uFF0C\u53EF\u4EE5\u5728\u8FDE\u63A5\u6C60 <strong>\u89E6\u53D1\u4E86\u67D0\u4E2A\u72B6\u6001\u540E</strong> \u6267\u884C\u64CD\u4F5C\u3002</p><ul><li>\u5F53\u5728\u8FDE\u63A5\u6C60\u62FF\u5230\u8FDE\u63A5\u65F6\uFF1B</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>pool<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;acquire&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">connection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Connection %d acquired&#39;</span><span class="token punctuation">,</span> connection<span class="token punctuation">.</span>threadId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5F53\u91CA\u653E\u8FDE\u63A5\u65F6\uFF1A</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>pool<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;release&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">connection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Connection %d released&#39;</span><span class="token punctuation">,</span> connection<span class="token punctuation">.</span>threadId<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5F53\u8FDE\u63A5\u5230\u8FDE\u63A5\u6C60\u65F6\uFF1A</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>pool<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;connection&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">connection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&#39;SET SESSION auto_increment_increment=1&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-5-\u91CA\u653E\u8FDE\u63A5" tabindex="-1"><a class="header-anchor" href="#_4-5-\u91CA\u653E\u8FDE\u63A5" aria-hidden="true">#</a> 4.5 \u91CA\u653E\u8FDE\u63A5</h3><ul><li><p>\u5982\u679C\u60F3\u5C06\u8FDE\u63A5\u5F52\u8FD8\u56DE\u8FDE\u63A5\u6C60\uFF0C\u4F7F\u7528\u8FD9\u6761\u8BED\u53E5\uFF0C<code>connection.release();</code></p></li><li><p>\u5982\u679C\u60F3\u7ED3\u675F\u6240\u6709\u7684\u8FDE\u63A5\uFF0C\u5E76\u6267\u884C\u5B8C\u5FAA\u73AF\u961F\u5217\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4E0B\u9762\u8FD9\u6761\u8BED\u53E5\u3002</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>pool<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// all connections in the pool have ended</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5982\u679C\u60F3\u7ACB\u5373\u7ED3\u675F\u8FDE\u63A5\uFF0C\u4E0D\u6267\u884C\u5FAA\u73AF\u961F\u5217\u91CC\u7684\u5185\u5BB9\uFF0C\u4F7F\u7528\u8FD9\u6761\u8BED\u53E5\u3002<code>connection.destroy();</code></li></ul><h3 id="_4-5-\u67E5\u8BE2\u8BED\u53E5" tabindex="-1"><a class="header-anchor" href="#_4-5-\u67E5\u8BE2\u8BED\u53E5" aria-hidden="true">#</a> 4.5 \u67E5\u8BE2\u8BED\u53E5</h3><p>\u6267\u884C\u67E5\u8BE2\u8BED\u53E5\u4E3B\u8981\u7279\u70B9\u662F\u53EF\u4EE5\u50CF MyBatis \u4F7F\u7528\u5360\u4F4D\u7B26\u3002</p><ul><li>\u4F7F\u7528\u5360\u4F4D\u7B26\u53EF\u4EE5\u4F20\u9012\u5355\u4E2A\u53C2\u6570\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&#39;SELECT * FROM \`books\` WHERE \`author\` = ?&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;David&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// error \uFF1A\u5982\u679C\u67E5\u8BE2\u8FC7\u7A0B\u51FA\u73B0\u9519\u8BEF</span>
    <span class="token comment">// results \uFF1A\u67E5\u8BE2\u7ED3\u679C</span>
    <span class="token comment">// fields \uFF1A\u67E5\u8BE2\u7ED3\u679C\u7684\u6240\u6709\u53C2\u6570</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4F7F\u7528\u8F6C\u4E49\u5B57\u7B26\u4F20\u9012\u591A\u4E2A\u53C2\u6570\u3002\u8BE5\u6A21\u5757\u81EA\u5E26\u4E86\u8F6C\u4E49\u529F\u80FD\uFF0C\u4F60\u5728\u65B9\u6CD5\u4E2D\u4F20\u7684\u6570\u636E\u4F1A\u81EA\u52A8\u4E0E\u7B2C\u4E00\u4E2A\u53C2\u6570\u81EA\u52A8\u62FC\u63A5\u6210 Sql \u8BED\u53E5\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> post  <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Hello MySQL&#39;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// \u7B2C\u4E8C\u4E2A\u53C2\u6570\u4F20\u5165\u5BF9\u8C61</span>
<span class="token keyword">var</span> query <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&#39;INSERT INTO posts SET ?&#39;</span><span class="token punctuation">,</span> post<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// \u81EA\u52A8\u5C06\u5BF9\u8C61\u8F6C\u6362\u4E3ASql\u8BED\u53E5</span>
<span class="token comment">// INSERT INTO posts SET \`id\` = 1, \`title\` = &#39;Hello MySQL&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,18),W=s("\u{1F535} \u5177\u4F53\u7684\u5176\u4ED6\u67E5\u8BE2\u6280\u5DE7\uFF0C\u53EF\u4EE5\u67E5\u770B "),K={href:"https://github.com/mysqljs/mysql#escaping-query-values",target:"_blank",rel:"noopener noreferrer"},X=s("\u5B98\u65B9\u6587\u6863"),Y=e(`<h2 id="\u4E94\u3001\u8DEF\u5F84\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#\u4E94\u3001\u8DEF\u5F84\u95EE\u9898" aria-hidden="true">#</a> \u4E94\u3001\u8DEF\u5F84\u95EE\u9898</h2><h3 id="_5-1-\u9047\u5230\u7684\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_5-1-\u9047\u5230\u7684\u95EE\u9898" aria-hidden="true">#</a> 5.1 \u9047\u5230\u7684\u95EE\u9898</h3><p>\u5728\u4EE5 Node \u547D\u4EE4\u884C\u8FD0\u884C app.js \u65F6\uFF0C\u4F1A\u9047\u5230\u6BD4\u8F83\u8BE1\u5F02\u7684\u4E8B\u60C5\u3002</p><p>Javascript \u6587\u4EF6\u4E2D\u82E5\u4F7F\u7528\u76F8\u5BF9\u8DEF\u5F84\u6765\u786E\u5B9A\u6587\u4EF6\u65F6\uFF0C<strong>\u76F8\u5BF9\u7684\u4E0D\u662F\u5F53\u524D\u6587\u4EF6</strong>\uFF0C\u800C\u662F <strong>\u5F53\u524D\u547D\u4EE4\u884C\u7684\u4F4D\u7F6E</strong>\u3002</p><p>\u4F46\u4F7F\u7528\u76F8\u5BF9\u8DEF\u5F84\u5F15\u5165\u6A21\u5757\uFF0C\u76F8\u5BF9\u7684\u662F\u5F53\u524D\u6587\u4EF6\u3002</p><p>\uFF08\u636E\u8BF4\u662F\u4F7F\u7528 Node \u5F00\u53D1\u547D\u4EE4\u884C\u9700\u8981\u4F7F\u7528\u8BE5\u7279\u6027\uFF09</p><p>\u4F8B\u5982 a.js \u6709\u5982\u4E0B\u4EE3\u7801\uFF1A\u4F7F\u7528\u76F8\u5BF9\u8DEF\u5F84\u5BFC\u5165\u4E86\u4E00\u4E2A b \u6A21\u5757\uFF0C\u7136\u540E\u5728\u8BFB\u53D6\u81EA\u5DF1\u6587\u4EF6\u5185\u5BB9\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// \u5C06\u4F1A\u8F93\u51FA &quot;This is b&quot;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./b&#39;</span><span class="token punctuation">)</span>

fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./a.js&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7136\u540E\u5728\u547D\u4EE4\u884C\u4E0D\u52A0\u4F4D\u7F6E\u8FD0\u884C a.js\uFF0C\u4F1A\u53D1\u73B0\u6210\u529F\u8F93\u51FA\u4E0D\u62A5\u9519\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u4E0D\u52A0\u4F4D\u7F6E\u8FD0\u884C a.js</span>
PS D:<span class="token punctuation">\\</span>node<span class="token punctuation">\\</span>test<span class="token operator">&gt;</span> <span class="token function">node</span> a.js
<span class="token comment"># \u8F93\u51FA</span>
This is b
const fs <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>

// \u5C06\u4F1A\u8F93\u51FA <span class="token string">&quot;This is b&quot;</span>
const b <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">&#39;./b&#39;</span><span class="token punctuation">)</span>

fs.readFile<span class="token punctuation">(</span><span class="token string">&#39;./a.js&#39;</span>,function<span class="token punctuation">(</span>err, data<span class="token punctuation">)</span><span class="token punctuation">{</span>
  if<span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console.log<span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console.log<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u52A0\u4F4D\u7F6E\u8FD0\u884C a.js\uFF0C\u6A21\u5757\u5BFC\u5165\u6210\u529F\uFF0C\u4F46\u6587\u4EF6\u8BFB\u5165\u4E0D\u6210\u529F\uFF0C\u62A5\u9519\u539F\u56E0\u662F\u65E0\u6CD5\u6253\u5F00 <code>D:\\node\\a.js</code> \uFF0C\u5F88\u660E\u663E\u662F\u8BFB\u6587\u4EF6\u7684\u65F6\u5019\u4EE5\u5F53\u524D Node \u547D\u4EE4\u884C\u4F5C\u4E3A\u57FA\u51C6\u4F4D\u7F6E\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u4E0D\u52A0\u4F4D\u7F6E\u8FD0\u884C a.js</span>
PS D:<span class="token punctuation">\\</span>node<span class="token operator">&gt;</span> <span class="token function">node</span> .<span class="token punctuation">\\</span>test<span class="token punctuation">\\</span>a.js
<span class="token comment"># \u8F93\u51FA</span>
\u6267\u884C\u4E86b.js
<span class="token punctuation">[</span>Error: ENOENT: no such <span class="token function">file</span> or directory, <span class="token function">open</span> <span class="token string">&#39;D:\\node\\a.js&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  errno: -4058,
  code: <span class="token string">&#39;ENOENT&#39;</span>,
  syscall: <span class="token string">&#39;open&#39;</span>,
  path: <span class="token string">&#39;D:\\\\\u5386\u53F2\u5B66\u4E60\\\\\u67702020-06\u7B14\u8BB0\\\\\u7B14\u8BB0\\\\html5\\\\node\\\\\u7B2C\u4E00\u5929\\\\a.js&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-2-\u89E3\u51B3\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#_5-2-\u89E3\u51B3\u65B9\u6848" aria-hidden="true">#</a> 5.2 \u89E3\u51B3\u65B9\u6848</h3><p>Node \u9664\u4E86\u63D0\u4F9B <code>require</code> \u548C <code>exports</code> \u4E4B\u5916\uFF0C\u8FD8\u63D0\u4F9B\u4E86\u4E24\u4E2A\u6709\u7528\u7684\u53D8\u91CF\u3002</p><ul><li><code>__dirname</code> \uFF1A<strong>\u52A8\u6001\u83B7\u53D6</strong> \u5230\u5F53\u524D\u6587\u4EF6 <strong>\u6240\u5C5E\u76EE\u5F55\u7684\u7EDD\u5BF9\u8DEF\u5F84</strong></li><li><code>__filename</code>\uFF1A\u52A8\u6001\u83B7\u53D6 \u5230 <strong>\u5F53\u524D\u6587\u4EF6\u7684\u7EDD\u5BF9\u8DEF\u5F84</strong>\u3002</li></ul><p>\u4E0A\u9762\u7684\u4EE3\u7801\u6539\u5199\u4E3A\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// \u8FD9\u91CC\u4E0D\u7528\u6539</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./b&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// \u5F15\u7528path\u6A21\u5757</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u4F7F\u7528__filename</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>__filename<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7136\u540E\u5F00\u653E\u6307\u5B9A\u76EE\u5F55\u7684\u4EE3\u7801\u4E2D\uFF0C\u53EF\u4EE5\u4FEE\u6539\u6210</p><p><code>app.use(&#39;/public/&#39;, express.static( path.join(__dirname + &#39;./public/&#39;)) )</code></p><h2 id="\u516D\u3001arttemplate\u6A21\u677F\u7EE7\u627F" tabindex="-1"><a class="header-anchor" href="#\u516D\u3001arttemplate\u6A21\u677F\u7EE7\u627F" aria-hidden="true">#</a> \u516D\u3001artTemplate\u6A21\u677F\u7EE7\u627F</h2><p>art-template \u63D0\u4F9B\u4E86\u6A21\u677F\u7EE7\u627F\u548C\u5B50\u6A21\u677F\u3002</p><ul><li><p>\u6A21\u677F\u7EE7\u627F\uFF08Template inheritance\uFF09\uFF1A\u7B80\u5355\u8BF4\u5C31\u662F\u5B9A\u4E49\u7236\u6A21\u677F\uFF0C\u7236\u6A21\u677F\u91CC\u5B9A\u4E49\u4E00\u4E2A\u53EF\u4EE5\u91CD\u5199\u7684\u5185\u5BB9\uFF0C\u7136\u540E\u5B50\u6A21\u677F\u9009\u62E9\u53EF\u4EE5\u91CD\u5199\u6216\u8005\u76F4\u63A5\u4F7F\u7528\u7236\u7C7B\u7684\u5185\u5BB9\u3002\u5C31\u50CF Java \u91CC\u7684\u65B9\u6CD5\u91CD\u5199\u3010@Override\u3011\u3002</p></li><li><p>\u5B50\u6A21\u677F\uFF1A\u7B80\u5355\u6765\u8BF4\u5C31\u662F\u5B9A\u4E49\u4E00\u4E2A\u6A21\u5757\uFF0C\u7136\u540E\u5176\u4ED6\u53EF\u4EE5\u5305\u542B\u4ED6\u3002\u4F8B\u5982\u5305\u542B\u5934\u90E8\u72B6\u6001\u680F\u3002</p></li><li><p>\u4E24\u4E2A\u90FD\u6709\u76F8\u4F3C\u4E4B\u5904\uFF0C\u5173\u952E\u5728\u4E8E\u4F7F\u7528\u573A\u666F\u7684\u4E0D\u540C\u3002</p></li></ul><h3 id="_6-1-\u5B50\u6A21\u677F" tabindex="-1"><a class="header-anchor" href="#_6-1-\u5B50\u6A21\u677F" aria-hidden="true">#</a> 6.1 \u5B50\u6A21\u677F</h3><p>\u5B50\u6A21\u677F\u662F\u7528\u6765\u88AB\u5305\u542B\u7684\uFF0C\u4E0E\u7236\u6A21\u5757\u4E00\u8D77\u7EC4\u6210\u4E00\u4E2A\u9875\u9762\uFF0C\u6709\u70B9\u50CF\u673A\u5668\u7684\u96F6\u4EF6\u3002</p><p>\u4F8B\u5982\u4E0B\u9762\u6709\u4E24\u6BB5\u4EE3\u7801\uFF0C\u7528\u6765\u8868\u793A\u5934\u90E8\u548C\u5C3E\u90E8\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- header.html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>\u8FD9\u662F\u5934\u90E8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- footer.html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>\u8FD9\u662F\u5C3E\u90E8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7136\u540E\u5982\u679C\u60F3\u4F7F\u7528\u8FD9\u4E24\u6BB5\u4EE3\u7801\uFF0C\u5728\u6307\u5B9A\u4F4D\u7F6E\u76F4\u63A5\u4F7F\u7528\u7279\u5B9A\u8BED\u6CD5\u5373\u53EF\u3002</p><p>\u4E24\u4E2A\u5927\u62EC\u53F7\uFF0C\u7136\u540E\u91CC\u9762 <code>include &#39;\u5305\u542B\u7684\u6587\u4EF6\u540D&#39;</code>\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  {{include &#39;./header.html&#39;}}

  \u8FD9\u662F\u4E2D\u95F4\u5185\u5BB9

  {{include &#39;./footer.html&#39;}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-2-\u6A21\u677F\u7EE7\u627F" tabindex="-1"><a class="header-anchor" href="#_6-2-\u6A21\u677F\u7EE7\u627F" aria-hidden="true">#</a> 6.2 \u6A21\u677F\u7EE7\u627F</h3><p>\u6A21\u677F\u7EE7\u627F\u6CE8\u91CD\u4E8E\u5728\u7236\u6A21\u677F\u4E0A\u6316\u5751\uFF0C\u5C31\u50CF Java \u91CC\u7684\u62BD\u8C61\u7C7B\uFF0C\u6316\u7684\u5751\u8D8A\u591A\uFF0C\u5B50\u7C7B\u81EA\u5B9A\u4E49\u7279\u6027\u5C31\u8D8A\u5F3A\u3002</p><p>\u4F8B\u5982\u4E0B\u9762\u7684\u4EE3\u7801\u4E2D\uFF0C\u6316\u4E86\u4E24\u4E2A\u5751\uFF0C\u4E00\u4E2A\u7528\u4E8E\u586B\u5199 style \u6807\u7B7E\uFF0C\u4E00\u4E2A\u7528\u4E8E\u586B\u5199\u5185\u5BB9\u90E8\u5206\u3002\u5982\u679C\u5B50\u6A21\u677F\u6CA1\u6709\u53BB\u586B\u5751\uFF0C\u53EF\u4EE5\u6307\u5B9A\u9ED8\u8BA4\u503C\uFF0C\u5C31\u50CF Java \u91CC\u7684\u666E\u901A\u65B9\u6CD5\u7EE7\u627F\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    {{ block &#39;style&#39; }}
    {{ /block}}

    {{ block &#39;content&#39; }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>\u8FD9\u662F\u9ED8\u8BA4\u5185\u5BB9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	{{ /block}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7136\u540E\u5C31\u5F00\u59CB\u770B\u5B50\u6A21\u677F\u7684\u8868\u6F14\u4E86\u3002</p><ul><li>\u7B2C 1 \u884C\u3010\u5FC5\u5199\u3011\uFF1A\u6307\u5B9A\u4F60\u7EE7\u627F\u7684\u7236\u6A21\u7248\u3002</li><li>\u540E\u9762\u5F00\u59CB\u586B\u5751\uFF0C\u8FD9\u91CC\u6307\u5B9A\u4E86 p \u6807\u7B7E\u7684\u5B57\u4F53\u989C\u8272\u548C\u4E3B\u4F53\u5185\u5BB9\u3002</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>{{extend &#39;./index.html&#39;}}
{{ block &#39;style&#39; }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
   <span class="token selector">p</span> <span class="token punctuation">{</span>
   <span class="token property">color</span><span class="token punctuation">:</span> #bfc<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
{{/block}}

{{ block &#39;content&#39; }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u8FD9\u662F\u5B50\u7C7B\u5185\u5BB9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
{{ /block}}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\u610F\u8FD9\u91CC Node \u6E32\u67D3\u7684\u662F\u5B50\u6A21\u677F\uFF0C\u800C\u4E0D\u662F 6.1 \u7684\u7236\u6A21\u677F\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;children.html&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,38);function Z(nn,sn){const a=i("ExternalLinkIcon");return o(),c("div",null,[u,n("p",null,[r,n("a",d,[k,t(a)])]),v,n("p",null,[m,n("a",b,[g,t(a)])]),h,f,n("p",null,[y,n("a",_,[x,t(a)])]),w,n("ol",j,[n("li",null,[q,n("a",S,[N,t(a)]),O])]),D,n("p",null,[E,n("a",T,[I,t(a)])]),M,n("p",null,[F,$,B,A,J,P,C,L,R,n("a",G,[U,t(a)])]),H,n("p",null,[n("a",V,[z,t(a)])]),Q,n("p",null,[W,n("a",K,[X,t(a)])]),Y])}var en=p(l,[["render",Z],["__file","Node-\u4E2D\u4E4B\u6846\u67B6\u4F7F\u7528.html.vue"]]);export{en as default};
